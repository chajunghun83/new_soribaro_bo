<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÌÅ¥Î¶ΩÎç∞Ïä§ÌÅ¨ ÏûëÏóÖ ÏÉÅÏÑ∏ - ÏÜåÎ¶¨Î∞îÎ°ú ÏûëÏóÖÏûê</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            padding: 30px;
            min-height: 100vh;
        }
        
        .page-title {
            font-size: 28px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .back-button {
            background: #6b7280;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .back-button:hover {
            background: #4b5563;
        }
        
        /* Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà */
        .detail-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        /* ÏûëÏóÖÌòÑÌô© ÏÑπÏÖò */
        .work-status-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            height: 650px;
            overflow-y: hidden;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #374151;
            padding: 20px 24px;
            border-bottom: 1px solid #e5e7eb;
            background: #f8f9fa;
            border-radius: 12px 12px 0 0;
        }
        
        .work-details {
            padding: 24px;
        }
        
        .detail-grid {
            display: grid;
            grid-template-columns: 120px 1fr 120px 1fr;
            gap: 16px 20px;
            margin-bottom: 24px;
        }
        
        .detail-label {
            font-weight: 500;
            color: #6b7280;
            font-size: 14px;
        }
        
        .detail-value {
            color: #374151;
            font-size: 14px;
            padding: 8px 12px;
            background: #f3f4f6;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }
        
        .detail-description {
            grid-column: 1 / -1;
            margin-top: 10px;
        }
        
        .detail-description .detail-label {
            margin-bottom: 8px;
        }
        
        .description-content {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 16px;
            min-height: 120px;
            color: #374151;
            font-size: 14px;
            line-height: 1.6;
        }

        .reference-link-box {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 16px;
            min-height: 38px;
            color: #374151;
            font-size: 14px;
            line-height: 1.6;
            word-break: break-all;
            overflow-wrap: break-word;
        }
        
        /* ÏÉÅÎã¥Ïûê ÏûëÏÑ± Ï†ïÎ≥¥ ÏÑπÏÖò */
        .consultant-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            height: 650px;
            overflow-y: auto;
        }
        
        .consultant-form {
            padding: 24px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 120px 1fr 120px 1fr;
            gap: 16px 20px;
            margin-bottom: 24px;
        }
        
        .form-group {
            display: contents;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
            margin-top: 10px;
        }
        
        .form-label {
            font-weight: 500;
            color: #6b7280;
            font-size: 14px;
        }
        
        .form-input,
        .form-select {
            color: #374151;
            font-size: 14px;
            padding: 8px 12px;
            background: #f3f4f6;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }
        
        .form-group.full-width .form-label {
            margin-bottom: 8px;
        }
        
        .form-textarea {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 16px;
            min-height: 120px;
            color: #374151;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
        }
        
        /* ÌååÏùº Î¶¨Ïä§Ìä∏ ÏòÅÏó≠ */
        .file-list-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            padding: 20px;
            margin-bottom: 20px;
        }

        .file-list-container {
            margin-top: 15px;
        }

        .file-list-table {
            width: 100%;
            border-collapse: collapse;
        }

        .file-list-table th,
        .file-list-table td {
            padding: 6px 8px;
            text-align: center;
            border-bottom: 1px solid #e5e7eb;
        }

        .file-list-table th {
            background-color: #f9fafb;
            font-weight: 600;
            color: #374151;
        }

        .file-list-table td {
            text-align: center;
            font-size: 13px;
        }

        .file-list-actions {
            margin-top: 15px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 15px;
        }

        .btn-download {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            transition: background-color 0.2s;
            white-space: nowrap;
        }

        .btn-download:hover {
            background-color: #2563eb;
        }

        .btn-download-all {
            background-color: #059669;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: background-color 0.2s;
        }

        .btn-download-all:hover {
            background-color: #047857;
        }

        .icon-download::before {
            content: "‚¨áÔ∏è";
        }
        
        /* URL ÏÑπÏÖò Ïä§ÌÉÄÏùº */
        .url-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            padding: 15px 20px;
            margin-bottom: 25px;
        }

        .url-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .url-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
            flex: 1;
        }

        .url-input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: #f9fafb;
            color: #374151;
            transition: border-color 0.2s, box-shadow 0.2s;
            cursor: default;
        }

        .url-input[readonly] {
            background: #f9fafb;
            color: #374151;
            cursor: default;
        }

        .clipboard-btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            transition: background-color 0.2s;
        }

        .clipboard-btn:hover {
            background: #2563eb;
        }
        
        /* ÌïòÎã® Î≤ÑÌäº ÏòÅÏó≠ */
        .bottom-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 30px;
            padding: 20px 0;
        }

        .btn-cancel {
            background-color: #ef4444;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.2s;
            margin-right: 10px;
        }

        .btn-cancel:hover {
            background-color: #dc2626;
        }

        .btn-list {
            background-color: #6b7280;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .btn-list:hover {
            background-color: #4b5563;
        }
    </style>
</head>
<body>
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1 class="page-title" style="margin-bottom: 0;">
            <span>üé¨</span>
            ÌÅ¥Î¶ΩÎç∞Ïä§ÌÅ¨ ÏûëÏóÖ ÏÉÅÏÑ∏
        </h1>
        <button class="back-button" onclick="goBack()" style="margin-bottom: 0;">
            <span>‚Üê</span>
            Î™©Î°ùÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
        </button>
    </div>
    
    <!-- ÏùòÎ¢∞Ï†ïÎ≥¥ ÏÑπÏÖò -->
    <div class="work-status-section" style="grid-column: 1 / -1; height: auto; margin-bottom: 30px;">
        <div class="section-title">ÏùòÎ¢∞Ï†ïÎ≥¥</div>
        <div class="work-details">
            <!-- Ï≤´ Î≤àÏß∏ Ìñâ: ÏùòÎ¢∞Î™Ö, ÏÑúÎ∏åÌÉÄÏù¥ÌãÄ, Ìé∏Ïßë Î∂ÑÏïº -->
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">ÏùòÎ¢∞Î™Ö</div>
                    <div class="detail-value" id="requestTitle">Í∏∞ÏóÖ ÌôçÎ≥¥ÏòÅÏÉÅ Ï†úÏûë</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">ÏÑúÎ∏åÌÉÄÏù¥ÌãÄ</div>
                    <div class="detail-value" id="consultantSubTitle">2025ÎÖÑ Ïã†Ï†úÌíà Îü∞Ïπ≠ ÌôçÎ≥¥ÏòÅÏÉÅ</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">Ìé∏Ïßë Î∂ÑÏïº</div>
                    <div class="detail-value" id="editField">Î°±Ìèº</div>
                </div>
            </div>
            
            <!-- Îëê Î≤àÏß∏ Ìñâ: Ï†úÏûë ÏΩòÌÖêÏ∏†, ÏõêÎ≥∏ Îü¨Îãù ÌÉÄÏûÑ, Ïπ¥Î©îÎùº ÎåÄÏàò -->
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">Ï†úÏûë ÏΩòÌÖêÏ∏†</div>
                    <div class="detail-value" id="contentType">ÍµêÏú° Î∞è Ï†ïÎ≥¥</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">ÏõêÎ≥∏ Îü¨Îãù ÌÉÄÏûÑ</div>
                    <div class="detail-value" id="originalRuntime">60Î∂Ñ</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">Ïπ¥Î©îÎùº ÎåÄÏàò</div>
                    <div class="detail-value" id="cameraCount">2ÎåÄ</div>
                </div>
            </div>
            
            <!-- ÏÑ∏ Î≤àÏß∏ Ìñâ: Ìé∏Ïßë Îì±Í∏â, Ïù∏Ìä∏Î°ú Ïú†/Î¨¥, ÏïÑÏõÉÌä∏Î°ú Ïú†/Î¨¥ -->
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">Ìé∏Ïßë Îì±Í∏â</div>
                    <div class="detail-value" id="editGrade">Ïä§ÌÉ†Îã§Îìú Ìé∏Ïßë</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">Ïù∏Ìä∏Î°ú Ïú†/Î¨¥</div>
                    <div class="detail-value" id="introYn">Ïú†</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">ÏïÑÏõÉÌä∏Î°ú Ïú†/Î¨¥</div>
                    <div class="detail-value" id="outroYn">Ïú†</div>
                </div>
            </div>
            
            <!-- ÎÑ§ Î≤àÏß∏ Ìñâ: Ï±ÑÎÑê Î°úÍ≥† Ïú†/Î¨¥, Ïç∏ÎÑ§Ïùº Ï¢ÖÎ•ò, ÏµúÏ¢ÖÎ≥∏ ÏòàÏÉÅ ÏãúÍ∞Ñ -->
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">Ï±ÑÎÑê Î°úÍ≥† Ïú†/Î¨¥</div>
                    <div class="detail-value" id="channelLogoYn">Ïú†</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">Ïç∏ÎÑ§Ïùº Ï¢ÖÎ•ò</div>
                    <div class="detail-value" id="thumbnailType">ÎîîÏûêÏù∏ Ïç∏ÎÑ§Ïùº</div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 6px;">
                    <div class="detail-label">ÏµúÏ¢ÖÎ≥∏ ÏòàÏÉÅ ÏãúÍ∞Ñ</div>
                    <div class="detail-value" id="finalExpectedTime">45Î∂Ñ</div>
                </div>
            </div>
            
            <!-- Ï∞∏Í≥† ÏòÅÏÉÅ ÎßÅÌÅ¨ -->
            <div class="detail-description">
                <div class="detail-label">Ï∞∏Í≥† ÏòÅÏÉÅ ÎßÅÌÅ¨</div>
                <div class="reference-link-box" id="referenceLink">-</div>
            </div>
            
            <!-- Í≥†Í∞ù ÏöîÏ≤≠ ÏÇ¨Ìï≠ -->
            <div class="detail-description">
                <div class="detail-label">Í≥†Í∞ù ÏöîÏ≤≠ ÏÇ¨Ìï≠</div>
                <div class="description-content" id="customerRequest">
                    Í∏∞ÏóÖ ÌôçÎ≥¥Ïö©ÏúºÎ°ú Ï†ÑÎ¨∏Ï†ÅÏù¥Í≥† ÍπîÎÅîÌïú ÎäêÎÇåÏúºÎ°ú Ìé∏ÏßëÌï¥Ï£ºÏÑ∏Ïöî. 
                    
Ï£ºÏöî ÏöîÏ≤≠ÏÇ¨Ìï≠:
- Î∏åÎûúÎìú Ïª¨Îü¨(ÌååÎûÄÏÉâ Í≥ÑÏó¥) ÌôúÏö©
- ÍπîÎÅîÌïòÍ≥† Î™®ÎçòÌïú ÎäêÎÇåÏùò Ìé∏Ïßë
- ÌÖçÏä§Ìä∏ Ïï†ÎãàÎ©îÏù¥ÏÖò Ìè¨Ìï®
- Î∞∞Í≤ΩÏùåÏïÖÏùÄ Ï∞®Î∂ÑÌïòÍ≥† Ï†ÑÎ¨∏Ï†ÅÏù∏ ÎäêÎÇå
- Î°úÍ≥† Ïï†ÎãàÎ©îÏù¥ÏÖò Ïù∏Ìä∏Î°ú/ÏïÑÏõÉÌä∏Î°ú ÌïÑÏàò
- Ïç∏ÎÑ§ÏùºÏùÄ Î©îÏù∏ Ï†úÌíà Ïù¥ÎØ∏ÏßÄ ÌôúÏö©

Ìé∏Ïßë Ïä§ÌÉÄÏùº:
- Ïª∑ Ìé∏Ïßë ÏúÑÏ£ºÎ°ú ÏûêÏó∞Ïä§ÎüΩÍ≤å
- Ìä∏ÎûúÏßÄÏÖòÏùÄ Ïã¨ÌîåÌïòÍ≤å
- ÏûêÎßâÏùÄ ÍπîÎÅîÌïú Ìè∞Ìä∏ ÏÇ¨Ïö©
                </div>
            </div>
        </div>
    </div>
    
    <!-- ÌååÏùº Î¶¨Ïä§Ìä∏ -->
    <div class="file-list-section">
        <h3 class="section-title">ÌååÏùº Î¶¨Ïä§Ìä∏</h3>
        <div class="file-list-container">
            <table class="file-list-table">
                <thead>
                    <tr>
                        <th width="80">No.</th>
                        <th>ÌååÏùºÎ™Ö</th>
                        <th width="150">Îã§Ïö¥Î°úÎìú</th>
                    </tr>
                </thead>
                <tbody id="fileListBody">
                    <tr>
                        <td>01</td>
                        <td>ÏûëÏóÖÏôÑÎ£å_ÏòÅÏÉÅ_ÏµúÏ¢ÖÎ≥∏.mp4</td>
                        <td>
                            <button class="btn-download" onclick="downloadFile('ÏûëÏóÖÏôÑÎ£å_ÏòÅÏÉÅ_ÏµúÏ¢ÖÎ≥∏.mp4')">
                                <i class="icon-download"></i> Îã§Ïö¥Î°úÎìú
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>02</td>
                        <td>Ìé∏Ïßë_ÏòÅÏÉÅ_1Ï∞®Î≥∏.mp4</td>
                        <td>
                            <button class="btn-download" onclick="downloadFile('Ìé∏Ïßë_ÏòÅÏÉÅ_1Ï∞®Î≥∏.mp4')">
                                <i class="icon-download"></i> Îã§Ïö¥Î°úÎìú
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>03</td>
                        <td>Ïç∏ÎÑ§Ïùº_Ïù¥ÎØ∏ÏßÄ.jpg</td>
                        <td>
                            <button class="btn-download" onclick="downloadFile('Ïç∏ÎÑ§Ïùº_Ïù¥ÎØ∏ÏßÄ.jpg')">
                                <i class="icon-download"></i> Îã§Ïö¥Î°úÎìú
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>04</td>
                        <td>ÏûêÎßâ_ÌååÏùº.srt</td>
                        <td>
                            <button class="btn-download" onclick="downloadFile('ÏûêÎßâ_ÌååÏùº.srt')">
                                <i class="icon-download"></i> Îã§Ïö¥Î°úÎìú
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="file-list-actions">
                <button class="btn-download-all" onclick="downloadAllFiles()">
                    <i class="icon-download"></i> Î™®Îëê Îã§Ïö¥Î°úÎìú
                </button>
            </div>
        </div>
    </div>

    <!-- URL ÏÑπÏÖò -->
    <div class="url-section">
        <div class="url-container">
            <span style="margin: 0; font-size: 16px; font-weight: 600; color: #374151;">URL</span>
            <div class="url-input-group">
                <input type="url" id="urlInput" value="https://clipdesk.soribaro.co.kr/project/CLP-2025-001/detail" readonly class="url-input">
                <button type="button" onclick="copyToClipboard()" class="clipboard-btn">
                    ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨
                </button>
            </div>
        </div>
    </div>

    <!-- ÏûëÏóÖÍ¥ÄÎ¶¨ ÏÑπÏÖò -->
    <div style="background: white; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border: 1px solid #e5e7eb; padding: 25px; margin-bottom: 30px;">
        <h2 style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px; color: #1f2937; font-size: 18px; font-weight: 600;">
            <span>üîß</span>
            ÏûëÏóÖÍ¥ÄÎ¶¨
        </h2>
        
            <!-- Í∞ÄÌé∏Ïßë ÏÇ∞Ï∂úÎ¨º -->
            <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; margin-bottom: 12px; background: #f9fafb;">
                <label style="display: block; margin-bottom: 6px; font-weight: 500; color: #374151; font-size: 14px;">Í∞ÄÌé∏Ïßë ÏÇ∞Ï∂úÎ¨º</label>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <select id="rough-edit-0" style="flex: 1; max-width: 60%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; font-weight: 500; background: white;" onchange="updateWorkStatus('Í∞ÄÌé∏Ïßë', 'rough-edit-0')">
                        <option value="ÏûëÏóÖÎåÄÍ∏∞">ÏûëÏóÖÎåÄÍ∏∞</option>
                        <option value="ÏûëÏóÖÏãúÏûë">ÏûëÏóÖÏãúÏûë</option>
                        <option value="Ï¥àÏïàÏôÑÎ£å" selected>Ï¥àÏïàÏôÑÎ£å</option>
                        <option value="ÏàòÏ†ïÏ§ë">ÏàòÏ†ïÏ§ë</option>
                        <option value="ÏàòÏ†ïÏôÑÎ£å">ÏàòÏ†ïÏôÑÎ£å</option>
                        <option value="ÏµúÏ¢ÖÏôÑÎ£å">ÏµúÏ¢ÖÏôÑÎ£å</option>
                    </select>
                    <div id="rough-edit-buttons-0">
                        <button onclick="handleRoughEditAction('0', 'upload')" style="background: #10b981; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">ÏóÖÎ°úÎìú</button>
                        <button onclick="handleRoughEditAction('0', 'view')" style="background: #ef4444; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">Î∑∞Ïñ¥</button>
                        <button onclick="handleRoughEditAction('0', 'delete')" style="background: #6b7280; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap;">ÏÇ≠Ï†ú</button>
                    </div>
                </div>
            </div>
            
            <!-- Î≥∏Ìé∏Ïßë ÏÇ∞Ï∂úÎ¨º -->
            <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; margin-bottom: 12px; background: #f9fafb;">
                <label style="display: block; margin-bottom: 6px; font-weight: 500; color: #374151; font-size: 14px;">Î≥∏Ìé∏Ïßë ÏÇ∞Ï∂úÎ¨º</label>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <select id="final-edit-0" style="flex: 1; max-width: 60%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; font-weight: 500; background: white;" onchange="updateWorkStatus('Î≥∏Ìé∏Ïßë', 'final-edit-0')">
                        <option value="ÏûëÏóÖÎåÄÍ∏∞" selected>ÏûëÏóÖÎåÄÍ∏∞</option>
                        <option value="ÏûëÏóÖÏãúÏûë">ÏûëÏóÖÏãúÏûë</option>
                        <option value="Ï¥àÏïàÏôÑÎ£å">Ï¥àÏïàÏôÑÎ£å</option>
                        <option value="ÏàòÏ†ïÏ§ë">ÏàòÏ†ïÏ§ë</option>
                        <option value="ÏàòÏ†ïÏôÑÎ£å">ÏàòÏ†ïÏôÑÎ£å</option>
                        <option value="ÏµúÏ¢ÖÏôÑÎ£å">ÏµúÏ¢ÖÏôÑÎ£å</option>
                    </select>
                    <div id="final-edit-buttons-0">
                        <button onclick="handleFinalEditAction('0', 'confirm')" style="background: #3b82f6; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">ÌôïÏù∏</button>
                        <button onclick="handleFinalEditAction('0', 'revert')" style="background: #ef4444; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap;">ÎêòÎèåÎ¶¨Í∏∞</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ÌïòÎã® Î≤ÑÌäº ÏòÅÏó≠ -->
    <div class="bottom-actions">
        <button class="btn-cancel" onclick="cancelWork()">ÏûëÏóÖÏ∑®ÏÜå</button>
        <button class="btn-list" onclick="goToList()">Î™©Î°ù</button>
    </div>

    <script>
        // URL ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞
        const urlParams = new URLSearchParams(window.location.search);
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÌååÎùºÎØ∏ÌÑ∞ Îç∞Ïù¥ÌÑ∞Î°ú Ìèº Ï±ÑÏö∞Í∏∞
        document.addEventListener('DOMContentLoaded', function() {
            // URL ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú
            const orderNumber = urlParams.get('orderNumber');
            const requestTitle = urlParams.get('requestTitle');
            const subTitle = urlParams.get('subTitle');
            const totalAmount = urlParams.get('totalAmount');
            const partialAmount = urlParams.get('partialAmount');
            const editor = urlParams.get('editor');
            const status = urlParams.get('status');
            const clientName = urlParams.get('clientName');
            const email = urlParams.get('email');
            const contact = urlParams.get('contact');
            const requestDate = urlParams.get('requestDate');
            const completeDate = urlParams.get('completeDate');
            const workTime = urlParams.get('workTime');
            
            // Í≥†Í∞ù/ÏùòÎ¢∞Ï†ïÎ≥¥ Îç∞Ïù¥ÌÑ∞ ÏÑ§Ï†ï
            if (orderNumber) document.getElementById('orderNumber').textContent = orderNumber;
            if (requestTitle) document.getElementById('requestTitle').textContent = requestTitle;
            if (clientName) document.getElementById('clientName').textContent = clientName;
            if (email) document.getElementById('email').textContent = email;
            if (contact) document.getElementById('contact').textContent = contact;
            if (requestDate) document.getElementById('requestDate').textContent = requestDate;
            if (status) document.getElementById('workStatus').textContent = status;
            
            // Ï∞∏Í≥† ÎßÅÌÅ¨ ÏÑ§Ï†ï
            document.getElementById('referenceLink').textContent = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ (Ï∞∏Í≥†Ìï† Ìé∏Ïßë Ïä§ÌÉÄÏùº ÏòÅÏÉÅ)';
            
            // ÏµúÏ¢ÖÍ≤∞Ï†úÍ∏àÏï° ÏÑ§Ï†ï
            if (totalAmount) {
                document.getElementById('finalPaymentAmount').textContent = totalAmount + 'Ïõê';
            } else {
                document.getElementById('finalPaymentAmount').textContent = '450,000Ïõê';
            }
            
            // URL ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞Î°ú ÏóÖÎç∞Ïù¥Ìä∏
            if (requestTitle) document.getElementById('requestTitle').textContent = requestTitle;
            if (subTitle) document.getElementById('consultantSubTitle').textContent = subTitle;
            
            console.log('ÌÅ¥Î¶ΩÎç∞Ïä§ÌÅ¨ ÏûëÏóÖ ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ ÌååÎùºÎØ∏ÌÑ∞:', {
                orderNumber, requestTitle, subTitle, totalAmount, partialAmount, editor, status,
                clientName, email, contact, requestDate, completeDate, workTime
            });
        });
        

        // Í∞úÎ≥Ñ ÌååÏùº Îã§Ïö¥Î°úÎìú
        function downloadFile(filename) {
            console.log('Îã§Ïö¥Î°úÎìú ÌååÏùº:', filename);
            alert(filename + ' ÌååÏùº Îã§Ïö¥Î°úÎìúÎ•º ÏãúÏûëÌï©ÎãàÎã§.');
        }

        // Î™®Îì† ÌååÏùº Îã§Ïö¥Î°úÎìú
        function downloadAllFiles() {
            const fileList = [
                'ÏûëÏóÖÏôÑÎ£å_ÏòÅÏÉÅ_ÏµúÏ¢ÖÎ≥∏.mp4',
                'Ìé∏Ïßë_ÏòÅÏÉÅ_1Ï∞®Î≥∏.mp4',
                'Ïç∏ÎÑ§Ïùº_Ïù¥ÎØ∏ÏßÄ.jpg',
                'ÏûêÎßâ_ÌååÏùº.srt'
            ];
            
            console.log('Ï†ÑÏ≤¥ ÌååÏùº Îã§Ïö¥Î°úÎìú:', fileList);
            alert('Ï†ÑÏ≤¥ ÌååÏùº (' + fileList.length + 'Í∞ú) Îã§Ïö¥Î°úÎìúÎ•º ÏãúÏûëÌï©ÎãàÎã§.');
        }

        // ÏûëÏóÖÏ∑®ÏÜå Ìï®Ïàò
        function cancelWork() {
            if (confirm('ÏûëÏóÖÏùÑ Ï∑®ÏÜåÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\nÏ∑®ÏÜåÎêú ÏûëÏóÖÏùÄ Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.')) {
                alert('ÏûëÏóÖÏù¥ Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§.');
                goBack();
            }
        }

        // ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê URL Î≥µÏÇ¨ Ìï®Ïàò
        function copyToClipboard() {
            const urlInput = document.getElementById('urlInput');
            const url = urlInput.value;
            
            // ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨
            navigator.clipboard.writeText(url).then(() => {
                // ÏÑ±Í≥µ Ïãú Î≤ÑÌäº ÌÖçÏä§Ìä∏ ÏûÑÏãú Î≥ÄÍ≤Ω
                const button = document.querySelector('.clipboard-btn');
                const originalText = button.textContent;
                button.textContent = 'Î≥µÏÇ¨ÏôÑÎ£å!';
                button.style.background = '#10b981';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#3b82f6';
                }, 2000);
                
            }).catch(err => {
                // ÌÅ¥Î¶ΩÎ≥¥Îìú APIÍ∞Ä ÏßÄÏõêÎêòÏßÄ ÏïäÎäî Í≤ΩÏö∞ fallback
                try {
                    urlInput.select();
                    urlInput.setSelectionRange(0, 99999); // Î™®Î∞îÏùº ÏßÄÏõê
                    document.execCommand('copy');
                    alert('URLÏù¥ ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§.');
                } catch (fallbackErr) {
                    alert('ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\nURLÏùÑ ÏàòÎèôÏúºÎ°ú Î≥µÏÇ¨Ìï¥Ï£ºÏÑ∏Ïöî.');
                }
            });
        }

        // Î™©Î°ùÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞ Ìï®Ïàò
        function goToList() {
            try {
                if (window.parent && window.parent !== window && typeof window.parent.loadPage === 'function') {
                    window.parent.loadPage('pages/worker/clipdesk.html');
                    return;
                }
            } catch (e) {
                console.log('parent.loadPage Ïã§Ìå®:', e);
            }
            
            try {
                if (window.history.length > 1) {
                    window.history.back();
                    return;
                }
            } catch (e) {
                console.log('history.back() Ïã§Ìå®:', e);
            }
            
            try {
                window.location.href = 'clipdesk.html';
            } catch (e) {
                console.log('ÏßÅÏ†ë ÌéòÏù¥ÏßÄ Ïù¥Îèô Ïã§Ìå®:', e);
                alert('Ïù¥Ï†Ñ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞à Ïàò ÏóÜÏäµÎãàÎã§.');
            }
        }
        
        // Îí§Î°ú Í∞ÄÍ∏∞
        function goBack() {
            goToList();
        }



        // ÏûëÏóÖ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏ Ìï®Ïàò
        function updateWorkStatus(workerName, dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            if (dropdown) {
                const newStatus = dropdown.value;
                console.log(`${workerName}Ïùò ${dropdownId} ÏÉÅÌÉúÍ∞Ä ${newStatus}Î°ú Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§.`);
                
                // ÏõåÏª§ Ïù∏Îç±Ïä§ Ï∂îÏ∂ú
                const workerIndex = dropdownId.split('-').pop();
                
                // Í∞ÄÌé∏Ïßë ÎòêÎäî Î≥∏Ìé∏Ïßë Íµ¨Î∂Ñ
                if (dropdownId.includes('rough-edit')) {
                    updateRoughEditButtons(workerIndex, newStatus);
                } else if (dropdownId.includes('final-edit')) {
                    updateFinalEditButtons(workerIndex, newStatus);
                }
            }
        }

        // Í∞ÄÌé∏Ïßë Î≤ÑÌäº ÏóÖÎç∞Ïù¥Ìä∏
        function updateRoughEditButtons(workerIndex, status) {
            const buttonsContainer = document.getElementById(`rough-edit-buttons-${workerIndex}`);
            if (!buttonsContainer) return;

            let buttonsHTML = '';
            switch(status) {
                case 'ÏûëÏóÖÎåÄÍ∏∞':
                case 'ÏûëÏóÖÏãúÏûë':
                case 'ÏàòÏ†ïÏ§ë':
                case 'ÏµúÏ¢ÖÏôÑÎ£å':
                    buttonsHTML = '<button onclick="handleRoughEditAction(\'' + workerIndex + '\', \'confirm\')" style="background: #3b82f6; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap;">ÌôïÏù∏</button>';
                    break;
                case 'Ï¥àÏïàÏôÑÎ£å':
                case 'ÏàòÏ†ïÏôÑÎ£å':
                    buttonsHTML = '<button onclick="handleRoughEditAction(\'' + workerIndex + '\', \'upload\')" style="background: #10b981; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">ÏóÖÎ°úÎìú</button>' +
                                 '<button onclick="handleRoughEditAction(\'' + workerIndex + '\', \'view\')" style="background: #ef4444; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">Î∑∞Ïñ¥</button>' +
                                 '<button onclick="handleRoughEditAction(\'' + workerIndex + '\', \'delete\')" style="background: #6b7280; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap;">ÏÇ≠Ï†ú</button>';
                    break;
            }
            buttonsContainer.innerHTML = buttonsHTML;
        }

        // Î≥∏Ìé∏Ïßë Î≤ÑÌäº ÏóÖÎç∞Ïù¥Ìä∏
        function updateFinalEditButtons(workerIndex, status) {
            const buttonsContainer = document.getElementById(`final-edit-buttons-${workerIndex}`);
            if (!buttonsContainer) return;

            let buttonsHTML = '';
            switch(status) {
                case 'ÏûëÏóÖÎåÄÍ∏∞':
                    buttonsHTML = `
                        <button onclick="handleFinalEditAction('${workerIndex}', 'confirm')" style="background: #3b82f6; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">ÌôïÏù∏</button>
                        <button onclick="handleFinalEditAction('${workerIndex}', 'revert')" style="background: #ef4444; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap;">ÎêòÎèåÎ¶¨Í∏∞</button>
                    `;
                    break;
                case 'ÏûëÏóÖÏãúÏûë':
                case 'ÏàòÏ†ïÏ§ë':
                case 'ÏµúÏ¢ÖÏôÑÎ£å':
                    buttonsHTML = '<button onclick="handleFinalEditAction(\'' + workerIndex + '\', \'confirm\')" style="background: #3b82f6; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap;">ÌôïÏù∏</button>';
                    break;
                case 'Ï¥àÏïàÏôÑÎ£å':
                case 'ÏàòÏ†ïÏôÑÎ£å':
                    buttonsHTML = '<button onclick="handleFinalEditAction(\'' + workerIndex + '\', \'upload\')" style="background: #10b981; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">ÏóÖÎ°úÎìú</button>' +
                                 '<button onclick="handleFinalEditAction(\'' + workerIndex + '\', \'view\')" style="background: #ef4444; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap; margin-right: 4px;">Î∑∞Ïñ¥</button>' +
                                 '<button onclick="handleFinalEditAction(\'' + workerIndex + '\', \'delete\')" style="background: #6b7280; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 12px; cursor: pointer; font-weight: 500; white-space: nowrap;">ÏÇ≠Ï†ú</button>';
                    break;
            }
            buttonsContainer.innerHTML = buttonsHTML;
        }

        // Í∞ÄÌé∏Ïßë ÏÇ∞Ï∂úÎ¨º Ïï°ÏÖò Ï≤òÎ¶¨
        function handleRoughEditAction(workerIndex, actionType) {
            switch(actionType) {
                case 'confirm':
                    const roughStatus = document.getElementById(`rough-edit-${workerIndex}`).value;
                    alert(`Í∞ÄÌé∏Ïßë ${roughStatus} ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌñàÏäµÎãàÎã§.`);
                    break;
                case 'upload':
                    if (confirm('Í∞ÄÌé∏Ïßë ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                        alert('Í∞ÄÌé∏Ïßë ÌååÏùºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.');
                    }
                    break;
                case 'view':
                    alert('Í∞ÄÌé∏Ïßë ÌååÏùº Î∑∞Ïñ¥Î•º ÏóΩÎãàÎã§.\n\nÏã§Ï†ú ÌôòÍ≤ΩÏóêÏÑúÎäî ÌååÏùº Î∑∞Ïñ¥Í∞Ä ÏÉà Ï∞ΩÏóêÏÑú Ïó¥Î¶ΩÎãàÎã§.');
                    break;
                case 'delete':
                    if (confirm('Í∞ÄÌé∏Ïßë ÌååÏùºÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                        alert('Í∞ÄÌé∏Ïßë ÌååÏùºÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.');
                        // ÏÇ≠Ï†ú ÌõÑ ÏóÖÎ°úÎìú Î≤ÑÌäºÎßå ÎÇ®Í∏∞Í∏∞
                        updateRoughEditButtons(workerIndex, 'Ï¥àÏïàÏôÑÎ£å');
                    }
                    break;
            }
        }

        // Î≥∏Ìé∏Ïßë ÏÇ∞Ï∂úÎ¨º Ïï°ÏÖò Ï≤òÎ¶¨
        function handleFinalEditAction(workerIndex, actionType) {
            switch(actionType) {
                case 'confirm':
                    const finalStatus = document.getElementById(`final-edit-${workerIndex}`).value;
                    alert(`Î≥∏Ìé∏Ïßë ${finalStatus} ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌñàÏäµÎãàÎã§.`);
                    break;
                case 'revert':
                    if (confirm('Í∞ÄÌé∏Ïßë ÏôÑÎ£å ÏÉÅÌÉúÎ°ú ÎêòÎèåÎ¶¨ÏãúÍ≤†ÏäµÎãàÍπå?')) {
                        alert('Í∞ÄÌé∏Ïßë ÏôÑÎ£å ÏÉÅÌÉúÎ°ú ÎêòÎèåÎ†∏ÏäµÎãàÎã§.');
                        // Í∞ÄÌé∏Ïßë ÏÉÅÌÉúÎ°ú ÎêòÎèåÎ¶¨Í∏∞
                        document.getElementById(`rough-edit-${workerIndex}`).value = 'Ï¥àÏïàÏôÑÎ£å';
                        updateRoughEditButtons(workerIndex, 'Ï¥àÏïàÏôÑÎ£å');
                        document.getElementById(`final-edit-${workerIndex}`).value = 'ÏûëÏóÖÎåÄÍ∏∞';
                        updateFinalEditButtons(workerIndex, 'ÏûëÏóÖÎåÄÍ∏∞');
                    }
                    break;
                case 'upload':
                    if (confirm('Î≥∏Ìé∏Ïßë ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                        alert('Î≥∏Ìé∏Ïßë ÌååÏùºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.');
                    }
                    break;
                case 'view':
                    alert('Î≥∏Ìé∏Ïßë ÌååÏùº Î∑∞Ïñ¥Î•º ÏóΩÎãàÎã§.\n\nÏã§Ï†ú ÌôòÍ≤ΩÏóêÏÑúÎäî ÌååÏùº Î∑∞Ïñ¥Í∞Ä ÏÉà Ï∞ΩÏóêÏÑú Ïó¥Î¶ΩÎãàÎã§.');
                    break;
                case 'delete':
                    if (confirm('Î≥∏Ìé∏Ïßë ÌååÏùºÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                        alert('Î≥∏Ìé∏Ïßë ÌååÏùºÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.');
                        // ÏÇ≠Ï†ú ÌõÑ ÏóÖÎ°úÎìú Î≤ÑÌäºÎßå ÎÇ®Í∏∞Í∏∞
                        updateFinalEditButtons(workerIndex, 'Ï¥àÏïàÏôÑÎ£å');
                    }
                    break;
            }
        }
    </script>
</body>
</html>
