<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Details - Soribaro BO</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            padding: 30px;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .page-title {
            font-size: 28px;
            font-weight: 600;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .back-button {
            background: #6b7280;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: #4b5563;
        }
        
        .cancel-button {
            background: #dc2626;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .cancel-button:hover {
            background: #b91c1c;
        }
        
        /* ì •ë³´ ì„¹ì…˜ */
        .info-section {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .section-title {
            margin: 0 0 25px 0;
            color: #374151;
            font-size: 1.2rem;
            font-weight: 600;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: 140px 1fr;
            gap: 20px;
            align-items: start;
        }
        
        .info-grid-2col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }
        
        .info-label {
            font-weight: 500;
            color: #6b7280;
            font-size: 14px;
        }
        
        .info-value {
            color: #374151;
            font-size: 14px;
        }
        
        .info-value.highlight {
            font-weight: 600;
            color: #3b82f6;
        }
        
        .info-value.warning {
            color: #f59e0b;
            font-weight: 500;
        }
        
        .info-value.success {
            color: #10b981;
            font-weight: 500;
        }
        
        /* ì•¡ì…˜ ë²„íŠ¼ ì˜ì—­ */
        .action-section {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2563eb;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-success:hover {
            background: #059669;
        }
        
        .btn-warning {
            background: #f59e0b;
            color: white;
        }
        
        .btn-warning:hover {
            background: #d97706;
        }
        
        .btn-outline {
            background: white;
            color: #6b7280;
            border: 1px solid #d1d5db;
        }
        
        .btn-outline:hover {
            background: #f9fafb;
        }
        
        /* ìƒíƒœ ë°°ì§€ */
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }
        
        .status-waiting { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
        .status-inprogress { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }
        .status-completed { background: rgba(16, 185, 129, 0.1); color: #10b981; }
        .status-cancelled { background: rgba(239, 68, 68, 0.1); color: #ef4444; }
        
        /* íŒŒì¼ í”Œë ˆì´ì–´ ì˜ì—­ */
        .file-player-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .file-info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .file-name-info {
            color: #374151;
            font-weight: 500;
            font-size: 14px;
        }
        
        .download-buttons {
            display: flex;
            gap: 10px;
        }
        
        .download-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .download-btn:hover {
            background: #059669;
        }
        
        .download-btn.json {
            background: #3b82f6;
        }
        
        .download-btn.json:hover {
            background: #2563eb;
        }
        
        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .tab-container {
            margin-bottom: 30px;
        }
        
        .tab-nav {
            display: flex;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 20px;
        }
        
        .tab-button {
            background: none;
            border: none;
            padding: 15px 25px;
            font-size: 16px;
            font-weight: 500;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            position: relative;
        }
        
        .tab-button.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }
        
        .tab-button:hover:not(.active) {
            color: #374151;
            background: #f9fafb;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* ì‘ì—…ê´€ë¦¬ íƒ­ ìŠ¤íƒ€ì¼ */
        .work-management-section {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .work-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .assignment-section {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .worker-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            min-width: 150px;
        }
        
        .upload-area {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            background: #f9fafb;
            transition: all 0.2s;
        }
        
        .upload-area:hover {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }
        
        .upload-btn {
            background: #6b7280;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .upload-btn:hover {
            background: #4b5563;
        }
        
        .tool-btn {
            background: #f59e0b;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .tool-btn:hover {
            background: #d97706;
        }
        
        /* ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ ìŠ¤íƒ€ì¼ */
        .audio-player {
            width: 100%;
            height: 40px;
            background: white;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }
        
        .audio-player::-webkit-media-controls-panel {
            background-color: white;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            font-size: 12px;
            color: #6b7280;
        }
        
        /* ì •ë³´ ì„¹ì…˜ ê·¸ë¦¬ë“œ ë°°ì¹˜ */
        .info-sections-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        /* ì›ìŠ¤íŒŒì´ ëª¨ë‹¬ íŒì—… ìŠ¤íƒ€ì¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .modal-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            width: 90%;
            max-width: 1000px;
            max-height: 95vh;
            display: flex;
            flex-direction: column;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid #e2e8f0;
            background: #f8fafc;
            flex-shrink: 0;
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-close:hover {
            color: #374151;
            background: #e5e7eb;
            border-radius: 4px;
        }
        
        .modal-form {
            padding: 25px;
            overflow-y: auto;
            flex: 1;
            max-height: calc(95vh - 140px);
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            align-items: flex-start;
        }
        
        .form-group {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .form-group.full-width {
            flex: 1 1 100%;
        }
        
        .form-group.required {
            position: relative;
        }
        
        .form-group label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 8px;
            display: block;
        }
        
        .required-mark {
            color: #ef4444;
            font-weight: bold;
        }
        
        .form-group input,
        .form-group select {
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            color: #374151;
            outline: none;
            transition: border-color 0.2s;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .date-range {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .date-range input {
            flex: 1;
        }
        
        .date-range span {
            font-size: 14px;
            color: #6b7280;
        }
        
        /* í† ê¸€ ìŠ¤ìœ„ì¹˜ ìŠ¤íƒ€ì¼ */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }
        
        .toggle-input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-label {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .toggle-label:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        .toggle-input:checked + .toggle-label {
            background-color: #3b82f6;
        }
        
        .toggle-input:checked + .toggle-label:before {
            transform: translateX(20px);
        }
        
        /* ì‹¬í”Œ ì—ë””í„° ìŠ¤íƒ€ì¼ */
        .simple-editor-toolbar {
            display: flex;
            gap: 4px;
            padding: 8px 12px;
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-bottom: none;
            border-radius: 6px 6px 0 0;
        }
        
        .simple-editor-btn {
            padding: 4px 8px;
            background: none;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 13px;
            color: #6b7280;
            transition: all 0.2s;
            min-width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .simple-editor-btn:hover {
            background: #e5e7eb;
            color: #374151;
        }
        
        .simple-content-editor {
            min-height: 180px;
            padding: 16px;
            border: 1px solid #e5e7eb;
            border-radius: 0 0 6px 6px;
            outline: none;
            font-size: 14px;
            line-height: 1.6;
            color: #374151;
            background: white;
            transition: border-color 0.2s;
        }
        
        .simple-content-editor:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }
        
        .simple-content-editor:empty:before {
            content: attr(placeholder);
            color: #9ca3af;
            font-style: italic;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            padding: 15px 25px;
            border-top: 1px solid #e2e8f0;
            background: white;
            flex-shrink: 0;
            gap: 10px;
        }
        
        .btn-save {
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 12px 30px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .btn-save:hover {
            background: #2563eb;
        }
        
        /* íŒŒì¼ ì—…ë¡œë“œ ìŠ¤íƒ€ì¼ */
        .file-upload-area {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            background: #f9fafb;
            transition: all 0.3s ease;
            position: relative;
            height: 180px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .file-upload-area:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
        }
        
        .file-upload-area.dragover {
            border-color: #3b82f6;
            background: #dbeafe;
        }
        
        .file-upload-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            flex-shrink: 0;
            justify-content: center;
            height: 100%;
        }
        
        .file-upload-icon {
            font-size: 32px;
            opacity: 0.6;
        }
        
        .file-upload-text p {
            margin: 0;
            color: #374151;
            font-size: 14px;
        }
        
        .file-upload-subtext {
            font-size: 12px !important;
            color: #6b7280 !important;
        }
        
        .file-upload-btn {
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 13px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .file-upload-btn:hover {
            background: #2563eb;
        }
        
        /* ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° */
        .file-preview {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            flex-shrink: 0;
        }
        
        .file-preview img {
            max-width: 200px;
            max-height: 150px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .file-remove-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .file-remove-btn:hover {
            background: #dc2626;
        }
        
        /* ì²¨ë¶€íŒŒì¼ ë¦¬ìŠ¤íŠ¸ */
        .file-list {
            flex: 1;
            overflow-y: auto;
            padding-top: 15px;
        }
        
        .file-list:empty {
            display: none;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 12px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            margin-bottom: 8px;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .file-icon {
            font-size: 16px;
        }
        
        .file-name {
            font-size: 14px;
            color: #374151;
            font-weight: 500;
        }
        
        .file-size {
            font-size: 12px;
            color: #6b7280;
        }
        
        .file-remove {
            background: none;
            border: none;
            color: #ef4444;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .file-remove:hover {
            background: #fef2f2;
        }

         /* ìƒì„¸ë³´ê¸° íŒì—… ìŠ¤íƒ€ì¼ */
         .detail-modal {
             max-width: 1200px;
             width: 95%;
             height: 85vh;
             max-height: 85vh;
         }
         
         .detail-content {
             padding: 0;
             flex: 1;
             overflow: hidden;
             display: flex;
             flex-direction: column;
         }
         
         /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ - ëª¨ë‹¬ ì „ìš© */
         #detailModal .tab-navigation {
             display: flex;
             background: #f8fafc;
             border-bottom: 1px solid #e5e7eb;
             flex-shrink: 0;
         }
         
         #detailModal .tab-btn {
             flex: 1;
             padding: 15px 20px;
             background: none;
             border: none;
             cursor: pointer;
             font-size: 14px;
             font-weight: 500;
             color: #6b7280;
             transition: all 0.2s;
             border-bottom: 3px solid transparent;
         }
         
         #detailModal .tab-btn:hover {
             background: #f3f4f6;
             color: #374151;
         }
         
         #detailModal .tab-btn.active {
             background: white !important;
             color: #3b82f6 !important;
             border-bottom-color: #3b82f6 !important;
         }
         
         /* íƒ­ ì½˜í…ì¸  - ëª¨ë‹¬ ì „ìš© */
         #detailModal .tab-content {
             position: relative;
             flex: 1;
             overflow: hidden;
             display: block !important; /* ê¸°ì¡´ CSS ìš°ì„ ìˆœìœ„ë³´ë‹¤ ë†’ê²Œ */
         }
         
         #detailModal .tab-panel {
             display: none !important;
             padding: 0;
             height: 100%;
             overflow-y: auto;
             visibility: hidden;
             opacity: 0;
             transition: all 0.2s ease;
         }
         
         #detailModal .tab-panel.active {
             display: block !important;
             visibility: visible !important;
             opacity: 1 !important;
         }
         
         #detailModal .detail-section {
             background: #f8fafc !important;
             border-radius: 8px;
             padding: 25px;
             margin: 25px;
             margin-bottom: 20px;
             display: block !important;
         }
         
         #detailModal .detail-section:last-child {
             margin-bottom: 0;
         }
         
         .section-title {
             font-size: 16px;
             font-weight: 600;
             color: #1f2937;
             margin: 0 0 15px 0;
             display: flex;
             align-items: center;
             gap: 8px;
         }
         
         .section-header {
             display: flex;
             justify-content: space-between;
             align-items: center;
             margin-bottom: 15px;
         }
         
         #detailModal .info-grid {
             display: grid !important;
             grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
             gap: 15px;
             margin-bottom: 15px;
         }
         
         #detailModal .info-item {
             display: flex !important;
             flex-direction: column;
             gap: 5px;
         }
         
         #detailModal .info-item.full-width {
             grid-column: 1 / -1;
         }
         
         #detailModal .info-item label {
             font-size: 13px;
             font-weight: 500;
             color: #6b7280;
             text-transform: uppercase;
             letter-spacing: 0.5px;
             display: block !important;
         }
         
         #detailModal .info-item span,
         #detailModal .info-item h3 {
             font-size: 14px;
             color: #374151;
             margin: 0;
             padding: 8px 12px;
             background: white;
             border-radius: 6px;
             border: 1px solid #e5e7eb;
             display: block !important;
         }
         
         #detailModal .info-item h3 {
             font-size: 16px;
             font-weight: 600;
             color: #1f2937;
         }
         
         #detailModal .content-box {
             min-height: 80px;
             padding: 12px;
             background: white;
             border-radius: 6px;
             border: 1px solid #e5e7eb;
             line-height: 1.6;
             display: block !important;
         }
         
         #detailModal .thumbnail-preview {
             padding: 12px;
             background: white;
             border-radius: 6px;
             border: 1px solid #e5e7eb;
             min-height: 80px;
             display: flex !important;
             align-items: center;
             justify-content: center;
             color: #6b7280;
         }
         
         #detailModal .thumbnail-preview img {
             max-width: 100%;
             max-height: 120px;
             border-radius: 4px;
         }
         
         #detailModal .attachments-list {
             padding: 12px;
             background: white;
             border-radius: 6px;
             border: 1px solid #e5e7eb;
             min-height: 80px;
             display: block !important;
         }
         
         .attachment-item {
             display: flex;
             align-items: center;
             gap: 8px;
             padding: 6px 0;
             border-bottom: 1px solid #f3f4f6;
         }
         
         .attachment-item:last-child {
             border-bottom: none;
         }
         
         .attachment-item a {
             color: #3b82f6;
             text-decoration: none;
             font-size: 14px;
         }
         
         .attachment-item a:hover {
             text-decoration: underline;
         }
         
         /* ì‘ì—…ì í†µê³„ - ëª¨ë‹¬ ì „ìš© */
         #detailModal .applicant-stats {
             display: flex !important;
             gap: 20px;
         }
         
         #detailModal .stat-item {
             font-size: 14px;
             color: #6b7280;
             display: inline-block !important;
         }
         
         #detailModal .stat-item strong {
             color: #1f2937;
             font-size: 16px;
         }
         
         /* ì‘ì—…ì í…Œì´ë¸” - ëª¨ë‹¬ ì „ìš© */
         #detailModal .applicants-table-wrapper {
             background: white;
             border-radius: 8px;
             overflow: visible;
             border: 1px solid #e5e7eb;
             display: block !important;
         }
         
         #detailModal .applicants-table {
             width: 100%;
             border-collapse: collapse;
             min-width: 825px;
             display: table !important;
         }
         
         .applicants-table th,
         .applicants-table td {
             padding: 6px 8px;
             text-align: left;
             border-bottom: 1px solid #f3f4f6;
             font-size: 12px;
             white-space: nowrap;
             overflow: hidden;
             text-overflow: ellipsis;
         }
         
         /* ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
         .applicants-table input[type="checkbox"] {
             width: 16px;
             height: 16px;
             cursor: pointer;
         }
         
         .applicants-table th {
             background: #f8fafc;
             font-weight: 600;
             color: #374151;
             text-align: center;
             position: sticky;
             top: 0;
             z-index: 1;
         }
         
         .applicants-table td {
             color: #6b7280;
         }
         
         .applicants-table tbody tr {
             cursor: pointer;
             transition: background-color 0.2s ease;
         }
         
         .applicants-table tbody tr:hover {
             background: #f9fafb;
         }
         
         .applicant-status {
             padding: 4px 8px;
             border-radius: 12px;
             font-size: 12px;
             font-weight: 500;
             text-align: center;
         }
         
         .status-pending {
             background: #fef3c7;
             color: #d97706;
         }
         
         .status-approved {
             background: #d1fae5;
             color: #059669;
         }
         
         .status-rejected {
             background: #fee2e2;
             color: #dc2626;
         }
         
         .status-cancelled {
             background: #fecaca;
             color: #dc2626;
         }
         
         /* ì¼ê´„ ì²˜ë¦¬ ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
         .batch-btn.btn-approve:hover {
             background: #059669 !important;
         }
         
         .batch-btn.btn-reject:hover {
             background: #dc2626 !important;
         }
         
         /* ëª¨ë‹¬ í‘¸í„° ë²„íŠ¼ */
         .btn-secondary {
             background: #6b7280;
             color: white;
             border: none;
             border-radius: 6px;
             padding: 10px 20px;
             font-size: 14px;
             cursor: pointer;
             transition: background-color 0.2s;
         }
         
         .btn-secondary:hover {
             background: #4b5563;
         }
         
         .btn-edit {
             background: #3b82f6;
             color: white;
             border: none;
             border-radius: 6px;
             padding: 10px 20px;
             font-size: 14px;
             cursor: pointer;
             transition: background-color 0.2s;
         }
         
         .btn-edit:hover {
             background: #2563eb;
         }
         
         .btn-confirm {
             background: #10b981;
             color: white;
             border: none;
             border-radius: 6px;
             padding: 10px 20px;
             font-size: 14px;
             cursor: pointer;
             transition: background-color 0.2s;
         }
         
         .btn-confirm:hover {
             background: #059669;
         }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            body {
                padding: 20px;
            }
            
            .page-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .info-sections-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .info-grid-2col {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .file-info-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .download-buttons {
                flex-direction: column;
                width: 100%;
                gap: 8px;
            }
            
            .download-btn {
                width: 100%;
                justify-content: center;
            }
            
            .tab-nav {
                flex-direction: column;
            }
            
            .tab-button {
                padding: 12px 15px;
                font-size: 14px;
                text-align: left;
            }
            
            .work-info-grid {
                grid-template-columns: 1fr;
            }
            
            .assignment-section {
                flex-direction: column;
                align-items: stretch;
            }
            
            .worker-select {
                min-width: auto;
                width: 100%;
            }
            
            .modal-container {
                width: 95%;
                margin: 20px;
                max-height: calc(100vh - 40px);
            }
            
            .form-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .simple-editor-toolbar {
                flex-wrap: wrap;
            }
            
            .detail-modal {
                width: 98%;
                margin: 10px;
                height: 90vh;
                max-height: 90vh;
            }
            
            .tab-btn {
                padding: 12px 15px;
                font-size: 13px;
            }
            
            .detail-section {
                margin: 15px;
                padding: 20px;
            }
            
            .section-header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }
            
            .applicant-stats {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .applicants-table {
                min-width: 100%;
                font-size: 10px;
            }
            
            .applicants-table th,
            .applicants-table td {
                padding: 4px 2px;
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- í˜ì´ì§€ í—¤ë” -->
    <div class="page-header">
        <h1 class="page-title">
            <span>ğŸ“„</span>
            Work Details
        </h1>
        <div style="display: flex; gap: 10px;">
            <button class="cancel-button" onclick="cancelWork()">
                <span>âœ•</span>
                Cancel Work
            </button>
        <button class="back-button" onclick="goBack()">
            <span>â†</span>
                Back to List
        </button>
        </div>
    </div>
    
    <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="tab-container">
        <div class="tab-nav">
            <button class="tab-button active" onclick="switchTab('detail')">ğŸ“‹ Work Details</button>
            <button class="tab-button" onclick="switchTab('management')">âš™ï¸ Work Management</button>
        </div>

        <!-- ì‘ì—… ìƒì„¸ì •ë³´ íƒ­ -->
        <div id="detail-tab" class="tab-content active">
            <!-- ì²« ë²ˆì§¸ í–‰: Request Information + Work Information -->
            <div class="info-sections-grid">
                <!-- Request Information -->
                <div class="info-section">
                    <h2 class="section-title">
                        <span>ğŸ“‹</span>
                        Request Information
                    </h2>
                    <div class="info-grid">
                        <span class="info-label">Recording Original</span>
                        <span class="info-value">ì‹ ì²­</span>
                        
                        <span class="info-label">Additional Request</span>
                        <span class="info-value">2ë¶€</span>
                        
                        <span class="info-label">Recipient</span>
                        <span id="recipient-name" class="info-value">í™©ì§„ì€</span>
                        
                        <span class="info-label">Recipient Contact</span>
                        <span id="recipient-contact" class="info-value">010-4585-3518</span>
                        
                        <span class="info-label">Recipient Address</span>
                        <span class="info-value">ì „ë‚¨ ë‚˜ì£¼ì‹œ ê·¸ë¦°ë¡œ 198 10ì¸µ</span>
                    </div>
                </div>

                <!-- Work Information -->
                <div class="info-section">
                    <h2 class="section-title">
                        <span>âš™ï¸</span>
                        Work Information
                    </h2>
                    <div class="info-grid">
                        <span class="info-label">Section Selection</span>
                        <span class="info-value">ì „ì²´ êµ¬ê°„ (00:00 ~ 01:54)</span>
                        
                        <span class="info-label">Speaker Settings</span>
                        <span class="info-value">2ëª…<br>í™”ì 1 : ì°¨ì •í›ˆ (ë¶€ë“œëŸ¬ìš´ ëª©ì†Œë¦¬)<br>í™”ì 2 : ê¹€ì² ìˆ˜ (ì €ìŒì— ë‚®ê²Œ ê¹”ë¦¬ëŠ” ëª©ì†Œë¦¬)</span>
                    </div>
                </div>
            </div>

            <!-- ë‘ ë²ˆì§¸ í–‰: Payment Information + File Information -->
            <div class="info-sections-grid" style="grid-template-columns: 750px 750px;">
                <!-- Payment Information -->
                <div class="info-section">
                    <h2 class="section-title">
                        <span>ğŸ’³</span>
                        Payment Information
                    </h2>
                    <div class="info-grid">
                        <span class="info-label">Client Name</span>
                        <span id="client-name" class="info-value">í™©ì§„ì€</span>
                        
                        <span class="info-label">Contact</span>
                        <span id="client-contact" class="info-value">010-4585-3518</span>
                        
                        <span class="info-label">Payment Type</span>
                        <span id="payment-method" class="info-value">ì‹ ìš©ì¹´ë“œ</span>
                        
                        <span class="info-label">Payment Amount</span>
                        <span id="payment-amount" class="info-value highlight">40,000ì›</span>
                        
                        <span class="info-label">Depositor Name</span>
                        <span id="depositor-name" class="info-value">í™©ì§„ì€</span>
                        
                        <span class="info-label">Payment Date</span>
                        <span id="payment-date" class="info-value">2025-07-30 17:39</span>
                    </div>
                </div>

                <!-- File Information -->
                <div class="info-section">
                    <h2 class="section-title">
                        <span>ğŸ“</span>
                        File Information
                    </h2>
                    <div class="info-grid">
                        <span class="info-label">Recording Date</span>
                        <span class="info-value">2025-07-30</span>
                        
                        <span class="info-label">Recording Location</span>
                        <span class="info-value">ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</span>
                        
                        <span class="info-label">Progress Status</span>
                        <div>
                            <span id="work-status" class="status-badge status-inprogress">ì´ˆì•ˆì™„ì„±</span>
                        </div>
                    </div>
                    
                    <!-- ìŒì„± í”Œë ˆì´ì–´ ë° ë‹¤ìš´ë¡œë“œ ì˜ì—­ -->
                    <div class="file-player-section">
                        <div class="file-info-header">
                            <div>
                                <div style="font-weight: 600; color: #374151; margin-bottom: 5px; font-size: 14px;">File Information</div>
                                <span id="file-name-display" class="file-name-info">ìŒì„±ì›ë³¸ 1ê°œ ì„ êµì›”ë ¹01.m4a / ì¬ìƒì‹œê°„: 00:03:30</span>
                            </div>
                        </div>
                        
                        <!-- ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ -->
                        <audio class="audio-player" controls>
                            <source id="audio-source" src="#" type="audio/mpeg">
                            <source id="audio-source-m4a" src="#" type="audio/mp4">
                            ë¸Œë¼ìš°ì €ê°€ ì˜¤ë””ì˜¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                        </audio>
                        

                    </div>
                </div>

                <!-- ì„¸ ë²ˆì§¸ í–‰: ê³ ê° ì„¸ë¶€ ìš”ì²­ì‚¬í•­ + ê³ ê° ì²¨ë¶€íŒŒì¼ -->
                <div class="info-sections-grid" style="grid-template-columns: 750px 750px;">
                    <!-- ê³ ê° ì„¸ë¶€ ìš”ì²­ì‚¬í•­ -->
                    <div class="info-section">
                        <h2 class="section-title">
                            <span>ğŸ“</span>
                            Customer Detailed Requirements
                        </h2>
                        <div style="display: flex; gap: 15px;">
                            <!-- ì™¼ìª½: ì›ë³¸ ìš”ì²­ì‚¬í•­ -->
                            <div style="flex: 1;">
                                <textarea id="customer-request-original" placeholder="Enter customer detailed requirements..." style="width: 100%; min-height: 120px; padding: 15px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; line-height: 1.5; resize: vertical; font-family: inherit;" readonly>ê³ ê°ë‹˜ê»˜ì„œ ì „ë¬¸ ìš©ì–´ëŠ” ê°€ê¸‰ì  í•œê¸€ë¡œ ë²ˆì—­í•˜ì—¬ í‘œê¸°í•´ ì£¼ì‹œê³ , ë°œí™”ì êµ¬ë¶„ì„ ëª…í™•í•˜ê²Œ í•´ë‹¬ë¼ê³  ìš”ì²­í•˜ì…¨ìŠµë‹ˆë‹¤. íŠ¹íˆ ì˜ë£Œì§„ê³¼ í™˜ì ëŒ€í™”ì—ì„œ ì „ë¬¸ ì˜í•™ ìš©ì–´ë“¤ì€ ì¼ë°˜ì¸ì´ ì´í•´í•˜ê¸° ì‰½ë„ë¡ í’€ì–´ì„œ ì„¤ëª…í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</textarea>
                            </div>
                            
                            <!-- ì˜¤ë¥¸ìª½: ê³µìœ ìš© ìš”ì²­ì‚¬í•­ -->
                            <div style="flex: 1;">
                                <textarea id="customer-request-share" placeholder="Edit requirements to share..." style="width: 100%; min-height: 120px; padding: 15px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; line-height: 1.5; resize: vertical; font-family: inherit;"></textarea>
                            </div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                            <button onclick="copyToShareBox()" style="background: #10b981; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500;">
                                â†’ Copy to Right
                            </button>
                            <button id="share-request-btn" onclick="shareCustomerRequest()" data-status="idle" style="background: #3b82f6; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500;">
                                Share
                            </button>
                        </div>
                    </div>

                    <!-- ê³ ê° ì²¨ë¶€íŒŒì¼ -->
                    <div class="info-section">
                        <h2 class="section-title">
                            <span>ğŸ“</span>
                            Customer Attachments
                        </h2>
                        <div class="file-list" style="max-height: 150px; overflow-y: auto; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f3f4f6;">
                                <div style="display: flex; align-items: center; flex: 1;">
                                    <input type="checkbox" id="file1" onchange="handleFileSelection(this)" style="margin-right: 12px;">
                                    <span style="color: #3b82f6; cursor: pointer; text-decoration: none; font-size: 13px;" onclick="downloadFile('ì°¸ê³ ìë£Œ_ì˜ë£Œì§„_ëŒ€í™”_ì˜ˆì‹œ.pdf')">ì°¸ê³ ìë£Œ_ì˜ë£Œì§„_ëŒ€í™”_ì˜ˆì‹œ.pdf</span>
                </div>
                                <span id="file1-status" style="font-size: 10px; color: #6b7280; min-width: 40px; text-align: center;">Waiting</span>
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f3f4f6;">
                                <div style="display: flex; align-items: center; flex: 1;">
                                    <input type="checkbox" id="file2" onchange="handleFileSelection(this)" style="margin-right: 12px;">
                                    <span style="color: #3b82f6; cursor: pointer; text-decoration: none; font-size: 13px;" onclick="downloadFile('ì „ì‚¬_ì–‘ì‹_í…œí”Œë¦¿.hwp')">ì „ì‚¬_ì–‘ì‹_í…œí”Œë¦¿.hwp</span>
                                </div>
                                <span id="file2-status" style="font-size: 10px; color: #6b7280; min-width: 40px; text-align: center;">Waiting</span>
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f3f4f6;">
                                <div style="display: flex; align-items: center; flex: 1;">
                                    <input type="checkbox" id="file3" onchange="handleFileSelection(this)" style="margin-right: 12px;">
                                    <span style="color: #3b82f6; cursor: pointer; text-decoration: none; font-size: 13px;" onclick="downloadFile('ìš©ì–´_ì‚¬ì „.xlsx')">ìš©ì–´_ì‚¬ì „.xlsx</span>
                                </div>
                                <span id="file3-status" style="font-size: 10px; color: #6b7280; min-width: 40px; text-align: center;">Waiting</span>
                            </div>
                        </div>
                        
                        <div style="display: flex; justify-content: flex-end; gap: 8px;">
                            <button onclick="downloadAllFiles()" style="background: #10b981; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500;">
                                Download All
                            </button>
                            <button onclick="shareCustomerFiles()" style="background: #3b82f6; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500;">
                                Share
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì‘ì—…ê´€ë¦¬ íƒ­ -->
        <div id="management-tab" class="tab-content">
            <!-- íŒŒì¼ ë¦¬ìŠ¤íŠ¸ -->
            <div class="work-management-section">
                <h2 class="section-title">
                    <span>ğŸ“</span>
                    File List
                </h2>
                
                    <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; background: white; border: 1px solid #e5e7eb; border-radius: 8px;">
                            <thead>
                                <tr style="background: #f8f9fa;">
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 40%;">File Name</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 15%;">File Length</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 20%;">Worker</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 25%;">Progress Status</th>
                                </tr>
                            </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #e5e7eb;">
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">ì„ êµì›”ë ¹01.m4a</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">00:03:30</td>
                                <td id="file-list-worker-cell" style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">-</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">
                                    <span id="file-list-status-badge" class="status-badge status-waiting">Waiting</span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                
                <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 15px;">
                    <button onclick="openWorksbyProjectModal()" style="background: #3b82f6; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: 500; display: flex; align-items: center; gap: 6px;">
                        <span>ğŸš€</span>
                        Register Workspy Project
                    </button>
                    <button onclick="downloadFile()" style="background: #10b981; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: 500; display: flex; align-items: center; gap: 6px;">
                        <span>ğŸ“</span>
                        File Download
                    </button>
                </div>
            </div>


            <!-- ì‘ì—…ê´€ë¦¬ í…Œì´ë¸” -->
            <div id="work-management-table-section" class="work-management-section" style="display: none;">
                <h2 class="section-title">
                    <span>ğŸ“‹</span>
                    Work Management
                </h2>
                
                <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center;">
                    <div style="color: #374151; font-weight: 600; font-size: 14px;">
                        Total <span style="color: #3b82f6;">1</span> work files
                    </div>
                </div>
                
                <div style="overflow-x: auto;">
                    <table style="width: 100%; min-width: 1200px; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8f9fa;">
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 22%;">File Name</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 8%;">Duration</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 12%;">Workspy Registration</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 8%;">Worker</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 10%;">Worker Assignment</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 12%;">Transcription Tool</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 16%;">Output Upload</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; width: 12%;">Worker Status</th>
                            </tr>
                        </thead>
                        <tbody id="work-management-table-body">
                            <tr style="border-bottom: 1px solid #e5e7eb;">
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">ì„ êµì›”ë ¹01.m4a</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">00:03:30</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">
                                    <button id="workspy-check-btn" onclick="checkWorksbyProject()" 
                                            style="padding: 6px 12px; font-size: 11px; background: #10b981; color: white; border: none; border-radius: 4px; cursor: pointer; margin: 0 auto; display: inline-block;">
                                        <span>ğŸ”</span>
                                        Check Registration
                                    </button>
                                </td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;" id="assigned-worker-cell">-</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">
                                    <button class="btn" onclick="openWorkerAssignmentModal('ì„ êµì›”ë ¹01.m4a')" 
                                            style="padding: 6px 12px; font-size: 11px; background: #8b5cf6; color: white; border: none; border-radius: 4px; cursor: pointer; margin: 0 auto; display: inline-block;">
                                        <span>ğŸ‘¤</span>
                                        Assign Worker
                                    </button>
                                </td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">
                                    <div style="display: flex; justify-content: center; gap: 6px; flex-wrap: nowrap;">
                                        <button class="tool-btn" style="padding: 6px 10px; font-size: 11px; white-space: nowrap; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer;" onclick="launchTranscriptionTool()">
                                            ğŸš€ Launch Transcription Tool
                                        </button>
                                        <button class="tool-btn" style="padding: 6px 10px; font-size: 11px; white-space: nowrap; background: #f59e0b; color: white; border: none; border-radius: 4px; cursor: pointer;" onclick="launchReviewTool()">
                                            âœ… Launch Review Tool
                                        </button>
                                    </div>
                                </td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">
                                    <div style="display: flex; justify-content: center; gap: 6px; flex-wrap: nowrap;">
                                        <button class="upload-btn" style="padding: 6px 10px; font-size: 11px; white-space: nowrap; background: #6b7280; color: white; border: none; border-radius: 4px; cursor: pointer;" onclick="uploadNotarizedFile()">
                                            ğŸ“„ Notarized File
                                        </button>
                                        <button class="upload-btn" style="padding: 6px 10px; font-size: 11px; white-space: nowrap; background: #6b7280; color: white; border: none; border-radius: 4px; cursor: pointer;" onclick="uploadFinalOutput()">
                                            ğŸ“ Final Output
                                        </button>
                                    </div>
                                </td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px;">
                                    <span class="status-badge status-inprogress">Working</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
            </div>

            <!-- íŒŒì¼ê³µìœ  ì˜ì—­ -->
            <div class="work-management-section">
                <h2 class="section-title">
                    <span>ğŸ“</span>
                    File Sharing
                </h2>
                
                <div style="margin-bottom: 15px;">
                    <p style="color: #6b7280; font-size: 14px; margin: 0;">Admin/Reviewer/Worker File Sharing</p>
                </div>
                
                <div style="position: relative;">
                    <!-- íŒŒì¼ ëª©ë¡ ì˜ì—­ -->
                    <div style="background: #f8f9fa; border: 1px solid #e5e7eb; border-radius: 8px; min-height: 200px; padding: 15px; padding-bottom: 60px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">
                            <span style="font-weight: 600; color: #374151;">File Name</span>
                        </div>
                        
                        <!-- ê³µìœ  íŒŒì¼ ëª©ë¡ -->
                        <div id="shared-files-list">
                            <div style="display: flex; align-items: center; padding: 6px 0; border-bottom: 1px solid #e5e7eb;">
                                <input type="checkbox" style="margin-right: 18px;">
                                <span style="color: #3b82f6; cursor: pointer; text-decoration: none; font-size: 12px;">ì†Œë¦¬ë°”ë¡œ_HWP_í…œí”Œë¦¿_1ë²ˆ(ê¸°ë³¸) (1).hwp</span>
                            </div>
                            <div style="display: flex; align-items: center; padding: 6px 0; border-bottom: 1px solid #e5e7eb;">
                                <input type="checkbox" style="margin-right: 18px;">
                                <span style="color: #3b82f6; cursor: pointer; text-decoration: none; font-size: 12px;">ì†Œë¦¬ë°”ë¡œ_HWP_í…œí”Œë¦¿_1ë²ˆ(ê¸°ë³¸) (2).hwp</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ë²„íŠ¼ ì˜ì—­ (ì˜¤ë¥¸ìª½ í•˜ë‹¨) -->
                    <div style="position: absolute; bottom: 15px; right: 15px; display: flex; gap: 8px;">
                        <button onclick="addSharedFile()" style="background: #f59e0b; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500;">
                            Add File
                        </button>
                        <button onclick="deleteSharedFile()" style="background: #ef4444; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500;">
                            Delete
                    </button>
                </div>
                </div>
            </div>

            <!-- ì‘ì—… íŠ¹ì´ì‚¬í•­ -->
            <div class="work-management-section">
                <h2 class="section-title">
                    <span>ğŸ“</span>
                    Work Notes
                </h2>
                
                <div style="position: relative;">
                    <textarea id="work-notes" placeholder="Enter work-related notes..." style="width: 100%; min-height: 150px; padding: 15px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; line-height: 1.5; resize: vertical; font-family: inherit;" onchange="markNotesAsModified()"></textarea>
                    
                    <div style="display: flex; justify-content: flex-end; margin-top: 15px;">
                        <button onclick="saveWorkNotes()" style="background: #3b82f6; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500;">
                            Save
                    </button>
                </div>
            </div>
            </div>


        </div>
    </div>

    <script>
        // URL íŒŒë¼ë¯¸í„°ì—ì„œ ë°ì´í„° ì¶”ì¶œ
        function getUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            return {
                orderNumber: urlParams.get('orderNumber'),
                fileName: urlParams.get('fileName'),
                client: urlParams.get('client'),
                contact: urlParams.get('contact'),
                requestDate: urlParams.get('requestDate'),
                workTime: urlParams.get('workTime'),
                paymentAmount: urlParams.get('paymentAmount'),
                paymentMethod: urlParams.get('paymentMethod'),
                worker: urlParams.get('worker'),
                status: urlParams.get('status')
            };
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            const params = getUrlParams();
            
            // Request Information ì„¹ì…˜
            if (params.requestDate) {
                const requestDateTime = decodeURIComponent(params.requestDate);
                const recordDate = requestDateTime.split(' ')[0]; // ë‚ ì§œ ë¶€ë¶„ë§Œ ì¶”ì¶œ
                document.getElementById('record-date').textContent = recordDate;
            }
            if (params.client) {
                document.getElementById('recipient-name').textContent = decodeURIComponent(params.client);
            }
            if (params.contact) {
                document.getElementById('recipient-contact').textContent = decodeURIComponent(params.contact);
            }
            
            // Payment Information ì„¹ì…˜
            if (params.client) {
                document.getElementById('client-name').textContent = decodeURIComponent(params.client);
            }
            if (params.contact) {
                document.getElementById('client-contact').textContent = decodeURIComponent(params.contact);
            }
            if (params.paymentMethod) {
                document.getElementById('payment-method').textContent = decodeURIComponent(params.paymentMethod);
            }
            if (params.paymentAmount) {
                const paymentAmount = decodeURIComponent(params.paymentAmount);
                document.getElementById('payment-amount').textContent = paymentAmount + 'ì›';
            }
            if (params.requestDate) {
                document.getElementById('request-date').textContent = decodeURIComponent(params.requestDate);
            }
            
            // File Information ì„¹ì…˜ (ì‘ì—… ìƒì„¸ì •ë³´ íƒ­)
            if (params.fileName) {
                const fileName = decodeURIComponent(params.fileName);
                const workTime = params.workTime ? decodeURIComponent(params.workTime) : '00:03:30';
                document.getElementById('file-name-display').textContent = `ìŒì„±ì›ë³¸ 1ê°œ ${fileName} / ì¬ìƒì‹œê°„: ${workTime}`;
                
                // ì‘ì—…ê´€ë¦¬ íƒ­ì—ë„ ë™ì¼í•œ ì •ë³´ ì„¤ì •
                document.getElementById('mgmt-file-name').textContent = fileName;
                document.getElementById('mgmt-work-time').textContent = workTime;
            }
            if (params.status) {
                const statusElement = document.getElementById('work-status');
                const statusText = decodeURIComponent(params.status);
                statusElement.textContent = statusText;
                // ìƒíƒœì— ë”°ë¼ í´ë˜ìŠ¤ ì„¤ì •
                statusElement.className = 'status-badge ' + getStatusClass(statusText);
                
                // ì‘ì—…ê´€ë¦¬ íƒ­ì—ë„ ë™ì¼í•œ ìƒíƒœ ì„¤ì •
                const mgmtStatusElement = document.getElementById('mgmt-work-status');
                mgmtStatusElement.textContent = statusText;
                mgmtStatusElement.className = 'status-badge ' + getStatusClass(statusText);
            }
            if (params.worker) {
                const workerName = decodeURIComponent(params.worker);
                document.getElementById('mgmt-worker').textContent = workerName;
            }
        });

        // ìƒíƒœì— ë”°ë¥¸ CSS í´ë˜ìŠ¤ ë°˜í™˜
        function getStatusClass(status) {
            if (status.includes('Unassigned')) return 'status-cancelled';
            if (status.includes('ì§„í–‰') || status.includes('ì´ˆì•ˆ')) return 'status-inprogress';
            if (status.includes('ì™„ë£Œ')) return 'status-completed';
            if (status.includes('ì·¨ì†Œ')) return 'status-cancelled';
            return 'status-inprogress';
        }

        // ë’¤ë¡œ ê°€ê¸°
        function goBack() {
            try {
                // ë°©ë²• 1: iframeì˜ parentì—ì„œ ì´ì „ í˜ì´ì§€ ë¡œë“œ
                if (window.parent && window.parent !== window && typeof window.parent.loadPage === 'function') {
                    console.log('parent.loadPageë¡œ ì´ì „ í˜ì´ì§€ ì´ë™');
                    window.parent.loadPage('pages/soribaro/b2c/work-management.html');
                    return;
                }
            } catch (e) {
                console.log('parent.loadPage ì‹¤íŒ¨:', e);
            }
            
            try {
                // ë°©ë²• 2: ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ back
                if (window.history.length > 1) {
                    console.log('history.back() ì‚¬ìš©');
                    window.history.back();
                    return;
                }
            } catch (e) {
                console.log('history.back() ì‹¤íŒ¨:', e);
            }
            
            try {
                // ë°©ë²• 3: ì§ì ‘ ì‘ì—…í˜„í™©ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™
                console.log('ì§ì ‘ í˜ì´ì§€ ì´ë™');
                window.location.href = 'work-management.html';
            } catch (e) {
                console.log('ì§ì ‘ í˜ì´ì§€ ì´ë™ ì‹¤íŒ¨:', e);
                alert('Cannot return to previous page.');
            }
        }

        // ì‘ì—… ì·¨ì†Œ
        function cancelWork() {
            const message = 'All files and ongoing work will be terminated.\nRe-work is not possible after termination.\nDo you want to cancel the work?';
            
            if (confirm(message)) {
                // ì‘ì—… ì·¨ì†Œ ë¡œì§ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ API í˜¸ì¶œ)
                console.log('Work has been cancelled.');
                alert('Work has been cancelled.');
                
                // ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                goBack();
            }
        }

        // ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        function downloadTXT() {
            // ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì„œë²„ì—ì„œ TXT íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œë°›ëŠ” API í˜¸ì¶œ
            const params = getUrlParams();
            const fileName = params.fileName ? decodeURIComponent(params.fileName).replace(/\.[^/.]+$/, "") : "transcript";
            
            // ìƒ˜í”Œ í…ìŠ¤íŠ¸ ë°ì´í„° (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ë°›ì•„ì˜´)
            const sampleText = `[í™”ì1] ì•ˆë…•í•˜ì„¸ìš”. ì˜¤ëŠ˜ íšŒì˜ë¥¼ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.\n[í™”ì2] ë„¤, ì•ˆë…•í•˜ì„¸ìš”. ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.\n[í™”ì1] ë¨¼ì € ì²« ë²ˆì§¸ ì•ˆê±´ë¶€í„° ë…¼ì˜í•´ë³´ê² ìŠµë‹ˆë‹¤.\n[í™”ì2] ì¢‹ìŠµë‹ˆë‹¤. ê²€í† í•´ë³´ê² ìŠµë‹ˆë‹¤.`;
            
            // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            const blob = new Blob([sampleText], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${fileName}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function downloadJSON() {
            // ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì„œë²„ì—ì„œ JSON íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œë°›ëŠ” API í˜¸ì¶œ
            const params = getUrlParams();
            const fileName = params.fileName ? decodeURIComponent(params.fileName).replace(/\.[^/.]+$/, "") : "transcript";
            
            // ìƒ˜í”Œ JSON ë°ì´í„° (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ë°›ì•„ì˜´)
            const sampleData = {
                file_info: {
                    name: fileName,
                    duration: params.workTime ? decodeURIComponent(params.workTime) : "00:03:30",
                    format: "M4A"
                },
                speakers: [
                    { id: 1, name: "í™”ì1" },
                    { id: 2, name: "í™”ì2" }
                ],
                transcript: [
                    { speaker: 1, start_time: "00:00:00", end_time: "00:00:05", text: "ì•ˆë…•í•˜ì„¸ìš”. ì˜¤ëŠ˜ íšŒì˜ë¥¼ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤." },
                    { speaker: 2, start_time: "00:00:06", end_time: "00:00:10", text: "ë„¤, ì•ˆë…•í•˜ì„¸ìš”. ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤." },
                    { speaker: 1, start_time: "00:00:11", end_time: "00:00:18", text: "ë¨¼ì € ì²« ë²ˆì§¸ ì•ˆê±´ë¶€í„° ë…¼ì˜í•´ë³´ê² ìŠµë‹ˆë‹¤." },
                    { speaker: 2, start_time: "00:00:19", end_time: "00:00:23", text: "ì¢‹ìŠµë‹ˆë‹¤. ê²€í† í•´ë³´ê² ìŠµë‹ˆë‹¤." }
                ]
            };
            
            // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            const blob = new Blob([JSON.stringify(sampleData, null, 2)], { type: 'application/json;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${fileName}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // íƒ­ ì „í™˜ ê¸°ëŠ¥
        function switchTab(tabName) {
            // ëª¨ë“  íƒ­ ë²„íŠ¼ê³¼ ì½˜í…ì¸  ë¹„í™œì„±í™”
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            document.querySelector(`button[onclick="switchTab('${tabName}')"]`).classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }



        // ì „ì‚¬íˆ´ ì‹¤í–‰ ê¸°ëŠ¥
        function launchTranscriptionTool() {
            alert('Launching transcription tool.\n\nIn actual environment, the transcription tool will open in a new window.');
            // ì‹¤ì œë¡œëŠ” ì „ì‚¬íˆ´ URLë¡œ ìƒˆ ì°½ ì—´ê¸°
            // window.open('/transcription-tool', '_blank');
        }

        // ê²€ìˆ˜íˆ´ ì‹¤í–‰ ê¸°ëŠ¥
        function launchReviewTool() {
            alert('Launching review tool.\n\nIn actual environment, the review tool will open in a new window.');
            // ì‹¤ì œë¡œëŠ” ê²€ìˆ˜íˆ´ URLë¡œ ìƒˆ ì°½ ì—´ê¸°
            // window.open('/review-tool', '_blank');
        }

        // ê³µì¦íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥
        function uploadNotarizedFile() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = '.pdf,.doc,.docx';
            fileInput.onchange = function(e) {
                if (e.target.files.length > 0) {
                    const fileName = e.target.files[0].name;
                    alert(`Notarized file uploaded:\n${fileName}\n\nIn actual environment, the file will be sent to the server.`);
                }
            }
            fileInput.click();
        }

        // ìµœì¢…ì‚°ì¶œë¬¼ ì—…ë¡œë“œ ê¸°ëŠ¥
        function uploadFinalOutput() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = '.txt,.docx,.pdf,.zip';
            fileInput.onchange = function(e) {
                if (e.target.files.length > 0) {
                    const fileName = e.target.files[0].name;
                    alert(`Final output uploaded:\n${fileName}\n\nIn actual environment, the file will be sent to the server.`);
                }
            }
            fileInput.click();
        }

        // ê³µìœ  íŒŒì¼ ì¶”ê°€ ê¸°ëŠ¥
        function addSharedFile() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.multiple = true;
            fileInput.accept = '.hwp,.doc,.docx,.pdf,.txt,.zip';
            fileInput.onchange = function(e) {
                if (e.target.files.length > 0) {
                    const filesList = document.getElementById('shared-files-list');
                    
                    for (let i = 0; i < e.target.files.length; i++) {
                        const fileName = e.target.files[i].name;
                        
                        // ìƒˆ íŒŒì¼ í•­ëª© ìƒì„±
                        const fileItem = document.createElement('div');
                        fileItem.style.cssText = 'display: flex; align-items: center; padding: 6px 0; border-bottom: 1px solid #e5e7eb;';
                        fileItem.innerHTML = `
                            <input type="checkbox" style="margin-right: 18px;">
                            <span style="color: #3b82f6; cursor: pointer; text-decoration: none; font-size: 12px;">${fileName}</span>
                        `;
                        
                        filesList.appendChild(fileItem);
                    }
                    
                    alert(`${e.target.files.length} files have been added to the shared list.`);
                }
            }
            fileInput.click();
        }

        // ê³µìœ  íŒŒì¼ ì‚­ì œ ê¸°ëŠ¥
        function deleteSharedFile() {
            const checkboxes = document.querySelectorAll('#shared-files-list input[type="checkbox"]:checked');
            
            if (checkboxes.length === 0) {
                alert('Please select files to delete.');
                return;
            }
            
            if (confirm(`Do you want to delete ${checkboxes.length} selected files?`)) {
                checkboxes.forEach(checkbox => {
                    checkbox.parentElement.remove();
                });
                alert(`${checkboxes.length} files have been deleted.`);
            }
        }

        // ì‘ì—… íŠ¹ì´ì‚¬í•­ ìˆ˜ì • í‘œì‹œ
        let notesModified = false;
        function markNotesAsModified() {
            notesModified = true;
        }

        // ì‘ì—… íŠ¹ì´ì‚¬í•­ ì €ì¥ ê¸°ëŠ¥
        function saveWorkNotes() {
            const notes = document.getElementById('work-notes').value;
            
            // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡
            setTimeout(() => {
                notesModified = false;
                alert('Work notes have been saved.');
            }, 500);
        }

        // íŒŒì¼ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        function downloadFile() {
            alert('Downloading file.\n\nIn actual environment, the selected file will be downloaded.');
            // ì‹¤ì œë¡œëŠ” íŒŒì¼ ë‹¤ìš´ë¡œë“œ API í˜¸ì¶œ
            // const fileName = 'selected_file.m4a';
            // window.open(`/api/download/${fileName}`, '_blank');
        }

        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ë“±ë¡ í™•ì¸ ê¸°ëŠ¥
        function checkWorksbyProject() {
            // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ê°€ ë“±ë¡ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
            if (currentProjectData) {
                // í”„ë¡œì íŠ¸ ìƒì„¸ì •ë³´ ëª¨ë‹¬ ì—´ê¸°
                openWorksbyDetailModal(currentProjectData);
            } else {
                // í”„ë¡œì íŠ¸ê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ë“±ë¡ ì•ˆë‚´
                if (confirm('ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\nìƒˆ í”„ë¡œì íŠ¸ë¥¼ ë“±ë¡í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    openWorksbyProjectModal();
                }
            }
        }

        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ì—´ê¸°
        function openWorksbyDetailModal(data) {
            // ëª¨ë‹¬ ë°ì´í„° ì„¤ì •
            if (data) {
                document.getElementById('detailNo').textContent = data.projectNo || '';
                document.getElementById('detailService').textContent = data.service || '';
                document.getElementById('detailRegDate').textContent = data.regDate || '';
                document.getElementById('detailTitle').textContent = data.title || '';
                
                // ë‚ ì§œ í¬ë§·íŒ…
                const formatDateTime = (dateStr) => {
                    if (!dateStr) return '';
                    const date = new Date(dateStr);
                    if (isNaN(date.getTime())) return dateStr;
                    const year = date.getFullYear();
                    const month = String(date.getMonth() + 1).padStart(2, '0');
                    const day = String(date.getDate()).padStart(2, '0');
                    const hours = String(date.getHours()).padStart(2, '0');
                    const minutes = String(date.getMinutes()).padStart(2, '0');
                    return `${year}.${month}.${day} ${hours}:${minutes}`;
                };
                
                const formatDateOnly = (dateStr) => {
                    if (!dateStr) return '';
                    const date = new Date(dateStr);
                    if (isNaN(date.getTime())) return dateStr;
                    const year = date.getFullYear();
                    const month = String(date.getMonth() + 1).padStart(2, '0');
                    const day = String(date.getDate()).padStart(2, '0');
                    return `${year}.${month}.${day}`;
                };
                
                // ëª¨ì§‘ê¸°ê°„ ì„¤ì •
                const startFormatted = formatDateTime(data.startDate);
                const endFormatted = formatDateTime(data.endDate);
                document.getElementById('detailProjectPeriod').textContent = `${startFormatted} ~ ${endFormatted}`;
                
                // ì‘ì—…ê¸°ê°„ ì„¤ì •
                const workStartFormatted = formatDateOnly(data.workStartDate);
                const workEndFormatted = formatDateOnly(data.workEndDate);
                document.getElementById('detailWorkPeriod').textContent = `${workStartFormatted} ~ ${workEndFormatted}`;
                
                // ì‘ì—…ì ìˆ˜, ê¸ˆì•¡, ì§€ì›ìê²© ì„¤ì •
                document.getElementById('detailWorkerCount').textContent = `0 / ${data.workerCount || '5'} workers`;
                document.getElementById('detailBudget').textContent = data.budget ? data.budget + 'ì›' : '500000ì›';
                
                const qualificationMap = { 'anyone': 'Anyone', 'stenographer': 'Stenographer' };
                document.getElementById('detailQualification').textContent = qualificationMap[data.qualification] || 'Anyone';
                
                // í”„ë¡œì íŠ¸ ì„¤ëª… ì„¤ì •
                document.getElementById('detailContent').innerHTML = data.description || 'No project description available.';
            }
            
            // ëª¨ë‹¬ í‘œì‹œ
            document.getElementById('detailModal').style.display = 'flex';
        }

        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ë‹«ê¸°
        function closeDetailModal() {
            document.getElementById('detailModal').style.display = 'none';
        }

        // í”„ë¡œì íŠ¸ ìˆ˜ì • ê¸°ëŠ¥
        function editProject() {
            alert('This is the project edit function.\n\nIn the actual environment, you can modify project information.');
        }

        // í”„ë¡œì íŠ¸ ë§ˆê° ê¸°ëŠ¥
        function closeProjectPermanently() {
            if (confirm('Do you want to close the project?\n\nAfter closing, worker recruitment will no longer proceed.')) {
                alert('The project has been closed.');
                closeDetailModal();
            }
        }

        // í”„ë¡œì íŠ¸ ì‚­ì œ ê¸°ëŠ¥
        function deleteProject() {
            if (confirm('Do you want to delete the project?\n\nDeleted projects cannot be recovered.')) {
                // í”„ë¡œì íŠ¸ ë°ì´í„° ì´ˆê¸°í™”
                currentProjectData = null;
                
                // ì‘ì—…ê´€ë¦¬ í…Œì´ë¸” ìˆ¨ê¸°ê¸°
                const workMgmt = document.getElementById('work-management-table-section');
                if (workMgmt) {
                    workMgmt.style.display = 'none';
                }
                
                // ì›ìŠ¤íŒŒì´ ë“±ë¡ í™•ì¸ ë²„íŠ¼ì„ ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦¬ê¸°
                const worksbyCheckBtn = document.getElementById('workspy-check-btn');
                if (worksbyCheckBtn) {
                    worksbyCheckBtn.style.background = '#10b981';
                    worksbyCheckBtn.innerHTML = '<span>ğŸ”</span> Check Registration';
                }
                
                alert('The project has been deleted.');
                closeDetailModal();
            }
        }

        // ì™¼ìª½ ë‚´ìš©ì„ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³µì‚¬
        function copyToShareBox() {
            const originalText = document.getElementById('customer-request-original').value;
            document.getElementById('customer-request-share').value = originalText;
        }

        // ê³ ê° ì„¸ë¶€ ìš”ì²­ì‚¬í•­ ê³µìœ  ê¸°ëŠ¥ (ì—…ë°ì´íŠ¸ë¨)
        function shareCustomerRequest() {
            const shareBtn = document.getElementById('share-request-btn');
            const currentStatus = shareBtn.getAttribute('data-status');
            
            if (currentStatus === 'idle') {
                // ê³µìœ  ì‹¤í–‰
                const shareText = document.getElementById('customer-request-share').value;
                
                if (!shareText.trim()) {
                    alert('ê³µìœ í•  ìš”ì²­ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                
                // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ê³µìœ  API í˜¸ì¶œ
                alert('ê³ ê° ì„¸ë¶€ ìš”ì²­ì‚¬í•­ì´ ì‘ì—…ìì—ê²Œ ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤.');
                
                // ë²„íŠ¼ ìƒíƒœë¥¼ "ê³µìœ ì¤‘"ìœ¼ë¡œ ë³€ê²½
                shareBtn.setAttribute('data-status', 'sharing');
                shareBtn.textContent = 'ê³µìœ ì¤‘';
                shareBtn.style.background = '#f59e0b'; // ì£¼í™©ìƒ‰
                
            } else if (currentStatus === 'sharing') {
                // ê³µìœ  ì·¨ì†Œ í™•ì¸
                if (confirm('ê³µìœ ë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    // ë²„íŠ¼ ìƒíƒœë¥¼ "ê³µìœ "ë¡œ ë˜ëŒë¦¬ê¸°
                    shareBtn.setAttribute('data-status', 'idle');
                    shareBtn.textContent = 'ê³µìœ ';
                    shareBtn.style.background = '#3b82f6'; // ì›ë˜ íŒŒë€ìƒ‰
                    
                    alert('ê³µìœ ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
                }
            }
        }

        // ê°œë³„ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        function downloadFile(fileName) {
            // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì„œë²„ì—ì„œ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œë°›ëŠ” API í˜¸ì¶œ
            console.log(`íŒŒì¼ ë‹¤ìš´ë¡œë“œ: ${fileName}`);
            alert(`Downloading ${fileName} file.`);
        }

        // íŒŒì¼ ì„ íƒ ì²˜ë¦¬
        function handleFileSelection(checkbox) {
            // ì²´í¬ë°•ìŠ¤ ì„ íƒë§Œ ì²˜ë¦¬, ë‹¤ìš´ë¡œë“œ ì•Œë¦¼ ì œê±°
            // const fileName = checkbox.nextElementSibling.textContent;
            // if (checkbox.checked) {
            //     downloadFile(fileName);
            // }
        }

        // ëª¨ë“  íŒŒì¼ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        function downloadAllFiles() {
            const files = [
                'ì°¸ê³ ìë£Œ_ì˜ë£Œì§„_ëŒ€í™”_ì˜ˆì‹œ.pdf',
                'ì „ì‚¬_ì–‘ì‹_í…œí”Œë¦¿.hwp',
                'ìš©ì–´_ì‚¬ì „.xlsx'
            ];
            
            // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ZIP íŒŒì¼ë¡œ ì••ì¶•í•˜ì—¬ ë‹¤ìš´ë¡œë“œ
            alert(`Downloading all ${files.length} files.`);
        }

        // ê³ ê° ì²¨ë¶€íŒŒì¼ ê³µìœ  ê¸°ëŠ¥ (ì—…ë°ì´íŠ¸ë¨)
        function shareCustomerFiles() {
            const checkedFiles = document.querySelectorAll('input[type="checkbox"]:checked');
            
            if (checkedFiles.length === 0) {
                alert('Please select files to share.');
                return;
            }
            
            const fileNames = Array.from(checkedFiles).map(cb => cb.nextElementSibling.textContent);
            alert(`${fileNames.length} selected files have been shared with workers.`);
            
            // ì„ íƒëœ íŒŒì¼ë“¤ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸
            checkedFiles.forEach(checkbox => {
                const fileId = checkbox.id;
                const statusElement = document.getElementById(`${fileId}-status`);
                if (statusElement) {
                    statusElement.textContent = 'ê³µìœ ì™„ë£Œ';
                    statusElement.style.color = '#10b981';
                }
                checkbox.checked = false; // ì²´í¬ë°•ìŠ¤ í•´ì œ
            });
        }



        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ë“±ë¡ ê´€ë ¨ ë³€ìˆ˜
        let worksbyProjectData = null;
        let currentProjectData = null;

        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ë“±ë¡ ëª¨ë‹¬ ì—´ê¸°
        function openWorksbyProjectModal() {
            document.getElementById('worksbyProjectModal').style.display = 'flex';
            
            // ì‹œì—°ìš© ë”ë¯¸ ë°ì´í„° ì…ë ¥
            const params = getUrlParams();
            const fileName = params.fileName ? decodeURIComponent(params.fileName).replace(/\.[^/.]+$/, "") : "ìŒì„±íŒŒì¼";
            
            // ì˜¤ëŠ˜ ë‚ ì§œì™€ 2ì£¼ í›„ ë‚ ì§œ ê³„ì‚°
            const today = new Date();
            const twoWeeksLater = new Date();
            twoWeeksLater.setDate(today.getDate() + 14);
            
            // ì‘ì—…ê¸°ê°„: ì˜¤ëŠ˜ë¶€í„° 1ì£¼ì¼ í›„
            const oneWeekLater = new Date();
            oneWeekLater.setDate(today.getDate() + 7);
            
            const formatDate = (date) => {
                return date.toISOString().split('T')[0];
            };
            
            const formatDateTime = (date) => {
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                const hours = String(date.getHours()).padStart(2, '0');
                const minutes = String(date.getMinutes()).padStart(2, '0');
                return `${year}-${month}-${day}T${hours}:${minutes}`;
            };
            
            // í¼ í•„ë“œì— ë”ë¯¸ ë°ì´í„° ì…ë ¥
            document.getElementById('worksbyServiceSelect').value = 'Soribaro';
            document.getElementById('worksbyProjectTitle').value = fileName + ' Transcription Project';
            
            // ëª¨ì§‘ê¸°ê°„: ì˜¤ëŠ˜ í˜„ì¬ ì‹œê°„ë¶€í„° 2ì£¼ í›„ ê°™ì€ ì‹œê°„ê¹Œì§€
            document.getElementById('worksbyProjectStartDate').value = formatDateTime(today);
            document.getElementById('worksbyProjectEndDate').value = formatDateTime(twoWeeksLater);
            
            // ì‘ì—…ê¸°ê°„: ì˜¤ëŠ˜ë¶€í„° 1ì£¼ì¼ í›„ê¹Œì§€
            document.getElementById('worksbyWorkStartDate').value = formatDate(today);
            document.getElementById('worksbyWorkEndDate').value = formatDate(oneWeekLater);
            
            document.getElementById('worksbyWorkerCount').value = '5';
            document.getElementById('worksbyBudgetAmount').value = '500000';

            
            // ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ì—ë””í„°ì— ê°„ì†Œí™”ëœ ë‚´ìš© ì…ë ¥
            const contentEditor = document.getElementById('worksbyContentEditor');
            if (contentEditor) {
                contentEditor.innerHTML = `
                    Looking for workers.<br>
                    Looking for workers.<br>
                    Looking for workers.
                `;
            }
            
            // í† ê¸€ ìŠ¤ìœ„ì¹˜ ì„¤ì •
            document.getElementById('worksbyActiveToggle').checked = true;
            document.getElementById('worksbyImportantProject').checked = false;
            
            console.log('Workspy project modal initialization completed with dummy data');
        }

        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ë“±ë¡ ëª¨ë‹¬ ë‹«ê¸°
        function closeWorksbyProjectModal() {
            document.getElementById('worksbyProjectModal').style.display = 'none';
            document.getElementById('worksbyProjectForm').reset();
            document.getElementById('worksbyContentEditor').innerHTML = '';
        }

        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ì œì¶œ ì²˜ë¦¬
        function handleWorksbyProjectSubmit() {
            
            // í•„ìˆ˜ í•„ë“œ ê²€ì¦
            const service = document.getElementById('worksbyServiceSelect').value;
            const title = document.getElementById('worksbyProjectTitle').value;
            const startDate = document.getElementById('worksbyProjectStartDate').value;
            const endDate = document.getElementById('worksbyProjectEndDate').value;
            const workStartDate = document.getElementById('worksbyWorkStartDate').value;
            const workEndDate = document.getElementById('worksbyWorkEndDate').value;
            const qualification = document.getElementById('worksbyQualification').value;
            
            if (!service) {
                alert('Please select a service.');
                return;
            }
            if (!title.trim()) {
                alert('Please enter a project name.');
                return;
            }
            if (!startDate) {
                alert('Please enter a start date.');
                return;
            }
            if (!endDate) {
                alert('Please enter an end date.');
                return;
            }
            // ì‘ì—…ê¸°ê°„ ìœ íš¨ì„±ì€ ì„ íƒëœ ê²½ìš°ì—ë§Œ ê²€ì‚¬
            if ((workStartDate && !workEndDate) || (!workStartDate && workEndDate)) {
                alert('Work period requires both start and end dates.');
                return;
            }
            if (workStartDate && workEndDate && new Date(workEndDate) < new Date(workStartDate)) {
                alert('Work period end date must be after start date.');
                return;
            }
            
            // ì¢…ë£Œì¼ì´ ì‹œì‘ì¼ë³´ë‹¤ ì´ì „ì¸ì§€ ì²´í¬
            if (new Date(endDate) <= new Date(startDate)) {
                alert('End date must be after start date.');
                return;
            }
            
            const formData = {
                service: service,
                title: title.trim(),
                startDate: startDate,
                endDate: endDate,
                workStartDate: workStartDate,
                workEndDate: workEndDate,
                qualification: qualification,
                workerCount: document.getElementById('worksbyWorkerCount').value || '0',

                budget: document.getElementById('worksbyBudgetAmount').value,

                description: document.getElementById('worksbyContentEditor').innerHTML || 'No project description added.',
                isActive: document.getElementById('worksbyActiveToggle').checked,
                isImportant: document.getElementById('worksbyImportantProject').checked
            };
            
            saveWorksbyProject(formData);
        }

        // ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ì €ì¥
        function saveWorksbyProject(formData) {
            
            // í”„ë¡œì íŠ¸ ë²ˆí˜¸ ìƒì„±
            const projectNo = 'PJ' + new Date().toISOString().slice(0, 10).replace(/-/g, '') + Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            
            // ì¸ë„¤ì¼ í…ìŠ¤íŠ¸ ìƒì„±
            const thumbnailText = formData.service === 'Workspy' ? 'WORKSPY' : 
                                formData.service === 'Soribaro' ? 'SORIBARO' :
                                formData.service === 'Teambell' ? 'TEAMBELL' :
                                formData.service === 'Ntube' ? 'NTUBE' :
                                formData.service === 'The Data' ? 'DATA' :
                                formData.service === 'Texta' ? 'TEXTA' : 'PROJECT';

            // í”„ë¡œì íŠ¸ ë°ì´í„° ìƒì„±
            worksbyProjectData = {
                projectNo: projectNo,
                title: formData.title,
                service: formData.service,
                startDate: formData.startDate,
                endDate: formData.endDate,
                workStartDate: formData.workStartDate,
                workEndDate: formData.workEndDate,
                qualification: formData.qualification,
                workerCount: formData.workerCount || '0',
                budget: formData.budget,
                description: formData.description,
                isActive: formData.isActive,
                isImportant: formData.isImportant,
                thumbnailText: thumbnailText,
                regDate: new Date().toISOString().slice(0, 16).replace('T', ' ')
            };
            
            // currentProjectDataì—ë„ ë™ì¼í•œ ë°ì´í„° ì €ì¥
            currentProjectData = worksbyProjectData;
                
                // í”„ë¡œì íŠ¸ ìƒì„± í›„ ì¦‰ì‹œ ì‘ì—…ê´€ë¦¬ í…Œì´ë¸” ë…¸ì¶œ
                const workMgmt = document.getElementById('work-management-table-section');
                if (workMgmt) {
                    workMgmt.style.display = 'block';
                
                // ì›ìŠ¤íŒŒì´ ë“±ë¡ í™•ì¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½ (ë“±ë¡ì™„ë£Œ ìƒíƒœ)
                const worksbyCheckBtn = document.getElementById('workspy-check-btn');
                if (worksbyCheckBtn) {
                    worksbyCheckBtn.style.background = '#10b981';
                    worksbyCheckBtn.innerHTML = '<span>âœ…</span> Registration Confirmed';
                }
                    
                    // ì‘ì—…ê´€ë¦¬ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
                    setTimeout(() => {
                        workMgmt.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 500);
            }
            
            // ëª¨ë‹¬ ë‹«ê¸°
            closeWorksbyProjectModal();
            
            alert('Workspy project has been registered!\n\nThe project has been registered on Workspy and worker recruitment has started.');
        }


        // ëœë¤ ì¸ë„¤ì¼ ìƒ‰ìƒ ìƒì„±
        function getRandomThumbnailColor() {
            const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#06b6d4', '#84cc16', '#f97316'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥
        document.addEventListener('DOMContentLoaded', function() {
            const fileUpload = document.getElementById('file-upload');
            const uploadedFiles = document.getElementById('uploaded-files');
            const fileList = document.getElementById('file-list');
            
            fileUpload.addEventListener('change', function(e) {
                const files = Array.from(e.target.files);
                if (files.length > 0) {
                    uploadedFiles.style.display = 'block';
                    fileList.innerHTML = '';
                    
                    files.forEach(file => {
                        const li = document.createElement('li');
                        li.style.cssText = 'padding: 8px; background: #f3f4f6; margin-bottom: 5px; border-radius: 4px; display: flex; justify-content: space-between; align-items: center;';
                        li.innerHTML = `
                            <span>ğŸ“„ ${file.name} (${(file.size / 1024).toFixed(1)} KB)</span>
                            <button onclick="removeFile(this)" style="background: #ef4444; color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 12px; cursor: pointer;">Delete</button>
                        `;
                        fileList.appendChild(li);
                    });
                }
            });
            
            // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥
            const uploadArea = document.querySelector('.upload-area');
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = '#3b82f6';
                this.style.background = 'rgba(59, 130, 246, 0.1)';
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.style.borderColor = '#d1d5db';
                this.style.background = '#f9fafb';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = '#d1d5db';
                this.style.background = '#f9fafb';
                
                const files = Array.from(e.dataTransfer.files);
                if (files.length > 0) {
                    // íŒŒì¼ ì…ë ¥ ìš”ì†Œì— íŒŒì¼ ì„¤ì • (ê°€ìƒìœ¼ë¡œ)
                    const dt = new DataTransfer();
                    files.forEach(file => dt.items.add(file));
                    fileUpload.files = dt.files;
                    
                    // change ì´ë²¤íŠ¸ ë°œìƒì‹œí‚¤ê¸°
                    fileUpload.dispatchEvent(new Event('change'));
                }
            });
            
            // DOMContentLoadedì—ì„œëŠ” ì›ìŠ¤íŒŒì´ í¼ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•˜ì§€ ì•ŠìŒ (ëª¨ë‹¬ ì—´ë¦´ ë•Œ ë“±ë¡)
            
            // ì›ìŠ¤íŒŒì´ ì‘ì—…ì ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸
            const worksbyWorkerCheckboxes = document.querySelectorAll('input[name="worksbyWorkerSelect"]');
            worksbyWorkerCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateWorksbySelectedWorkerCount);
            });
        });



        // íŒŒì¼ ì—…ë¡œë“œ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function handleWorksbyThumbnailUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.getElementById('worksbyThumbnailImage').src = e.target.result;
                        document.querySelector('#worksbyThumbnailUpload .file-upload-content').style.display = 'none';
                        document.getElementById('worksbyThumbnailPreview').style.display = 'flex';
                    };
                    reader.readAsDataURL(file);
                } else {
                    alert('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                    input.value = '';
                }
            }
        }

        function removeWorksbyThumbnail() {
            document.getElementById('worksbyThumbnailInput').value = '';
            document.getElementById('worksbyThumbnailImage').src = '';
            document.querySelector('#worksbyThumbnailUpload .file-upload-content').style.display = 'flex';
            document.getElementById('worksbyThumbnailPreview').style.display = 'none';
        }

        function handleWorksbyAttachmentUpload(input) {
            const files = Array.from(input.files);
            const fileList = document.getElementById('worksbyAttachmentList');
            
            files.forEach(file => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-info">
                        <span class="file-icon">ğŸ“„</span>
                        <div>
                            <div class="file-name">${file.name}</div>
                            <div class="file-size">${(file.size / 1024).toFixed(1)} KB</div>
                        </div>
                    </div>
                    <button class="file-remove" onclick="removeWorksbyAttachment(this)">Ã—</button>
                `;
                fileList.appendChild(fileItem);
            });
            
            if (files.length > 0) {
                document.querySelector('#worksbyAttachmentUpload .file-upload-content').style.display = 'none';
            }
        }

        function removeWorksbyAttachment(button) {
            button.parentElement.remove();
            const fileList = document.getElementById('worksbyAttachmentList');
            if (fileList.children.length === 0) {
                document.querySelector('#worksbyAttachmentUpload .file-upload-content').style.display = 'flex';
                document.getElementById('worksbyAttachmentInput').value = '';
            }
        }

        // í…ìŠ¤íŠ¸ í¬ë§·íŒ… í•¨ìˆ˜
        function formatText(command) {
            document.execCommand(command, false, null);
        }

        // íŒŒì¼ ì‚­ì œ ê¸°ëŠ¥
        function removeFile(button) {
            button.parentElement.remove();
            
            // íŒŒì¼ ëª©ë¡ì´ ë¹„ì–´ìˆìœ¼ë©´ ì—…ë¡œë“œ ì˜ì—­ ìˆ¨ê¸°ê¸°
            const fileList = document.getElementById('file-list');
            if (fileList.children.length === 0) {
                document.getElementById('uploaded-files').style.display = 'none';
                document.getElementById('file-upload').value = '';
            }
        }
    </script>

    <script>
        // projects.htmlì—ì„œ ê°€ì ¸ì˜¨ JavaScript í•¨ìˆ˜ë“¤
        
        // ê°„ë‹¨í•œ íƒ­ ì „í™˜ í•¨ìˆ˜
        function showTab(tabName) {
            // ëª¨ë“  íƒ­ íŒ¨ë„ ìˆ¨ê¸°ê¸°
            document.getElementById('tab-info').classList.remove('active');
            document.getElementById('tab-workers').classList.remove('active');
            
            // ì„ íƒëœ íƒ­ ë³´ì´ê¸°
            document.getElementById('tab-' + tabName).classList.add('active');
            
            // íƒ­ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = '#f8fafc';
                btn.style.color = '#6b7280';
                btn.style.borderBottom = '3px solid transparent';
            });
            
            // í´ë¦­ëœ íƒ­ ë²„íŠ¼ í™œì„±í™”
            event.target.classList.add('active');
            event.target.style.background = 'white';
            event.target.style.color = '#3b82f6';
            event.target.style.borderBottom = '3px solid #3b82f6';
            
            // íƒ­ì— ë”°ë¼ í•˜ë‹¨ ë²„íŠ¼ ë³€ê²½
            const actionBtn = document.getElementById('modalActionBtn');
            if (tabName === 'info') {
                actionBtn.textContent = 'ìˆ˜ì •';
                actionBtn.onclick = editProject;
                actionBtn.className = 'btn-edit';
            } else if (tabName === 'workers') {
                actionBtn.textContent = 'í™•ì •';
                actionBtn.onclick = confirmWorkers;
                actionBtn.className = 'btn-confirm';
            }
        }
        
        // ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
        function openDetailModal(projectData) {
            console.log('=== openDetailModal í˜¸ì¶œë¨ ===');
            console.log('ì „ë‹¬ë°›ì€ projectData:', projectData);
            
            // í”„ë¡œì íŠ¸ ë°ì´í„°ë¡œ ëª¨ë‹¬ ë‚´ìš© ì—…ë°ì´íŠ¸
            if (projectData) {
                console.log('ë°ì´í„° ë§¤í•‘ ì‹œì‘...');
                
                document.getElementById('detailNo').textContent = projectData.projectNo || 'PJ202507160057';
                document.getElementById('detailService').textContent = projectData.service || 'Workspy';
                document.getElementById('detailRegDate').textContent = projectData.regDate || '2025.01.02 14:30';
                document.getElementById('detailTitle').textContent = projectData.title || 'Untitled Audio Transcription Project';
                // ëª¨ì§‘ê¸°ê°„(ë‚ ì§œ+ì‹œê°„)
                const formatDateTime = (s) => {
                    if (!s) return '';
                    if (/^\d{4}\.\d{2}\.\d{2}/.test(s)) return s;
                    const d = new Date(s);
                    if (Number.isNaN(d.getTime())) return s;
                    const yyyy = d.getFullYear();
                    const mm = String(d.getMonth()+1).padStart(2,'0');
                    const dd = String(d.getDate()).padStart(2,'0');
                    const hh = String(d.getHours()).padStart(2,'0');
                    const mi = String(d.getMinutes()).padStart(2,'0');
                    return `${yyyy}.${mm}.${dd} ${hh}:${mi}`;
                };
                const formatDateOnly = (s) => {
                    if (!s) return '';
                    if (/^\d{4}\.\d{2}\.\d{2}/.test(s)) return s;
                    const d = new Date(s);
                    if (Number.isNaN(d.getTime())) return s;
                    const yyyy = d.getFullYear();
                    const mm = String(d.getMonth()+1).padStart(2,'0');
                    const dd = String(d.getDate()).padStart(2,'0');
                    return `${yyyy}.${mm}.${dd}`;
                };
                document.getElementById('detailProjectPeriod').textContent = `${formatDateTime(projectData.startDate)} ~ ${formatDateTime(projectData.endDate)}`;
                // ì‘ì—…ê¸°ê°„(ë‚ ì§œë§Œ)
                const workEl = document.getElementById('detailWorkPeriod');
                if (workEl) {
                    workEl.textContent = (projectData.workStartDate && projectData.workEndDate)
                        ? `${formatDateOnly(projectData.workStartDate)} ~ ${formatDateOnly(projectData.workEndDate)}`
                        : '2025.08.21 ~ 2025.09.02';
                }
                // ì§€ì›ìê²©
                const qualificationLabelMap = { anyone: 'Anyone', stenographer: 'Stenographer' };
                const qualEl = document.getElementById('detailQualification');
                if (qualEl) qualEl.textContent = qualificationLabelMap[projectData.qualification] || 'Anyone';
                
                document.getElementById('detailWorkerCount').textContent = `0 / ${projectData.workerCount || '5'} workers`;
                document.getElementById('detailBudget').textContent = projectData.budget ? projectData.budget + 'ì›' : '500,000ì›';
                document.getElementById('detailContent').innerHTML = projectData.description || 'No project description available.';
                
                // ì„ íƒëœ íŒŒì¼ ì„¹ì…˜ ì œê±°ë¨
                
                console.log('ë°ì´í„° ë§¤í•‘ ì™„ë£Œ!');
                console.log('detailNo:', document.getElementById('detailNo').textContent);
                console.log('detailTitle:', document.getElementById('detailTitle').textContent);
                console.log('detailContent:', document.getElementById('detailContent').innerHTML);
            } else {
                console.error('projectDataê°€ ì—†ìŠµë‹ˆë‹¤!');
            }
            
            document.getElementById('detailModal').style.display = 'flex';
            
            // íƒ­ ì´ˆê¸°í™” - í”„ë¡œì íŠ¸ ì •ë³´ íƒ­ì„ ê¸°ë³¸ìœ¼ë¡œ í™œì„±í™”
            document.getElementById('tab-info').classList.add('active');
            document.getElementById('tab-workers').classList.remove('active');
            
            // íƒ­ ë²„íŠ¼ ì´ˆê¸°í™”
            const tabButtons = document.querySelectorAll('#detailModal .tab-btn');
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = '#f8fafc';
                btn.style.color = '#6b7280';
                btn.style.borderBottom = '3px solid transparent';
            });
            
            // ì²« ë²ˆì§¸ íƒ­ ë²„íŠ¼ í™œì„±í™”
            const firstTabBtn = document.querySelector('#detailModal .tab-btn');
            if (firstTabBtn) {
                firstTabBtn.classList.add('active');
                firstTabBtn.style.background = 'white';
                firstTabBtn.style.color = '#3b82f6';
                firstTabBtn.style.borderBottom = '3px solid #3b82f6';
            }
            
            // ë””ë²„ê¹…: íƒ­ ìƒíƒœ í™•ì¸
            console.log('=== íƒ­ ìƒíƒœ í™•ì¸ ===');
            console.log('tab-info ìš”ì†Œ:', document.getElementById('tab-info'));
            console.log('tab-info í´ë˜ìŠ¤:', document.getElementById('tab-info')?.className);
            console.log('tab-info ìŠ¤íƒ€ì¼:', document.getElementById('tab-info')?.style.display);
            console.log('tab-workers ìš”ì†Œ:', document.getElementById('tab-workers'));
            console.log('tab-workers í´ë˜ìŠ¤:', document.getElementById('tab-workers')?.className);
            
            // ëª¨ë‹¬ ì—´ ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ ì •ë³´ íƒ­ í™œì„±í™” ë° ë²„íŠ¼ ì„¤ì •
            const actionBtn = document.getElementById('modalActionBtn');
            actionBtn.textContent = 'ìˆ˜ì •';
            actionBtn.onclick = editProject;
            actionBtn.className = 'btn-edit';
            
            console.log('=== ëª¨ë‹¬ ì—´ê¸° ì™„ë£Œ ===');
        }
        
        function closeDetailModal() {
            document.getElementById('detailModal').style.display = 'none';
        }
        
        
        // ê°„ë‹¨í•œ ê¸°ëŠ¥ë“¤
        function updateWorkerStatus(workerNo, status) {
            const statusText = status === 'assigned' ? 'Assigned' : 'Unassigned';
            if (confirm(`ì‘ì—…ìë¥¼ ${statusText}í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                alert(`ì‘ì—…ìê°€ ${statusText}ë˜ì—ˆìŠµë‹ˆë‹¤.`);
            }
        }
        
        
        // í”„ë¡œì íŠ¸ ì¢…ë£Œ (ê¸°íšìš©)
        function closeProjectPermanently() {
            if (!confirm('Do you want to close the project?\n\nThis is for demonstration purposes and will only change the screen state.')) {
                return;
            }
            // ìƒíƒœ ë°°ì§€ë¥¼ ì¢…ë£Œë¡œ í‘œì‹œ
            const recruitBadge = document.getElementById('recruitStatusBadge');
            const workBadge = document.getElementById('workStatusBadge');
            if (recruitBadge) {
                recruitBadge.textContent = 'Closed';
                recruitBadge.style.background = '#6b7280';
            }
            if (workBadge) {
                workBadge.textContent = 'Closed';
                workBadge.style.background = '#6b7280';
            }
            alert('The project has been marked as closed.');
        }
        
        function confirmWorkers() {
            // í…Œì´ë¸” ë‚´ Assigned ìƒíƒœ ì—¬ë¶€ í™•ì¸
            const hasAssignedInTable = Array.from(document.querySelectorAll('#detailModal .applicant-status'))
                .some(span => span.textContent.trim() === 'Assigned');
            // ìˆ˜ë™ Assignedëœ ì‘ì—…ì ì—¬ë¶€ í™•ì¸
            const manualCount = (typeof manuallyAssignedWorkers !== 'undefined' && Array.isArray(manuallyAssignedWorkers))
                ? manuallyAssignedWorkers.length : 0;
            
            if (!hasAssignedInTable && manualCount === 0) {
                alert('Assignedëœ ì‘ì—…ìê°€ ì—†ìŠµë‹ˆë‹¤. ì‘ì—…ìë¥¼ Assignedí•œ í›„ í™•ì •í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            alert('ì‘ì—…ì í™•ì • ì²˜ë¦¬ ì™„ë£Œ');
            closeDetailModal();
        }
        
        function formatText(command) {
            document.execCommand(command, false, null);
        }
        
        function handleThumbnailUpload(input) {
            alert('ì¸ë„¤ì¼ ì—…ë¡œë“œ');
        }
        
        function handleAttachmentUpload(input) {
            alert('ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ');
        }
        
        function removeThumbnail() {
            alert('ì¸ë„¤ì¼ ì œê±°');
        }
        
        function removeAttachment(fileName) {
            alert('ì²¨ë¶€íŒŒì¼ ì œê±°');
        }
        
        // ì²´í¬ë°•ìŠ¤ ì „ì²´ ì„ íƒ/í•´ì œ
        function toggleAllWorkers(selectAllCheckbox) {
            const checkboxes = document.querySelectorAll('input[name="workerSelect"]');
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
            });
            updateSelectedWorkerCount();
        }
        
        // ì„ íƒëœ ì²´í¬ë°•ìŠ¤ ê°œìˆ˜ ì—…ë°ì´íŠ¸
        function updateSelectedWorkerCount() {
            const checkedBoxes = document.querySelectorAll('input[name="workerSelect"]:checked');
            const countElement = document.getElementById('selectedWorkerCount');
            if (countElement) {
                countElement.textContent = checkedBoxes.length + 'ëª…';
            }
        }
        
        // ì¼ê´„ Assigned/Unassigned ì²˜ë¦¬
        function batchUpdateWorkerStatus(status) {
            const checkedBoxes = document.querySelectorAll('input[name="workerSelect"]:checked');
            if (checkedBoxes.length === 0) {
                alert('No workers selected.');
                return;
            }
            
            const statusText = status === 'assigned' ? 'Assigned' : 'Unassigned';
            const confirmMessage = `Do you want to ${statusText.toLowerCase()} ${checkedBoxes.length} selected workers?`;
            
            if (confirm(confirmMessage)) {
                checkedBoxes.forEach(checkbox => {
                    const row = checkbox.closest('tr');
                    // ìƒíƒœ spanì„ ì§ì ‘ ì°¾ê³  ê·¸ ì…€ì˜ ì´ì „ ì…€ì„ Assignedì¼ë¡œ ì‚¬ìš© (ì—´ ì¸ë±ìŠ¤ ì˜ì¡´ ì œê±°)
                    const statusSpan = row.querySelector('.applicant-status');
                    const statusCell = statusSpan ? statusSpan.closest('td') : null;
                    const assignDateCell = statusCell ? statusCell.previousElementSibling : null;
                    
                    if (statusSpan) {
                        if (status === 'assigned') {
                            statusSpan.textContent = 'Assigned';
                            statusSpan.className = 'applicant-status status-approved';
                            if (assignDateCell) {
                                const today = new Date();
                                assignDateCell.textContent = today.toISOString().slice(0, 10).replace(/-/g, '.');
                            }
                        } else if (status === 'unassigned') {
                            statusSpan.textContent = 'Unassigned';
                            statusSpan.className = 'applicant-status status-cancelled';
                            if (assignDateCell) assignDateCell.textContent = '-';
                        }
                    }
                    
                    // ì²´í¬ë°•ìŠ¤ í•´ì œ
                    checkbox.checked = false;
                });
                
                // ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤ë„ í•´ì œ
                const selectAllCheckbox = document.getElementById('selectAllWorkers');
                if (selectAllCheckbox) {
                    selectAllCheckbox.checked = false;
                }
                
                updateSelectedWorkerCount();
                
                // í…Œì´ë¸” ì •ë ¬ (Assigned ìƒë‹¨, Unassigned í•˜ë‹¨)
                sortWorkerTable();
                
                alert(`${checkedBoxes.length} workers have been ${statusText.toLowerCase()}.`);
            }
        }
        
        // ì‘ì—…ì í…Œì´ë¸” ì •ë ¬ (Assigned ìƒë‹¨, Unassigned í•˜ë‹¨)
        function sortWorkerTable() {
            const table = document.querySelector('#detailModal .applicants-table tbody');
            if (!table) return;
            
            const rows = Array.from(table.querySelectorAll('tr'));
            
            // ìƒíƒœì— ë”°ë¼ ì •ë ¬ (Assigned=0, Unassigned=1)
            rows.sort((a, b) => {
                const statusA = a.querySelector('.applicant-status')?.textContent.trim() || '';
                const statusB = b.querySelector('.applicant-status')?.textContent.trim() || '';
                
                const priorityA = statusA === 'Assigned' ? 0 : 1;
                const priorityB = statusB === 'Assigned' ? 0 : 1;
                
                return priorityA - priorityB;
            });
            
            // í…Œì´ë¸”ì— ì •ë ¬ëœ í–‰ë“¤ ë‹¤ì‹œ ì‚½ì…
            rows.forEach(row => table.appendChild(row));
        }
        
        // ì¤‘ë³µëœ í•¨ìˆ˜ ì •ì˜ ì œê±° - ìœ„ì— ì •ì˜ëœ openWorksbyProjectModal() ì‚¬ìš©
        
        

        // ì‘ì—…ì í…Œì´ë¸” í–‰ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€ í•¨ìˆ˜
        function addWorkerRowClickEvents() {
            // ì›ìŠ¤íŒŒì´ ì‘ì—…ì í…Œì´ë¸”
            const worksbyWorkerRows = document.querySelectorAll('#worksbyWorkersList tr');
            worksbyWorkerRows.forEach(row => {
                row.style.cursor = 'pointer';
                row.addEventListener('click', function(e) {
                    // ì²´í¬ë°•ìŠ¤ í´ë¦­ì‹œì—ëŠ” ì‘ì—…ì ìƒì„¸ì •ë³´ë¥¼ ì—´ì§€ ì•ŠìŒ
                    if (e.target.type === 'checkbox') return;
                    openWorkerDetail(this);
                });
            });

            // ì¼ë°˜ ì‘ì—…ì í…Œì´ë¸”
            const workerRows = document.querySelectorAll('#workersList tr');
            workerRows.forEach(row => {
                row.style.cursor = 'pointer';
                row.addEventListener('click', function(e) {
                    // ì²´í¬ë°•ìŠ¤ í´ë¦­ì‹œì—ëŠ” ì‘ì—…ì ìƒì„¸ì •ë³´ë¥¼ ì—´ì§€ ì•ŠìŒ
                    if (e.target.type === 'checkbox') return;
                    openWorkerDetail(this);
                });
            });
        }

        // ì‘ì—…ì ìƒì„¸ì •ë³´ íŒì—… ì—´ê¸°
        function openWorkerDetail(row) {
            const cells = row.querySelectorAll('td');
            if (cells.length >= 8) {
                const workerData = {
                    name: cells[1].textContent,
                    gender: cells[2].textContent,
                    phone: cells[3].textContent,
                    birth: cells[4].textContent,
                    address: cells[5].textContent,
                    certificate: cells[6].textContent,
                    assignmentDate: cells[7].textContent,
                    status: cells[8].textContent
                };
                
                // ì‹¤ì œ ë°ì´í„°ë¡œ íŒì—… ë‚´ìš© ì—…ë°ì´íŠ¸
                document.getElementById('detail-name').textContent = workerData.name || 'ê¹€ì‘ì—…';
                document.getElementById('detail-phone').textContent = workerData.phone || '010-1234-5678';
                document.getElementById('detail-address').textContent = workerData.address || 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬';
                document.getElementById('detail-device').textContent = 'ì†Œë¦¬ìë°”';
                document.getElementById('detail-association').textContent = 'ì •íšŒì›';
                document.getElementById('detail-coupon').textContent = '2H30-5H4A-6E7F';
                
                // ê¸°ë³¸ì •ë³´
                document.getElementById('detail-gender').textContent = workerData.gender || 'Male';
                document.getElementById('detail-birth').textContent = workerData.birth || '1985.03.12';
                document.getElementById('detail-email').textContent = workerData.name ? workerData.name.toLowerCase() + '@email.com' : 'kimwork@email.com';
                document.getElementById('detail-education').textContent = 'ëŒ€í•™ 4ë…„ ì¡¸ì—…';
                document.getElementById('detail-school').textContent = 'í•œêµ­ëŒ€í•™êµ';
                document.getElementById('detail-major').textContent = 'ì»´í“¨í„°ê³µí•™ê³¼';
                document.getElementById('detail-korean-stenography').textContent = workerData.certificate || 'Level 2';
                document.getElementById('detail-acquisition-year').textContent = '2020ë…„';
                document.getElementById('detail-exam-round').textContent = '1íšŒ';
                document.getElementById('detail-marketing').textContent = 'Y';
                
                document.getElementById('workerDetailModal').style.display = 'block';
            }
        }

        // ì‘ì—…ì ìƒì„¸ì •ë³´ íŒì—… ë‹«ê¸°
        function closeWorkerDetail() {
            document.getElementById('workerDetailModal').style.display = 'none';
        }

        // ê´€ë¦¬ì ë©”ëª¨ ì €ì¥
        function saveAdminMemo() {
            const memo = document.getElementById('admin-memo').value;
            alert('Admin memo has been saved.');
        }

        // ì‘ì—…ì ìˆ˜ë™ Assigned ëª¨ë‹¬ ì—´ê¸°
        function openManualAssignModal() {
            document.getElementById('manualAssignModal').style.display = 'block';
            // ê²€ìƒ‰ ê²°ê³¼ ì´ˆê¸°í™”
            document.getElementById('searchResults').innerHTML = '<div style="text-align: center; color: #6b7280; padding: 40px;">Enter search keyword and click search button.</div>';
            document.getElementById('searchKeyword').value = '';
        }

        // ì‘ì—…ì ìˆ˜ë™ Assigned ëª¨ë‹¬ ë‹«ê¸°
        function closeManualAssignModal() {
            document.getElementById('manualAssignModal').style.display = 'none';
        }

        // ì‘ì—…ì ê²€ìƒ‰
        function searchWorkers() {
            const searchType = document.getElementById('searchType').value;
            const keyword = document.getElementById('searchKeyword').value.trim();
            
            if (!keyword) {
                alert('Please enter a search keyword.');
                return;
            }

            // ë”ë¯¸ ê²€ìƒ‰ ê²°ê³¼ ë°ì´í„°
            const allWorkers = [
                { id: 'w001', name: 'ì°¨ì •í›ˆ', email: 'jeonghoon@email.com', phone: '010-1234-5678', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬', certificate: 'Level 1' },
                { id: 'w002', name: 'ê¹€ì² ìˆ˜', email: 'chulsu@email.com', phone: '010-2345-6789', address: 'ê²½ê¸°ë„ ìˆ˜ì›ì‹œ', certificate: 'Level 2' },
                { id: 'w003', name: 'ê¹€ë¯¼ì§€', email: 'minji@email.com', phone: '010-1111-2222', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬', certificate: 'Level 1' },
                { id: 'w004', name: 'ë°•ì¤€í˜¸', email: 'junho@email.com', phone: '010-2222-3333', address: 'ê²½ê¸°ë„ ì„±ë‚¨ì‹œ', certificate: 'Level 2' },
                { id: 'w005', name: 'ì´ì†Œì—°', email: 'soyeon@email.com', phone: '010-3333-4444', address: 'ì¸ì²œê´‘ì—­ì‹œ', certificate: 'Level 3' },
                { id: 'w006', name: 'ìµœëŒ€í•œ', email: 'daehan@email.com', phone: '010-4444-5555', address: 'ë¶€ì‚°ê´‘ì—­ì‹œ', certificate: 'Level 1' },
                { id: 'w007', name: 'ê¹€íƒœí˜„', email: 'taehyun@email.com', phone: '010-5555-6666', address: 'ëŒ€êµ¬ê´‘ì—­ì‹œ', certificate: 'Level 2' }
            ];

            // ê²€ìƒ‰ ì¡°ê±´ì— ë”°ë¥¸ í•„í„°ë§ ë° ì´ë¯¸ Assignedëœ ì‘ì—…ì ì œì™¸
            const filteredWorkers = allWorkers.filter(worker => {
                // ì´ë¯¸ Assignedëœ ì‘ì—…ìëŠ” ì œì™¸
                if (manuallyAssignedWorkers.some(assigned => assigned.id === worker.id)) {
                    return false;
                }
                
                switch(searchType) {
                    case 'name':
                        return worker.name.includes(keyword);
                    case 'email':
                        return worker.email.includes(keyword);
                    case 'phone':
                        return worker.phone.includes(keyword);
                    default:
                        return false;
                }
            });

            // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
            displaySearchResults(filteredWorkers);
        }
        
        // ì‘ì—…ì Assigned ëª¨ë‹¬ ì—´ê¸° (vod-detail.htmlê³¼ ë™ì¼)
        function openWorkerAssignmentModal(fileName) {
            console.log('ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ ì—´ê¸°:', fileName);
            
            // ì„ íƒëœ File Informationë¥¼ ì „ì—­ ë³€ìˆ˜ì— ì €ì¥
            window.selectedFileInfo = {
                fileName: fileName,
                projectTitle: currentProjectData?.title || 'ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸'
            };
            
            // ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ ì—´ê¸°
            document.getElementById('workerManagementModal').style.display = 'flex';
        }
        
        // ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ ë‹«ê¸°
        function closeWorkerManagementModal() {
            document.getElementById('workerManagementModal').style.display = 'none';
        }
        
        // ì‘ì—…ê´€ë¦¬ ì‘ì—…ì ê²€ìƒ‰
        function searchAssignWorkers() {
            const searchKeyword = document.getElementById('worker-search').value.trim();
            const searchType = document.getElementById('worker-search-type').value;
            const resultsContainer = document.getElementById('worker-search-results');
            
            if (!searchKeyword) {
                alert('Please enter a search keyword.');
                return;
            }

            // ë”ë¯¸ ê²€ìƒ‰ ê²°ê³¼ ë°ì´í„° - ê¹€ì² ìˆ˜ ê²€ìƒ‰ ì‹œë‚˜ë¦¬ì˜¤
            const allWorkers = [
                { id: 'w101', name: 'ê¹€ì² ìˆ˜', gender: 'Male', phone: '010-1234-5678', birth: '1990.05.15', address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬', grade: 'Level 1', email: 'kimcs@email.com' },
                { id: 'w102', name: 'ê¹€ì˜í¬', gender: 'Female', phone: '010-2345-6789', birth: '1988.03.22', address: 'ê²½ê¸°ë„ ìˆ˜ì›ì‹œ', grade: 'Level 2', email: 'kimyh@email.com' },
                { id: 'w103', name: 'ì´ì² ìˆ˜', gender: 'Male', phone: '010-3456-7890', birth: '1992.07.08', address: 'ë¶€ì‚°ê´‘ì—­ì‹œ', grade: 'Level 1', email: 'leecs@email.com' }
            ];

            // ê²€ìƒ‰ ì¡°ê±´ì— ë”°ë¥¸ í•„í„°ë§
            const filteredWorkers = allWorkers.filter(worker => {
                switch(searchType) {
                    case 'name':
                        return worker.name.includes(searchKeyword);
                    case 'email':
                        return worker.email.includes(searchKeyword);
                    case 'phone':
                        return worker.phone.includes(searchKeyword);
                    default:
                        return worker.name.includes(searchKeyword);
                }
            });

            if (filteredWorkers.length === 0) {
                resultsContainer.innerHTML = '<div style="text-align: center; color: #6b7280; padding: 20px;">No search results found.</div>';
                return;
            }

            let html = `<div style="margin-bottom: 10px; color: #374151; font-weight: 600;">Search Results ${filteredWorkers.length} workers</div>`;
            
            filteredWorkers.forEach(worker => {
                html += `
                    <div style="display: flex; align-items: center; gap: 15px; padding: 8px 12px; background: #f9fafb; border-radius: 6px; margin-bottom: 6px; border: 1px solid #e5e7eb;">
                        <input type="radio" name="assignWorker" value="${worker.id}" id="search-${worker.id}">
                        <label for="search-${worker.id}" style="flex: 1; cursor: pointer; display: flex; align-items: center; gap: 20px;">
                            <div style="font-weight: 600; color: #1f2937; font-size: 15px; min-width: 80px;">${worker.name}</div>
                            <div style="font-size: 14px; color: #6b7280;">${worker.gender} | ${worker.phone} | ${worker.birth} | ${worker.address} | ${worker.grade}</div>
                        </label>
                    </div>
                `;
            });

            resultsContainer.innerHTML = html;
        }
        
        // ì‘ì—…ì Assigned ì‹¤í–‰
        function assignWorker() {
            const selectedRadio = document.querySelector('input[name="assignWorker"]:checked');
            
            if (!selectedRadio) {
                alert('Assignedí•  ì‘ì—…ìë¥¼ ì„ íƒí•˜ì„¸ìš”.');
                return;
            }

            // ì„ íƒëœ ì‘ì—…ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            const workerLabel = selectedRadio.nextElementSibling;
            const workerName = workerLabel.querySelector('div').textContent;
            
            if (confirm(`${workerName} ì‘ì—…ìë¥¼ Assignedí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                // ì‘ì—…ê´€ë¦¬ í…Œì´ë¸”ì˜ ì‘ì—…ì ì»¬ëŸ¼ ì—…ë°ì´íŠ¸
                updateWorkerInManagementTable(workerName);
                
                alert(`${workerName} ì‘ì—…ìê°€ Assignedë˜ì—ˆìŠµë‹ˆë‹¤.`);
                closeWorkerAssignModal();
            }
        }
        
        // ì‘ì—…ê´€ë¦¬ í…Œì´ë¸”ì˜ ì‘ì—…ì ì»¬ëŸ¼ ì—…ë°ì´íŠ¸
        function updateWorkerInManagementTable(workerName) {
            // ì‘ì—…ê´€ë¦¬ í…Œì´ë¸” ì—…ë°ì´íŠ¸
            const workerCell = document.getElementById('assigned-worker-cell');
            if (workerCell) {
                workerCell.textContent = workerName;
                workerCell.style.color = '#059669';
                workerCell.style.fontWeight = '500';
            }
            
            // íŒŒì¼ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸”ì˜ ì‘ì—…ì ì»¬ëŸ¼ë„ ì—…ë°ì´íŠ¸
            const fileListWorkerCell = document.getElementById('file-list-worker-cell');
            if (fileListWorkerCell) {
                fileListWorkerCell.textContent = workerName;
                fileListWorkerCell.style.color = '#059669';
                fileListWorkerCell.style.fontWeight = '500';
            }
            
            // íŒŒì¼ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸”ì˜ ì§„í–‰ìƒíƒœë„ 'Assignedì™„ë£Œ'ë¡œ ì—…ë°ì´íŠ¸
            const fileListStatusBadge = document.getElementById('file-list-status-badge');
            if (fileListStatusBadge) {
                fileListStatusBadge.textContent = 'Assignment Complete';
                fileListStatusBadge.className = 'status-badge status-inprogress';
            }
        }

        // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
        function displaySearchResults(workers) {
            const resultsContainer = document.getElementById('searchResults');
            
            if (workers.length === 0) {
                resultsContainer.innerHTML = '<div style="text-align: center; color: #6b7280; padding: 40px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            let html = '<div style="border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden;">';
            html += '<table style="width: 100%; border-collapse: collapse;">';
            html += '<thead style="background: #f9fafb;">';
            html += '<tr>';
            html += '<th style="padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; font-size: 14px; font-weight: 600;">ì„ íƒ</th>';
            html += '<th style="padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; font-size: 14px; font-weight: 600;">ì´ë¦„</th>';
            html += '<th style="padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; font-size: 14px; font-weight: 600;">ì´ë©”ì¼</th>';
            html += '<th style="padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; font-size: 14px; font-weight: 600;">ì „í™”ë²ˆí˜¸</th>';
            html += '<th style="padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; font-size: 14px; font-weight: 600;">ì£¼ì†Œ</th>';
            html += '<th style="padding: 12px; text-align: center; border-bottom: 1px solid #e5e7eb; font-size: 14px; font-weight: 600;">ìê²©ì¦</th>';
            html += '</tr>';
            html += '</thead>';
            html += '<tbody>';

            workers.forEach((worker, index) => {
                html += `<tr style="border-bottom: 1px solid #e5e7eb; ${index % 2 === 1 ? 'background: #f9fafb;' : ''}">`;
                html += `<td style="padding: 12px; text-align: center;"><input type="radio" name="selectedWorker" value="${worker.id}" data-name="${worker.name}"></td>`;
                html += `<td style="padding: 12px; text-align: center;">${worker.name}</td>`;
                html += `<td style="padding: 12px; text-align: center;">${worker.email}</td>`;
                html += `<td style="padding: 12px; text-align: center;">${worker.phone}</td>`;
                html += `<td style="padding: 12px; text-align: center;">${worker.address}</td>`;
                html += `<td style="padding: 12px; text-align: center;">${worker.certificate}</td>`;
                html += '</tr>';
            });

            html += '</tbody>';
            html += '</table>';
            html += '</div>';

            resultsContainer.innerHTML = html;
        }

        // Assignedëœ ì‘ì—…ì ëª©ë¡ (ì „ì—­ ë³€ìˆ˜)
        let manuallyAssignedWorkers = [];

        // ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ì—ì„œ ì‘ì—…ì í™•ì •
        function confirmWorkersModal() {
            const assignedWorkers = document.querySelectorAll('#workersListModal .applicant-status.status-approved');
            if (assignedWorkers.length === 0) {
                alert('Assignedëœ ì‘ì—…ìê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            // Assignedëœ ì‘ì—…ì ì´ë¦„ ìˆ˜ì§‘
            const workerNames = [];
            assignedWorkers.forEach(statusSpan => {
                const row = statusSpan.closest('tr');
                const nameCell = row.querySelector('td:nth-child(2)'); // ì´ë¦„ ì»¬ëŸ¼
                if (nameCell) {
                    workerNames.push(nameCell.textContent.trim());
                }
            });
            
            // í˜„ì¬ ì„ íƒëœ File Information ê°€ì ¸ì˜¤ê¸°
            const selectedFile = window.selectedFileInfo;
            const targetFileName = selectedFile?.fileName || '';
            
            if (confirm(`Do you want to confirm ${workerNames.length} workers for the "${targetFileName}" file?\n\nConfirmed workers: ${workerNames.join(', ')}`)) {
                // í•´ë‹¹ íŒŒì¼ì— ì‘ì—…ì Assigned
                if (workerNames.length > 0) {
                    updateWorkerInManagementTable(workerNames[0]); // ì²« ë²ˆì§¸ ì‘ì—…ì Assigned
                }
                
                closeWorkerManagementModal();
                alert(`${workerNames.length} workers have been confirmed for the "${targetFileName}" file.`);
            }
        }
        
        // ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ ì¼ê´„ Assigned/Unassigned ì²˜ë¦¬
        function batchUpdateWorkerStatusModal(status) {
            const checkedBoxes = document.querySelectorAll('input[name="workerSelectModal"]:checked');
            if (checkedBoxes.length === 0) {
                alert('No workers selected.');
                return;
            }
            
            const statusText = status === 'assigned' ? 'Assigned' : 'Unassigned';
            const confirmMessage = `Do you want to ${statusText.toLowerCase()} ${checkedBoxes.length} selected workers?`;
            
            if (confirm(confirmMessage)) {
                checkedBoxes.forEach(checkbox => {
                    const row = checkbox.closest('tr');
                    const statusCell = row.querySelector('td:nth-child(9)');
                    const statusSpan = statusCell.querySelector('.applicant-status');
                    
                    if (status === 'assigned') {
                        statusSpan.textContent = 'Assigned';
                        statusSpan.className = 'applicant-status status-approved';
                        statusSpan.style.background = '#dcfce7';
                        statusSpan.style.color = '#166534';
                        // Assignedì¼ ì¶”ê°€
                        const assignDateCell = row.querySelector('td:nth-child(8)');
                        const today = new Date();
                        assignDateCell.textContent = today.toISOString().slice(0, 10).replace(/-/g, '.');
                    } else if (status === 'unassigned') {
                        statusSpan.textContent = 'Unassigned';
                        statusSpan.className = 'applicant-status status-cancelled';
                        statusSpan.style.background = '#fef2f2';
                        statusSpan.style.color = '#991b1b';
                        // Assignedì¼ ì œê±°
                        const assignDateCell = row.querySelector('td:nth-child(8)');
                        assignDateCell.textContent = '-';
                    }
                    
                    // ì²´í¬ë°•ìŠ¤ í•´ì œ
                    checkbox.checked = false;
                });
                
                // ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤ë„ í•´ì œ
                const selectAllCheckbox = document.getElementById('selectAllWorkersModal');
                if (selectAllCheckbox) {
                    selectAllCheckbox.checked = false;
                }
                
                updateSelectedWorkerCountModal();
                
                alert(`${checkedBoxes.length} workers have been ${statusText.toLowerCase()}.`);
            }
        }
        
        // ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ ì„ íƒëœ ì‘ì—…ì ìˆ˜ ì—…ë°ì´íŠ¸
        function updateSelectedWorkerCountModal() {
            const checkedBoxes = document.querySelectorAll('input[name="workerSelectModal"]:checked');
            const countElement = document.getElementById('selectedWorkerCountModal');
            if (countElement) {
                countElement.textContent = checkedBoxes.length + 'ëª…';
            }
        }
        
        // ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.addEventListener('change', function(e) {
            if (e.target.name === 'workerSelectModal') {
                updateSelectedWorkerCountModal();
            }
        });
        
        // ì‘ì—…ì ìˆ˜ë™ Assigned ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
        
        // ì‘ì—…ì ìˆ˜ë™ Assigned ëª¨ë‹¬ ì—´ê¸°
        function openManualWorkerAssignmentModal() {
            console.log('Opening manual worker assignment modal');
            
            // ê²€ìƒ‰ ì´ˆê¸°í™”
            document.getElementById('manualSearchInput').value = '';
            document.getElementById('manualSearchOption').value = 'name';
            document.getElementById('manualSearchResultCount').textContent = '0';
            
            // ê²€ìƒ‰ ê²°ê³¼ ì´ˆê¸°í™”
            const searchResults = document.getElementById('manualSearchResults');
            searchResults.innerHTML = `
                <div style="padding: 60px 20px; text-align: center; color: #9ca3af; font-size: 14px;">
                    Enter search keyword and click search button
                </div>
            `;
            
            // Assigned ë²„íŠ¼ ë¹„í™œì„±í™”
            const assignBtn = document.getElementById('assignSelectedWorkerBtn');
            if (assignBtn) {
                assignBtn.disabled = true;
                assignBtn.style.opacity = '0.5';
            }
            
            document.getElementById('manualWorkerAssignmentModal').style.display = 'flex';
        }
        
        // ì‘ì—…ì ìˆ˜ë™ Assigned ëª¨ë‹¬ ë‹«ê¸°
        function closeManualWorkerAssignmentModal() {
            document.getElementById('manualWorkerAssignmentModal').style.display = 'none';
        }
        
        // ê²€ìƒ‰ í‚¤ ì…ë ¥ ì²˜ë¦¬
        function handleManualSearchKeypress(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                searchManualWorkers();
            }
        }
        
        // ì‘ì—…ì ê²€ìƒ‰ í•¨ìˆ˜
        function searchManualWorkers() {
            const searchOption = document.getElementById('manualSearchOption').value;
            const searchInput = document.getElementById('manualSearchInput').value.trim();
            
            if (!searchInput) {
                alert('Please enter a search keyword.');
                return;
            }
            
            // ì‹œë‚˜ë¦¬ì˜¤: "ì°¨ì •í›ˆ" ê²€ìƒ‰ ì‹œ ê²°ê³¼ í‘œì‹œ
            let searchResults = [];
            
            if (searchInput.includes('ì°¨ì •í›ˆ') || searchInput.includes('ì •í›ˆ')) {
                searchResults = [{
                    id: 'worker_001',
                    name: 'ì°¨ì •í›ˆ',
                    email: 'jeonghoon@email.com',
                    phone: '010-1234-5678',
                    address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬',
                    certificate: 'Level 1'
                }];
            } else if (searchInput.includes('ê¹€ì² ìˆ˜') || searchInput.includes('ì² ìˆ˜')) {
                searchResults = [{
                    id: 'worker_002',
                    name: 'ê¹€ì² ìˆ˜',
                    email: 'chulsu@email.com',
                    phone: '010-2345-6789',
                    address: 'ê²½ê¸°ë„ ìˆ˜ì›ì‹œ',
                    certificate: 'Level 2'
                }];
            }
            
            // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
            displayManualSearchResults(searchResults);
        }
        
        // ìˆ˜ë™ Assigned ëª¨ë‹¬ ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
        function displayManualSearchResults(results) {
            const searchResultsContainer = document.getElementById('manualSearchResults');
            const searchResultCount = document.getElementById('manualSearchResultCount');
            
            if (!searchResultsContainer) {
                return;
            }
            
            // ê²€ìƒ‰ ê²°ê³¼ ê°œìˆ˜ ì—…ë°ì´íŠ¸
            if (searchResultCount) {
                searchResultCount.textContent = results.length;
            }
            
            if (results.length === 0) {
                searchResultsContainer.innerHTML = `
                    <div style="padding: 60px 20px; text-align: center; color: #9ca3af; font-size: 14px;">
                        No search results found
                    </div>
                `;
                return;
            }
            
            // ê²€ìƒ‰ ê²°ê³¼ HTML ìƒì„±
            let resultsHTML = '';
            results.forEach((worker, index) => {
                resultsHTML += `
                    <div class="worker-result-item" style="padding: 16px 20px; border-bottom: ${index < results.length - 1 ? '1px solid #f3f4f6' : 'none'}; cursor: pointer;" 
                         onclick="selectManualWorkerRadio('${worker.id}')">
                        <div style="display: flex; align-items: flex-start; gap: 12px;">
                            <input type="radio" name="selectedManualWorker" value="${worker.id}" 
                                   onchange="handleManualWorkerSelection()" 
                                   style="width: 16px; height: 16px; cursor: pointer; margin-top: 2px;">
                            <div style="flex: 1;">
                                <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 4px;">
                                    ${worker.name}
                                </div>
                                <div style="font-size: 14px; color: #6b7280; margin-bottom: 2px;">
                                    ${worker.email}
                                </div>
                                <div style="display: flex; gap: 15px; font-size: 14px; color: #6b7280;">
                                    <span>ğŸ“ ${worker.phone}</span>
                                    <span>ğŸ“ ${worker.address}</span>
                                    <span style="background: #f3f4f6; color: #374151; padding: 2px 6px; border-radius: 8px; font-size: 12px;">
                                        ğŸ† ${worker.certificate}ê¸‰
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            // ê²€ìƒ‰ ê²°ê³¼ HTML ì„¤ì •
            searchResultsContainer.innerHTML = resultsHTML;
        }
        
        // ìˆ˜ë™ Assigned ëª¨ë‹¬ ì‘ì—…ì ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒ í—¬í¼ í•¨ìˆ˜
        function selectManualWorkerRadio(workerId) {
            const radio = document.querySelector(`input[name="selectedManualWorker"][value="${workerId}"]`);
            if (radio) {
                radio.checked = true;
                handleManualWorkerSelection();
            }
        }
        
        // ìˆ˜ë™ Assigned ëª¨ë‹¬ ì‘ì—…ì ì„ íƒ ì²˜ë¦¬
        function handleManualWorkerSelection() {
            const selectedRadio = document.querySelector('input[name="selectedManualWorker"]:checked');
            const assignBtn = document.getElementById('assignSelectedWorkerBtn');
            
            if (selectedRadio && assignBtn) {
                assignBtn.disabled = false;
                assignBtn.style.opacity = '1';
            }
        }
        
        // ì„ íƒí•œ ì‘ì—…ì Assigned (ìˆ˜ë™ Assigned ëª¨ë‹¬ìš©)
        function assignSelectedWorker() {
            const selectedRadio = document.querySelector('input[name="selectedManualWorker"]:checked');
            
            if (!selectedRadio) {
                alert('Please select a worker to assign.');
                return;
            }
            
            // ì„ íƒëœ ì‘ì—…ì ì •ë³´ ì°¾ê¸°
            const workerId = selectedRadio.value;
            const workerItem = selectedRadio.closest('.worker-result-item');
            const workerName = workerItem.querySelector('div[style*="font-weight: 600"]').textContent;
            
            // í˜„ì¬ ì„ íƒëœ File Information ê°€ì ¸ì˜¤ê¸°
            const selectedFile = window.selectedFileInfo;
            
            if (selectedFile) {
                // ì‘ì—…ê´€ë¦¬ì—ì„œ ê°œë³„ Assigned
                const targetFileName = selectedFile.fileName;
                const confirmMessage = `Do you want to assign "${workerName}" to the "${targetFileName}" file?`;
                
                if (confirm(confirmMessage)) {
                    updateWorkerInManagementTable(workerName);
                    
                    // ëª¨ë‹¬ë“¤ ë‹«ê¸°
                    closeManualWorkerAssignmentModal();
                    
                    alert(`"${workerName}" has been assigned to the "${targetFileName}" file.`);
                }
            } else {
                alert('Cannot find the file to assign.');
                return;
            }
        }

        // ìˆ˜ë™ Assignedëœ ì‘ì—…ì ëª©ë¡ UI ì—…ë°ì´íŠ¸
        function updateManuallyAssignedWorkersDisplay() {
            const count = manuallyAssignedWorkers.length;
            
            // ì›ìŠ¤íŒŒì´ìš©
            const section1 = document.getElementById('manuallyAssignedWorkersSection');
            const list1 = document.getElementById('manuallyAssignedWorkersList');
            const counter1 = document.getElementById('manualAssignedCount');
            
            // ì¼ë°˜ìš©
            const section2 = document.getElementById('manuallyAssignedWorkersSection2');
            const list2 = document.getElementById('manuallyAssignedWorkersList2');
            const counter2 = document.getElementById('manualAssignedCount2');
            
            if (count > 0) {
                // ì„¹ì…˜ í‘œì‹œ
                if (section1) section1.style.display = 'block';
                if (section2) section2.style.display = 'block';
                
                // ì¹´ìš´í„° ì—…ë°ì´íŠ¸
                if (counter1) counter1.textContent = count;
                if (counter2) counter2.textContent = count;
                
                // ì‘ì—…ì ëª©ë¡ ìƒì„±
                let html = '';
                manuallyAssignedWorkers.forEach((worker, index) => {
                    html += `
                        <div onclick="openManualAssignedWorkerDetail('${worker.id}')" style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 6px; margin-bottom: 8px; border: 1px solid #e2e8f0; cursor: pointer; transition: all 0.2s ease;" onmouseover="this.style.backgroundColor='#f8fafc'; this.style.borderColor='#4f46e5';" onmouseout="this.style.backgroundColor='white'; this.style.borderColor='#e2e8f0';">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; background: #4f46e5; color: white; border-radius: 50%; font-size: 12px; font-weight: 600;">
                                    ${index + 1}
                                </div>
                                <div>
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 2px;">
                                        <span style="font-weight: 600; color: #1f2937;">${worker.name}</span>
                                        <span style="font-size: 11px; color: #4f46e5;">${worker.email}</span>
                                    </div>
                                    <div style="font-size: 12px; color: #6b7280;">${worker.phone} | ${worker.address}</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <span style="background: #ddd6fe; color: #7c3aed; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 500;">
                                    ${worker.certificate}
                                </span>
                                <button onclick="event.stopPropagation(); removeManuallyAssignedWorker('${worker.id}')" style="color: #ef4444; border: none; background: none; cursor: pointer; padding: 4px; border-radius: 4px;" title="ì œê±°">
                                    âœ•
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                // ëª©ë¡ ì—…ë°ì´íŠ¸
                if (list1) list1.innerHTML = html;
                if (list2) list2.innerHTML = html;
            } else {
                // ì„¹ì…˜ ìˆ¨ê¸°ê¸°
                if (section1) section1.style.display = 'none';
                if (section2) section2.style.display = 'none';
            }
        }

        // ìˆ˜ë™ Assignedëœ ì‘ì—…ì ì œê±°
        function removeManuallyAssignedWorker(workerId) {
            const workerIndex = manuallyAssignedWorkers.findIndex(worker => worker.id === workerId);
            if (workerIndex > -1) {
                const worker = manuallyAssignedWorkers[workerIndex];
                if (confirm(`Do you want to cancel the assignment of worker ${worker.name}?`)) {
                    manuallyAssignedWorkers.splice(workerIndex, 1);
                    updateManuallyAssignedWorkersDisplay();
                }
            }
        }

        // ìˆ˜ë™ Assignedëœ ì‘ì—…ì ìƒì„¸ì •ë³´ í‘œì‹œ
        function openManualAssignedWorkerDetail(workerId) {
            const worker = manuallyAssignedWorkers.find(w => w.id === workerId);
            if (!worker) return;

            // ì‘ì—…ì ìƒì„¸ì •ë³´ ëª¨ë‹¬ì— ë°ì´í„° ì„¤ì •
            document.getElementById('detail-name').textContent = worker.name || 'ê¹€ì‘ì—…';
            document.getElementById('detail-phone').textContent = worker.phone || '010-1234-5678';
            document.getElementById('detail-address').textContent = worker.address || 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬';
            document.getElementById('detail-device').textContent = 'ì†Œë¦¬ìë°”';
            document.getElementById('detail-association').textContent = 'ì •íšŒì›';
            document.getElementById('detail-coupon').textContent = '2H30-5H4A-6E7F';
            
            // ê¸°ë³¸ì •ë³´
            const genders = ['Male', 'Female'];
            const randomGender = genders[Math.floor(Math.random() * genders.length)];
            document.getElementById('detail-gender').textContent = randomGender;
            
            const birthYear = 1980 + Math.floor(Math.random() * 20); // 1980-1999
            const birthMonth = String(Math.floor(Math.random() * 12) + 1).padStart(2, '0');
            const birthDay = String(Math.floor(Math.random() * 28) + 1).padStart(2, '0');
            document.getElementById('detail-birth').textContent = `${birthYear}.${birthMonth}.${birthDay}`;
            
            document.getElementById('detail-email').textContent = worker.email || 'worker@email.com';
            document.getElementById('detail-education').textContent = 'ëŒ€í•™ 4ë…„ ì¡¸ì—…';
            document.getElementById('detail-school').textContent = 'í•œêµ­ëŒ€í•™êµ';
            document.getElementById('detail-major').textContent = 'ì»´í“¨í„°ê³µí•™ê³¼';
            document.getElementById('detail-korean-stenography').textContent = worker.certificate || 'Level 2';
            
            const years = ['2018ë…„', '2019ë…„', '2020ë…„', '2021ë…„', '2022ë…„'];
            const randomYear = years[Math.floor(Math.random() * years.length)];
            document.getElementById('detail-acquisition-year').textContent = randomYear;
            
            const rounds = ['1íšŒ', '2íšŒ', '3íšŒ', '4íšŒ'];
            const randomRound = rounds[Math.floor(Math.random() * rounds.length)];
            document.getElementById('detail-exam-round').textContent = randomRound;
            
            document.getElementById('detail-marketing').textContent = 'Y';
            
            // ì‘ì—…ì ìƒì„¸ì •ë³´ ëª¨ë‹¬ í‘œì‹œ
            document.getElementById('workerDetailModal').style.display = 'block';
        }

        // Enter í‚¤ë¡œ ê²€ìƒ‰
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchKeyword');
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        searchWorkers();
                    }
                });
            }
        });
    </script>

    <!-- ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ë“±ë¡ íŒì—… - êµì²´ ì¤‘ -->
    <div id="worksbyProjectModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h2>Register Workspy Project</h2>
                <button class="modal-close" onclick="closeWorksbyProjectModal()">&times;</button>
            </div>
            
            <form class="modal-form" id="worksbyProjectForm">
                <div class="form-row" style="display: flex; align-items: flex-end; gap: 20px;">
                    <div class="form-group required" style="flex: 1;">
                        <label>Service <span class="required-mark">*</span></label>
                        <input type="text" id="worksbyServiceSelect" value="Soribaro" readonly style="background-color: #f9fafb; color: #6b7280; cursor: not-allowed;">
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 30px; margin-bottom: 8px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <label style="margin: 0; font-size: 14px; font-weight: 500; color: #374151;">Apply Button</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="worksbyActiveToggle" class="toggle-input" checked>
                                <label for="worksbyActiveToggle" class="toggle-label"></label>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" id="worksbyImportantProject">
                            <label for="worksbyImportantProject" style="margin: 0; font-size: 14px; font-weight: 500; color: #374151;">Important</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group required full-width">
                        <label>Project Name <span class="required-mark">*</span></label>
                        <input type="text" id="worksbyProjectTitle" required placeholder="Enter project name">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group required">
                        <label>Recruitment Period <span class="required-mark">*</span></label>
                        <div class="date-range">
                            <input type="datetime-local" id="worksbyProjectStartDate" required>
                            <span>~</span>
                            <input type="datetime-local" id="worksbyProjectEndDate" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Number of Workers</label>
                        <input type="number" id="worksbyWorkerCount" placeholder="0" style="width: 80px;">
                    </div>
                    
                    <div class="form-group">
                        <label>Amount</label>
                        <input type="text" id="worksbyBudgetAmount" placeholder="Enter amount" style="width: 120px;">
                    </div>

                </div>

                <!-- ì‘ì—…ê¸°ê°„ / ì§€ì›ìê²© -->
                <div class="form-row">
                    <div class="form-group required">
                        <label>Work Period</label>
                        <div class="date-range">
                            <input type="date" id="worksbyWorkStartDate" style="width: 217px; flex: none;">
                            <span>~</span>
                            <input type="date" id="worksbyWorkEndDate" style="width: 217px; flex: none;">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Qualification</label>
                        <select id="worksbyQualification" style="min-width: 140px; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
                            <option value="anyone">Anyone</option>
                            <option value="stenographer">Stenographer</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label>Project Description</label>
                        <div class="simple-editor-toolbar">
                            <button type="button" class="simple-editor-btn" onclick="formatText('bold')" title="Bold"><strong>B</strong></button>
                            <button type="button" class="simple-editor-btn" onclick="formatText('underline')" title="Underline"><u>U</u></button>
                            <button type="button" class="simple-editor-btn" onclick="formatText('insertUnorderedList')" title="List">â€¢</button>
                            <button type="button" class="simple-editor-btn" onclick="formatText('createLink')" title="Link">ğŸ”—</button>
                        </div>
                        <div id="worksbyContentEditor" contenteditable="true" class="simple-content-editor" 
                             placeholder="Enter project detailed description..."></div>
                    </div>
                </div>
                
                
                <div class="modal-footer">
                    <button type="button" class="btn-save" onclick="handleWorksbyProjectSubmit()">Save</button>
                </div>
            </form>
        </div>
    </div>



    <!-- ì‘ì—…ì ìƒì„¸ì •ë³´ íŒì—… -->
    <div id="workerDetailModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: relative; width: 90%; max-width: 1000px; height: 85%; margin: 7.5% auto; background: white; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden;">
            <!-- íŒì—… í—¤ë” -->
            <div style="background: #4f46e5; color: white; padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e5e7eb;">
                <h2 style="margin: 0; font-size: 1.4rem; font-weight: 600;">ì‘ì—…ì ìƒì„¸ì •ë³´</h2>
                <button onclick="closeWorkerDetail()" style="background: none; border: none; color: white; font-size: 28px; cursor: pointer; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">Ã—</button>
            </div>

            <!-- íŒì—… ë³¸ë¬¸ -->
            <div style="height: calc(100% - 80px); overflow-y: auto; padding: 30px;">
                <!-- ì²« ë²ˆì§¸ í–‰: ì‘ì—…ììƒì„¸ + ê¸°ë³¸ì •ë³´ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; border-bottom: 1px solid #e5e7eb; padding-bottom: 30px;">
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">ì‘ì—…ììƒì„¸</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">ì´ë¦„</span>
                            <span id="detail-name" style="color: #374151;">ê¹€ì‘ì—…</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">íœ´ëŒ€ì „í™”</span>
                            <span id="detail-phone" style="color: #374151;">010-1234-5678</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì£¼ì†Œ</span>
                            <span id="detail-address" style="color: #374151;">ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì‚¬ìš©ê¸°ì¢…</span>
                            <span id="detail-device" style="color: #374151;">ì†Œë¦¬ìë°”</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">í˜‘íšŒ</span>
                            <span id="detail-association" style="color: #374151;">ì •íšŒì›</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì¿ í°ì •ë³´</span>
                            <span id="detail-coupon" style="color: #374151;">2H30-5H4A-6E7F</span>
                        </div>
                    </div>
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">ê¸°ë³¸ì •ë³´</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">ì„±ë³„</span>
                            <span id="detail-gender" style="color: #374151;">Male</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ìƒë…„ì›”ì¼</span>
                            <span id="detail-birth" style="color: #374151;">1985.03.12</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì´ë©”ì¼</span>
                            <span id="detail-email" style="color: #374151;">kimwork@email.com</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ìµœì¢…í•™ë ¥</span>
                            <span id="detail-education" style="color: #374151;">ëŒ€í•™ 4ë…„ ì¡¸ì—…</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">í•™êµëª…</span>
                            <span id="detail-school" style="color: #374151;">í•œêµ­ëŒ€í•™êµ</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì „ê³µëª…</span>
                            <span id="detail-major" style="color: #374151;">ì»´í“¨í„°ê³µí•™ê³¼</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">í•œê¸€ì†ê¸°</span>
                            <span id="detail-korean-stenography" style="color: #374151;">Level 2</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì·¨ë“ë…„ë„</span>
                            <span id="detail-acquisition-year" style="color: #374151;">2020ë…„</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì‹œí—˜íšŒì°¨</span>
                            <span id="detail-exam-round" style="color: #374151;">1íšŒ</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ë§ˆì¼€íŒ…ë™ì˜</span>
                            <span id="detail-marketing" style="color: #374151;">Y</span>
                        </div>
                    </div>
                </div>

                <!-- ë‘ ë²ˆì§¸ í–‰: í¬ë§ì‘ì—…ì¡°ê±´ + êµìœ¡/ìê²©ì¦ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; border-bottom: 1px solid #e5e7eb; padding-bottom: 30px;">
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">í¬ë§ì‘ì—…ì¡°ê±´</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">ê·¼ë¬´ë°©ë²•</span>
                            <span id="detail-work-method" style="color: #374151;">ì¬íƒ, ì¶œí‡´ê·¼, ì¶œì¥ê°€ëŠ¥</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì‘ì—…ì¥ì†Œ</span>
                            <span id="detail-work-location" style="color: #374151;">ì „êµ­</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì‘ì—…ê¸°ê°„</span>
                            <span id="detail-work-period" style="color: #374151;">ê¸°ê°„ë¬´ê´€</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì‘ì—…ìš”ì¼</span>
                            <span id="detail-work-days" style="color: #374151;">ìš”ì¼ë¬´ê´€</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì‘ì—…ì‹œê°„</span>
                            <span id="detail-work-time" style="color: #374151;">ì‹œê°„ë¬´ê´€</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">í¬ë§ì§ë¬´</span>
                            <span id="detail-job" style="color: #374151;">ì†ê¸°ì‚¬, í”„ë¦¬ëœì„œ ì†ê¸°ì‚¬</span>
                        </div>
                    </div>
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">êµìœ¡/ìê²©ì¦</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">êµìœ¡ëª…</span>
                            <span id="detail-education-name" style="color: #374151;">ê¸°ì´ˆ êµìœ¡</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">í˜‘íšŒìê²©ì¦</span>
                            <span id="detail-association-cert" style="color: #374151;">ì´ìˆ˜ì™„ë£Œ</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ê¸‰ìˆ˜</span>
                            <span id="detail-grade" style="color: #374151;">Level 2</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì¼ë°˜ìê²©ì¦</span>
                            <span id="detail-general-cert" style="color: #374151;">ì»´í™œ Level 2</span>
                        </div>
                    </div>
                </div>

                <!-- ì„¸ ë²ˆì§¸ í–‰: í”„ë¡œì íŠ¸ + ì–´í•™ëŠ¥ë ¥ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; border-bottom: 1px solid #e5e7eb; padding-bottom: 30px;">
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">í”„ë¡œì íŠ¸</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">í”„ë¡œì íŠ¸ëª…</span>
                            <span id="detail-project-name" style="color: #374151;">-</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì¢…ë¥˜</span>
                            <span id="detail-project-type" style="color: #374151;">ë…¹ì·¨ í”„ë¡œì íŠ¸</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ê±´ìˆ˜</span>
                            <span id="detail-project-count" style="color: #374151;">4-10ê°œ</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì´ ì‹œê°„</span>
                            <span id="detail-project-hours" style="color: #374151;">50-100ì‹œê°„</span>
                        </div>
                    </div>
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">ì–´í•™ëŠ¥ë ¥</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">ì–´í•™ëŠ¥ë ¥</span>
                            <span id="detail-language" style="color: #374151;">ì˜ì–´</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ë‹¨ê³„</span>
                            <span id="detail-language-level" style="color: #374151;">ì¤‘</span>
                        </div>
                    </div>
                </div>

                <!-- ë„¤ ë²ˆì§¸ í–‰: ê²½ë ¥ì‚¬í•­ + ê¸°íƒ€ì¡°ê±´ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; border-bottom: 1px solid #e5e7eb; padding-bottom: 30px;">
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">ê²½ë ¥ì‚¬í•­</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">ì†ê¸°ê·¼ë¬´ì„œ</span>
                            <span id="detail-stenography-workplace" style="color: #374151;">ì„œìš¸ì§€ë°©ë²•ì›</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì†ê¸°ê³ ìš©í˜•íƒœ</span>
                            <span id="detail-stenography-employment" style="color: #374151;">ì •ê·œì§</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì†ê¸°ê·¼ë¬´ê¸°ê°„</span>
                            <span id="detail-stenography-period" style="color: #374151;">3-5ë…„</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì¼ë°˜ê·¼ë¬´ì„œ</span>
                            <span id="detail-general-workplace" style="color: #374151;">-</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì¼ë°˜ì§ê¸‰</span>
                            <span id="detail-general-position" style="color: #374151;">-</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ì¼ë°˜ì§ì±…</span>
                            <span id="detail-general-role" style="color: #374151;">-</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ë´‰ì‚¬í™œë™</span>
                            <span id="detail-volunteer" style="color: #374151;">ìˆìŒ</span>
                        </div>
                    </div>
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">ê¸°íƒ€ì¡°ê±´</h3>
                        <div style="display: grid; grid-template-columns: 100px 1fr; gap: 12px; align-items: center;">
                            <span style="font-weight: 500; color: #6b7280;">ìš°ëŒ€ì¡°ê±´</span>
                            <span id="detail-employment-preference" style="color: #374151;">-</span>
                            
                            <span style="font-weight: 500; color: #6b7280;">ë³‘ì—­</span>
                            <span id="detail-military" style="color: #374151;">í•´ë‹¹ì—†ìŒ</span>
                        </div>
                    </div>
                </div>

                <!-- ë‹¤ì„¯ ë²ˆì§¸ í–‰: ê¸°íƒ€ì‚¬í•­ + ê´€ë¦¬ìë©”ëª¨ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">ê¸°íƒ€ì‚¬í•­</h3>
                        <div id="detail-other-info" style="background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 6px; height: 200px; padding: 15px; color: #374151; font-size: 14px; line-height: 1.5;">
                            ì‘ì—…ìì˜ ê¸°íƒ€ íŠ¹ì´ì‚¬í•­ì´ë‚˜ ì¶”ê°€ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.
                        </div>
                    </div>
                    <div>
                        <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 1.1rem; font-weight: 600; padding-bottom: 8px; border-bottom: 2px solid #4f46e5;">ê´€ë¦¬ìë©”ëª¨</h3>
                        <div style="position: relative;">
                            <textarea id="admin-memo" placeholder="ê´€ë¦¬ì ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." style="width: 100%; height: 200px; padding: 15px; border: 1px solid #d1d5db; border-radius: 6px; resize: vertical; font-family: inherit; font-size: 14px; line-height: 1.5; box-sizing: border-box;"></textarea>
                            <button onclick="saveAdminMemo()" style="position: absolute; bottom: 10px; right: 10px; background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 500; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                Save Admin Memo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì‘ì—…ì ìˆ˜ë™ Assigned ê²€ìƒ‰ íŒì—… -->
    <div id="manualAssignModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: relative; width: 90%; max-width: 800px; margin: 5% auto; background: white; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden;">
            <!-- íŒì—… í—¤ë” -->
            <div style="background: #4f46e5; color: white; padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e5e7eb;">
                <h2 style="margin: 0; font-size: 1.4rem; font-weight: 600;">Manual Worker Assignment</h2>
                <button onclick="closeManualAssignModal()" style="background: none; border: none; color: white; font-size: 28px; cursor: pointer; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">Ã—</button>
            </div>

            <!-- ê²€ìƒ‰ ì¡°ê±´ -->
            <div style="padding: 20px 30px; border-bottom: 1px solid #e5e7eb;">
                <div style="display: flex; gap: 15px; align-items: center;">
                    <select id="searchType" style="padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                        <option value="name">Name</option>
                        <option value="email">Email</option>
                        <option value="phone">Contact</option>
                    </select>
                    <input type="text" id="searchKeyword" placeholder="Enter search keyword" style="flex: 1; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                    <button onclick="searchWorkers()" style="background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">
                        Search
                    </button>
                </div>
            </div>

            <!-- ê²€ìƒ‰ ê²°ê³¼ -->
            <div style="max-height: 400px; overflow-y: auto; padding: 20px 30px;">
                <div id="searchResults">
                    <div style="text-align: center; color: #6b7280; padding: 40px;">
                        Enter search keyword and click search button.
                    </div>
                </div>
            </div>

            <!-- Assigned ë²„íŠ¼ -->
            <div style="padding: 20px 30px; border-top: 1px solid #e5e7eb; text-align: right;">
                <button onclick="closeManualAssignModal()" style="background: #6b7280; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500; margin-right: 10px;">
                    Cancel
                </button>
                <button onclick="assignSelectedWorker()" style="background: #10b981; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">
                    Assign Selected Worker
                </button>
            </div>
        </div>
    </div>

    <!-- ì‘ì—…ì ê´€ë¦¬ ëª¨ë‹¬ (vod-detail.htmlê³¼ ë™ì¼) -->
    <div id="workerManagementModal" class="modal-overlay" style="display: none;">
        <div class="modal-container" style="max-width: 1000px; width: 95%; max-height: 95vh;">
            <div class="modal-header">
                <h2>ğŸ‘¥ Worker Management</h2>
                <button class="modal-close" onclick="closeWorkerManagementModal()">&times;</button>
            </div>
            
            <div class="modal-content" style="padding: 24px; min-height: 400px;">
                <div class="detail-section" style="margin-bottom: 30px;">
                    <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 class="section-title" style="margin: 0; font-size: 16px; font-weight: 600; color: #374151;">ğŸ‘¥ Worker Management</h3>
                        <div class="applicant-stats" style="display: flex; gap: 20px;">
                            <span class="stat-item" style="font-size: 14px; color: #6b7280;">Total <strong id="totalWorkersModal" style="color: #3b82f6;">5</strong> workers</span>
                            <span class="stat-item" style="font-size: 14px; color: #6b7280;">Assigned <strong id="assignedCountModal" style="color: #3b82f6;">1</strong> workers</span>
                            <span class="stat-item" style="font-size: 14px; color: #6b7280;">Unassigned <strong id="excludedCountModal" style="color: #3b82f6;">4</strong> workers</span>
                        </div>
                    </div>
                    
                    <div class="applicants-table-wrapper" style="overflow-x: auto; border: 1px solid #e5e7eb; border-radius: 8px;">
                        <table class="applicants-table" style="width: 100%; border-collapse: collapse; background: white;">
                            <thead>
                                <tr>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; white-space: nowrap;"><input type="checkbox" id="selectAllWorkersModal" onchange="toggleAllWorkers(this)"></th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; white-space: nowrap;">Name</th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; white-space: nowrap;">Gender</th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; white-space: nowrap;">Contact</th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; white-space: nowrap;">Birth Date</th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; white-space: nowrap;">Address</th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; font-size: 12px; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb; white-space: nowrap;">Korean Stenography Certificate</th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; white-space: nowrap;">Assignment Date</th>
                                    <th style="background: #f8f9fa; padding: 12px; text-align: center; border: 1px solid #e5e7eb; font-size: 12px; font-weight: 600; color: #374151; white-space: nowrap;">Status</th>
                                </tr>
                            </thead>
                            <tbody id="workersListModal">
                                <tr style="border-bottom: 1px solid #f3f4f6;">
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><input type="checkbox" name="workerSelectModal" value="1"></td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ì°¨ì •í›ˆ</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Male</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">010-1**2-3456</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">1990.**.**</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Level 1</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">2025.08.06</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><span class="applicant-status status-approved" style="padding: 3px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; white-space: nowrap; background: #dcfce7; color: #166534;">Assigned</span></td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f3f4f6;">
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><input type="checkbox" name="workerSelectModal" value="2"></td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ê¹€ë¯¼ì˜</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Female</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">010-2**3-4567</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">1988.**.**</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ê²½ê¸°ë„ ì•ˆì–‘ì‹œ</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Level 2</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">-</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><span class="applicant-status status-cancelled" style="padding: 3px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; white-space: nowrap; background: #fef2f2; color: #991b1b;">Unassigned</span></td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f3f4f6;">
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><input type="checkbox" name="workerSelectModal" value="3"></td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ë°•ì¤€í˜¸</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Male</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">010-3**4-5678</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">1985.**.**</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Level 1</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">-</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><span class="applicant-status status-cancelled" style="padding: 3px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; white-space: nowrap; background: #fef2f2; color: #991b1b;">Unassigned</span></td>
                                </tr>
                                <tr style="border-bottom: 1px solid #f3f4f6;">
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><input type="checkbox" name="workerSelectModal" value="4"></td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ì´ìˆ˜ì§„</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Female</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">010-4**5-6789</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">1992.**.**</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ê²½ìƒë‚¨ë„ ì°½ì›ì‹œ</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">-</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">-</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><span class="applicant-status status-cancelled" style="padding: 3px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; white-space: nowrap; background: #fef2f2; color: #991b1b;">Unassigned</span></td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><input type="checkbox" name="workerSelectModal" value="5"></td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ìµœì˜ìˆ˜</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Male</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">010-5**6-7890</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">1987.**.**</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">ì¸ì²œê´‘ì—­ì‹œ ì—°ìˆ˜êµ¬</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">Level 1</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;">-</td>
                                    <td style="padding: 12px; font-size: 12px; color: #6b7280; text-align: center;"><span class="applicant-status status-cancelled" style="padding: 3px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; white-space: nowrap; background: #fef2f2; color: #991b1b;">Unassigned</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Assigned/Unassigned ë²„íŠ¼ -->
                    <div class="batch-actions" style="display: flex; gap: 10px; align-items: center; margin-top: 15px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e5e7eb;">
                        <div style="display: flex; align-items: center; gap: 8px; color: #6b7280; font-size: 14px;">
                            <span>Selected Workers:</span>
                            <span id="selectedWorkerCountModal" style="font-weight: 600; color: #374151;">0 workers</span>
                        </div>
                        <div style="margin-left: auto; display: flex; gap: 8px;">
                            <button class="batch-btn btn-approve" onclick="batchUpdateWorkerStatusModal('assigned')" style="background: #10b981; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 13px; cursor: pointer; transition: background-color 0.2s;">
                                âœ“ Assigned
                            </button>
                            <button class="batch-btn btn-reject" onclick="batchUpdateWorkerStatusModal('unassigned')" style="background: #ef4444; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 13px; cursor: pointer; transition: background-color 0.2s;">
                                âœ— Unassigned
                            </button>
                            <button class="batch-btn btn-manual" onclick="openManualWorkerAssignmentModal()" style="background: #8b5cf6; color: white; border: none; border-radius: 6px; padding: 8px 16px; font-size: 13px; cursor: pointer; transition: background-color 0.2s;">
                                ğŸ‘¤ Manual Worker Assignment
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ëª¨ë‹¬ í•˜ë‹¨ ë²„íŠ¼ -->
            <div class="modal-footer" style="display: flex; justify-content: flex-end; padding: 15px 25px; border-top: 1px solid #e2e8f0; background: white; flex-shrink: 0; gap: 10px;">
                <button type="button" class="btn-secondary" onclick="closeWorkerManagementModal()" style="background: #6b7280; color: white; border: none; border-radius: 6px; padding: 10px 20px; font-size: 14px; cursor: pointer; transition: background-color 0.2s;">Close</button>
                <button type="button" class="btn-confirm" onclick="confirmWorkersModal()" style="background: #f59e0b; color: white; border: none; border-radius: 6px; padding: 10px 20px; font-size: 14px; cursor: pointer; transition: background-color 0.2s;">Confirm</button>
            </div>
        </div>
    </div>

    <!-- ì‘ì—…ì ìˆ˜ë™ Assigned ëª¨ë‹¬ (vod-detail.htmlê³¼ ë™ì¼) -->
    <div id="manualWorkerAssignmentModal" class="modal-overlay" style="display: none; z-index: 1300;">
        <div class="modal-container" style="max-width: 600px; width: 90%; max-height: 90vh;">
            <div class="modal-header" style="background: #5b6bc0; color: white; padding: 20px 24px; border-bottom: none;">
                <h2 style="margin: 0; font-size: 18px; font-weight: 600; color: white;">Manual Worker Assignment</h2>
                <button class="modal-close" onclick="closeManualWorkerAssignmentModal()" style="color: white; background: none; border: none; font-size: 24px; cursor: pointer; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.2s;">&times;</button>
            </div>
            
            <div class="modal-content" style="padding: 24px; min-height: 400px;">
                <!-- ê²€ìƒ‰ ì˜ì—­ -->
                <div style="margin-bottom: 20px;">
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <select id="manualSearchOption" style="padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; min-width: 120px; background: white;">
                            <option value="name">Name</option>
                            <option value="email">Email</option>
                        </select>
                        <input type="text" id="manualSearchInput" placeholder="Enter search keyword" 
                               style="flex: 1; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;"
                               onkeypress="handleManualSearchKeypress(event)">
                        <button onclick="searchManualWorkers()" style="background: #3b82f6; color: white; border: none; border-radius: 6px; padding: 10px 20px; font-size: 14px; cursor: pointer; font-weight: 500;">
                            Search
                        </button>
                    </div>
                </div>
                
                <!-- ê²€ìƒ‰ ê²°ê³¼ ì˜ì—­ -->
                <div style="margin-bottom: 20px;">
                    <div style="margin-bottom: 10px; font-weight: 600; color: #374151; font-size: 14px;">
                        Search Results <span id="manualSearchResultCount" style="color: #3b82f6;">0</span> workers
                    </div>
                    
                    <div id="manualSearchResults" style="border: 1px solid #e5e7eb; border-radius: 8px; background: white; min-height: 300px; max-height: 400px; overflow-y: auto;">
                        <!-- ì´ˆê¸° ìƒíƒœ ë©”ì‹œì§€ -->
                        <div style="padding: 60px 20px; text-align: center; color: #9ca3af; font-size: 14px;">
                            Enter search keyword and click search button
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ëª¨ë‹¬ í•˜ë‹¨ ë²„íŠ¼ -->
            <div class="modal-footer" style="display: flex; justify-content: flex-end; padding: 15px 25px; border-top: 1px solid #e2e8f0; background: white; flex-shrink: 0; gap: 10px;">
                <button type="button" onclick="closeManualWorkerAssignmentModal()" style="background: #6b7280; color: white; border: none; border-radius: 6px; padding: 10px 20px; font-size: 14px; cursor: pointer; transition: background-color 0.2s;">Cancel</button>
                <button type="button" id="assignSelectedWorkerBtn" onclick="assignSelectedWorker()" style="background: #10b981; color: white; border: none; border-radius: 6px; padding: 10px 20px; font-size: 14px; cursor: pointer; transition: background-color 0.2s;" disabled>
                    Assign Selected Worker
                </button>
            </div>
        </div>
    </div>

    <!-- ì›ìŠ¤íŒŒì´ í”„ë¡œì íŠ¸ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div id="detailModal" class="modal-overlay" style="display: none;">
        <div class="modal-container detail-modal">
            <div class="modal-header">
                <h2>ğŸ“‹ Project Details</h2>
                <button class="modal-close" onclick="closeDetailModal()">Ã—</button>
            </div>
            
            <div class="detail-content">
                <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ì œê±° - í”„ë¡œì íŠ¸ ì •ë³´ë§Œ í‘œì‹œ -->
                <div style="background: #f8fafc; padding: 15px 20px; border-bottom: 1px solid #e5e7eb;">
                    <h2 style="margin: 0; font-size: 18px; font-weight: 600; color: #3b82f6; display: flex; align-items: center; gap: 10px;">
                        ğŸ“„ Project Information
                    </h2>
                </div>
                
                <!-- íƒ­ ì½˜í…ì¸  -->
                <div class="tab-content">
                    <!-- í”„ë¡œì íŠ¸ ì •ë³´ íƒ­ -->
                    <div id="tab-info" class="tab-panel active">
                        <div class="detail-section">
                            <div class="info-grid" style="grid-template-columns: repeat(3, 1fr); align-items: end;">
                                <div class="info-item">
                                    <label>Project No.</label>
                                    <span id="detailNo">PJ20250924231</span>
                                </div>
                                <div class="info-item">
                                    <label>Service</label>
                                    <span id="detailService">Soribaro</span>
                                </div>
                                <div class="info-item">
                                    <label>Registration Date</label>
                                    <span id="detailRegDate">2025-09-24 02:21</span>
                                </div>
                            </div>
                            
                            <div class="info-item full-width" style="margin-bottom: 25px;">
                                <label>Project Name</label>
                                <h3 id="detailTitle">Audio File Transcription Project</h3>
                            </div>
                            
                            <div class="project-summary-row" style="display: grid; grid-template-columns: 2fr 1fr 2fr 1fr; gap: 16px; align-items: stretch; position: relative; z-index: 0; margin-bottom: 20px;">
                                <div class="summary-item" style="min-height: 92px; padding: 14px 16px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.03);">
                                    <label style="font-size: 12px; font-weight: 700; color: #6b7280; margin-bottom: 6px; display: block;">Recruitment Period</label>
                                    <div id="detailProjectPeriod" style="font-size: 14px; font-weight: 600; color: #111827; white-space: nowrap;">2025.09.24 11:21 ~ 2025.09.25 11:21</div>
                                </div>
                                <div class="summary-item" style="min-height: 92px; padding: 14px 16px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.03); display: flex; flex-direction: column; justify-content: center;">
                                    <label style="font-size: 12px; font-weight: 700; color: #6b7280; margin-bottom: 8px;">Recruitment Status</label>
                                    <div><span id="recruitStatusBadge" style="display:inline-block; background: #3b82f6; color: white; padding: 6px 12px; border-radius: 999px; font-size: 12px; font-weight: 800; min-width: 86px; text-align: center;">In Progress</span></div>
                                </div>
                                <div class="summary-item" style="min-height: 92px; padding: 14px 16px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.03);">
                                    <label style="font-size: 12px; font-weight: 700; color: #6b7280; margin-bottom: 6px; display: block;">Work Period</label>
                                    <div id="detailWorkPeriod" style="font-size: 14px; font-weight: 600; color: #111827; white-space: nowrap;">2025.09.24 ~ 2025.09.25</div>
                                </div>
                                <div class="summary-item" style="min-height: 92px; padding: 14px 16px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.03); display: flex; flex-direction: column; justify-content: center;">
                                    <label style="font-size: 12px; font-weight: 700; color: #6b7280; margin-bottom: 8px;">Work Status</label>
                                    <div><span id="workStatusBadge" style="display:inline-block; background: #3b82f6; color: white; padding: 6px 12px; border-radius: 999px; font-size: 12px; font-weight: 800; min-width: 86px; text-align: center;">In Progress</span></div>
                                </div>
                            </div>
                            <div class="project-summary-row" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; align-items: stretch;">
                                <div class="summary-item" style="min-height: 92px; padding: 14px 16px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.03);">
                                    <label style="font-size: 12px; font-weight: 700; color: #6b7280; margin-bottom: 6px; display: block;">Number of Workers</label>
                                    <div id="detailWorkerCount" style="font-size: 14px; font-weight: 600; color: #111827;">0 / 5 workers</div>
                                </div>
                                <div class="summary-item" style="min-height: 92px; padding: 14px 16px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.03);">
                                    <label style="font-size: 12px; font-weight: 700; color: #6b7280; margin-bottom: 6px; display: block;">Amount</label>
                                    <div id="detailBudget" style="font-size: 14px; font-weight: 600; color: #111827;">500000ì›</div>
                                </div>
                                <div class="summary-item" style="min-height: 92px; padding: 14px 16px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.03);">
                                    <label style="font-size: 12px; font-weight: 700; color: #6b7280; margin-bottom: 6px; display: block;">Qualification</label>
                                    <div id="detailQualification" style="font-size: 14px; font-weight: 600; color: #111827;">Anyone</div>
                                </div>
                            </div>

                            <div class="info-item full-width" style="margin-bottom: 25px;">
                                <label>Project Description</label>
                                <div id="detailContent" class="content-box">
                    Looking for workers.<br>
                    Looking for workers.<br>
                    Looking for workers.
                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <div class="modal-footer">
                <div style="display: flex; gap: 10px;">
                    <button type="button" class="btn-cancel" id="modalCloseProjectBtn" style="background: #10b981; color: white; border: none; border-radius: 6px; padding: 10px 20px; font-size: 14px; cursor: pointer; display: flex; align-items: center; gap: 6px;" onclick="closeProjectPermanently()">
                        <span>âœ…</span>
                        Close Project
                    </button>
                    <button type="button" class="btn-delete" style="background: #ef4444; color: white; border: none; border-radius: 6px; padding: 10px 20px; font-size: 14px; cursor: pointer; display: flex; align-items: center; gap: 6px;" onclick="deleteProject()">
                        <span>ğŸ—‘ï¸</span>
                        Delete Project
                    </button>
                </div>
                <div style="margin-left: auto; display: flex; gap: 10px;">
                    <button type="button" class="btn-secondary" onclick="closeDetailModal()">Close</button>
                    <button type="button" class="btn-edit" id="modalActionBtn" onclick="editProject()">Edit</button>
                </div>
            </div>
        </div>
    </div>

</body>
</html>