<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‘ì—…ë¬¼ ë¹„êµ - ì†Œë¦¬ë°”ë¡œ BO</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }
        
        .header {
            background: white;
            border-bottom: 2px solid #e5e7eb;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 100;
            position: relative;
        }
        
        .header-title {
            font-size: 18px;
            font-weight: 600;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .header-buttons {
            display: flex;
            gap: 10px;
        }
        
        .download-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .download-btn:hover {
            background: #059669;
        }
        
        .close-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .close-btn:hover {
            background: #dc2626;
        }
        
        .comparison-container {
            display: flex;
            height: calc(100vh - 70px);
            position: relative;
        }
        
        .comparison-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
            border-right: 2px solid #e5e7eb;
        }
        
        .comparison-panel:last-child {
            border-right: none;
        }
        
        .panel-header {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #e5e7eb;
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .panel-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
            position: relative;
        }
        
        .text-item {
            border-bottom: 1px solid #f3f4f6;
            padding: 20px;
            transition: background-color 0.2s;
        }
        
        .text-item:hover {
            background: #f9fafb;
        }
        
        .text-item.changed {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
        }
        
        .item-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 12px;
        }
        
        .line-no {
            background: #3b82f6;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            min-width: 50px;
            text-align: center;
        }
        
        .timecode {
            background: #e0e7ff;
            color: #3730a3;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            font-family: 'Courier New', monospace;
        }
        
        .text-content {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            font-size: 14px;
            line-height: 1.6;
            min-height: 60px;
        }
        
        .text-content.changed {
            background: #fff7ed;
            border-color: #f59e0b;
        }
        
        .diff-highlight {
            background: #fde047;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        .comment-section {
            margin-top: 12px;
            padding: 12px;
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 6px;
            font-size: 13px;
            color: #92400e;
        }
        
        .comment-label {
            font-weight: 600;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            flex-wrap: wrap;
        }
        
        /* ì½”ë©˜íŠ¸ ì¹´í…Œê³ ë¦¬ íƒœê·¸ */
        .comment-category-tag {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            color: white;
            display: inline-block;
        }
        
        .comment-category-tag.translation {
            background: #3b82f6;
        }
        
        .comment-category-tag.guideline {
            background: #f59e0b;
        }
        
        .comment-category-tag.sync {
            background: #8b5cf6;
        }
        
        .comment-category-tag.other {
            background: #6b7280;
        }
        
        /* ì½”ë©˜íŠ¸ ì„œë¸Œì¹´í…Œê³ ë¦¬ íƒœê·¸ */
        .comment-subcategory-tag {
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: 500;
            background: #e5e7eb;
            color: #374151;
            display: inline-block;
        }
        
        /* ë‹µê¸€ ìŠ¤íƒ€ì¼ */
        .comment-reply {
            margin-top: 12px;
            padding: 10px;
            background: #f8f9fa;
            border-left: 3px solid #3b82f6;
            border-radius: 6px;
        }
        
        .reply-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
            font-size: 12px;
        }
        
        .reply-author {
            font-weight: 600;
            color: #3b82f6;
        }
        
        .reply-time {
            color: #6b7280;
            font-size: 11px;
        }
        
        .reply-content {
            font-size: 13px;
            color: #374151;
            line-height: 1.4;
        }
        
        /* Overview Ruler */
        .overview-ruler {
            position: absolute;
            right: 0;
            top: 0;
            width: 12px;
            height: 100%;
            background: #f3f4f6;
            border-left: 1px solid #e5e7eb;
        }
        
        .ruler-marker {
            position: absolute;
            width: 100%;
            height: 3px;
            background: #f59e0b;
            cursor: pointer;
        }
        
        .ruler-marker:hover {
            background: #d97706;
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
        .panel-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .panel-content::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        .panel-content::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        .panel-content::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1 class="header-title">
            <span>ğŸ”</span>
            ì‘ì—…ë¬¼ ë¹„êµ - ì£¼ë¬¸ë²ˆí˜¸: 20250125033445 | íŒŒì¼: ê²½ì˜í•™ê³¼_ì˜¨ë¼ì¸ê°•ì˜_2025_01.mp4
        </h1>
        <div class="header-buttons">
            <button class="download-btn" onclick="downloadComparison()">
                <span>ğŸ“</span>
                íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            </button>
            <button class="close-btn" onclick="window.close()">ì°½ ë‹«ê¸°</button>
        </div>
    </div>
    
    <div class="comparison-container">
        <!-- ì‘ì—…ë³¸ ì˜ì—­ -->
        <div class="comparison-panel">
            <div class="panel-header">
                <span>ğŸ“</span>
                ì‘ì—…ë³¸
            </div>
            <div class="panel-content" id="original-panel">
                <!-- 30ê°œ ì‘ì—…ë³¸ ë°ì´í„°ê°€ JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
        
        <!-- ê²€ìˆ˜ë³¸ ì˜ì—­ -->
        <div class="comparison-panel">
            <div class="panel-header">
                <span>âœ…</span>
                ê²€ìˆ˜ë³¸
            </div>
            <div class="panel-content" id="reviewed-panel">
                <!-- 30ê°œ ê²€ìˆ˜ë³¸ ë°ì´í„°ê°€ JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
            
            <!-- Overview Ruler -->
            <div class="overview-ruler" id="overview-ruler">
                <!-- ë§ˆì»¤ë“¤ì´ JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>
    
    <script>
        // 30ê°œ ë°ì´í„° ìƒì„±
        const originalData = [
            { lineNo: 1, timecode: "00:00:10 - 00:00:15", text: "ì•ˆë…•í•˜ì„¸ìš”. ì˜¤ëŠ˜ì€ ì¸ê³µì§€ëŠ¥ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤." },
            { lineNo: 2, timecode: "00:00:16 - 00:00:25", text: "ì¸ê³µì§€ëŠ¥ì€ ì»´í“¨í„°ê°€ ì¸ê°„ì˜ ì§€ëŠ¥ì„ ëª¨ë°©í•˜ì—¬ í•™ìŠµí•˜ê³  ì¶”ë¡ í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤." },
            { lineNo: 3, timecode: "00:00:26 - 00:00:35", text: "ë¨¸ì‹ ëŸ¬ë‹ê³¼ ë”¥ëŸ¬ë‹ì€ ì¸ê³µì§€ëŠ¥ì˜ í•µì‹¬ ê¸°ìˆ ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
            { lineNo: 4, timecode: "00:00:36 - 00:00:45", text: "ì´ëŸ¬í•œ ê¸°ìˆ ë“¤ì€ ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ í™œìš©ë˜ê³  ìˆìœ¼ë©°, ë¯¸ë˜ ì‚¬íšŒì— í° ë³€í™”ë¥¼ ê°€ì ¸ì˜¬ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤." },
            { lineNo: 5, timecode: "00:00:46 - 00:00:55", text: "íŠ¹íˆ ìì—°ì–´ ì²˜ë¦¬, ì»´í“¨í„° ë¹„ì „, ìŒì„±ì¸ì‹ ë“±ì˜ ë¶„ì•¼ì—ì„œ ëˆˆì— ë„ëŠ” ë°œì „ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤." },
            { lineNo: 6, timecode: "00:00:56 - 00:01:05", text: "ê·¸ëŸ¼ ì´ì œ ê° ê¸°ìˆ ì— ëŒ€í•´ ìì„¸íˆ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤." },
            { lineNo: 7, timecode: "00:01:06 - 00:01:15", text: "ë¨¸ì‹ ëŸ¬ë‹ì€ ë°ì´í„°ë¥¼ í†µí•´ íŒ¨í„´ì„ í•™ìŠµí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤." },
            { lineNo: 8, timecode: "00:01:16 - 00:01:25", text: "ì§€ë„í•™ìŠµ, ë¹„ì§€ë„í•™ìŠµ, ê°•í™”í•™ìŠµìœ¼ë¡œ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
            { lineNo: 9, timecode: "00:01:26 - 00:01:35", text: "ë”¥ëŸ¬ë‹ì€ ì¸ê³µì‹ ê²½ë§ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ê¸°ê³„í•™ìŠµ ë°©ë²•ë¡ ì…ë‹ˆë‹¤." },
            { lineNo: 10, timecode: "00:01:36 - 00:01:45", text: "CNN, RNN, íŠ¸ëœìŠ¤í¬ë¨¸ ë“± ë‹¤ì–‘í•œ ì•„í‚¤í…ì²˜ê°€ ì¡´ì¬í•©ë‹ˆë‹¤." },
            { lineNo: 11, timecode: "00:01:46 - 00:01:55", text: "ìì—°ì–´ ì²˜ë¦¬ëŠ” ì»´í“¨í„°ê°€ ì¸ê°„ì˜ ì–¸ì–´ë¥¼ ì´í•´í•˜ê³  ìƒì„±í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤." },
            { lineNo: 12, timecode: "00:01:56 - 00:02:05", text: "í† í°í™”, í˜•íƒœì†Œ ë¶„ì„, êµ¬ë¬¸ ë¶„ì„ ë“±ì˜ ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤." },
            { lineNo: 13, timecode: "00:02:06 - 00:02:15", text: "ìµœê·¼ì—ëŠ” BERT, GPTì™€ ê°™ì€ ëŒ€ê·œëª¨ ì–¸ì–´ëª¨ë¸ì´ ì£¼ëª©ë°›ê³  ìˆìŠµë‹ˆë‹¤." },
            { lineNo: 14, timecode: "00:02:16 - 00:02:25", text: "ì»´í“¨í„° ë¹„ì „ì€ ì´ë¯¸ì§€ì™€ ì˜ìƒì„ ë¶„ì„í•˜ê³  ì´í•´í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤." },
            { lineNo: 15, timecode: "00:02:26 - 00:02:35", text: "ê°ì²´ íƒì§€, ì´ë¯¸ì§€ ë¶„ë¥˜, ì„¸ê·¸ë©˜í…Œì´ì…˜ ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤." },
            { lineNo: 16, timecode: "00:02:36 - 00:02:45", text: "ìŒì„±ì¸ì‹ì€ ì‚¬ëŒì˜ ìŒì„±ì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤." },
            { lineNo: 17, timecode: "00:02:46 - 00:02:55", text: "ìŒí–¥ ëª¨ë¸ê³¼ ì–¸ì–´ ëª¨ë¸ì„ ê²°í•©í•˜ì—¬ ì •í™•ë„ë¥¼ ë†’ì…ë‹ˆë‹¤." },
            { lineNo: 18, timecode: "00:02:56 - 00:03:05", text: "ì¸ê³µì§€ëŠ¥ì˜ ìœ¤ë¦¬ì  ì´ìŠˆë„ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­ì…ë‹ˆë‹¤." },
            { lineNo: 19, timecode: "00:03:06 - 00:03:15", text: "í¸í–¥ì„±, íˆ¬ëª…ì„±, ì±…ì„ì„± ë“±ì˜ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í•©ë‹ˆë‹¤." },
            { lineNo: 20, timecode: "00:03:16 - 00:03:25", text: "ë˜í•œ ê°œì¸ì •ë³´ ë³´í˜¸ì™€ ë°ì´í„° ë³´ì•ˆë„ ì¤‘ìš”í•©ë‹ˆë‹¤." },
            { lineNo: 21, timecode: "00:03:26 - 00:03:35", text: "ì¸ê³µì§€ëŠ¥ì€ ì˜ë£Œ, ê¸ˆìœµ, êµìœ¡ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì— ì ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤." },
            { lineNo: 22, timecode: "00:03:36 - 00:03:45", text: "ì˜ë£Œ ë¶„ì•¼ì—ì„œëŠ” ì§„ë‹¨ ë³´ì¡°, ì‹ ì•½ ê°œë°œ ë“±ì— í™œìš©ë©ë‹ˆë‹¤." },
            { lineNo: 23, timecode: "00:03:46 - 00:03:55", text: "ê¸ˆìœµ ë¶„ì•¼ì—ì„œëŠ” ë¦¬ìŠ¤í¬ ê´€ë¦¬, ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”©ì— ì‚¬ìš©ë©ë‹ˆë‹¤." },
            { lineNo: 24, timecode: "00:03:56 - 00:04:05", text: "êµìœ¡ ë¶„ì•¼ì—ì„œëŠ” ê°œì¸í™”ëœ í•™ìŠµ, ìë™ ì±„ì  ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤." },
            { lineNo: 25, timecode: "00:04:06 - 00:04:15", text: "ììœ¨ì£¼í–‰ì°¨ëŠ” ì¸ê³µì§€ëŠ¥ì˜ ëŒ€í‘œì ì¸ ì‘ìš© ì‚¬ë¡€ì…ë‹ˆë‹¤." },
            { lineNo: 26, timecode: "00:04:16 - 00:04:25", text: "ì„¼ì„œ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì•ˆì „í•œ ì£¼í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤." },
            { lineNo: 27, timecode: "00:04:26 - 00:04:35", text: "ìŠ¤ë§ˆíŠ¸ ì‹œí‹° êµ¬ì¶•ì—ë„ ì¸ê³µì§€ëŠ¥ ê¸°ìˆ ì´ í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤." },
            { lineNo: 28, timecode: "00:04:36 - 00:04:45", text: "êµí†µ ìµœì í™”, ì—ë„ˆì§€ íš¨ìœ¨ì„± í–¥ìƒ ë“±ì— ê¸°ì—¬í•©ë‹ˆë‹¤." },
            { lineNo: 29, timecode: "00:04:46 - 00:04:55", text: "ì•ìœ¼ë¡œ ì¸ê³µì§€ëŠ¥ì€ ë”ìš± ë°œì „í•˜ì—¬ ìš°ë¦¬ ìƒí™œì— ê¹Šìˆ™ì´ ìŠ¤ë©°ë“¤ ê²ƒì…ë‹ˆë‹¤." },
            { lineNo: 30, timecode: "00:04:56 - 00:05:05", text: "ì§€ì†ì ì¸ ì—°êµ¬ì™€ ê°œë°œì„ í†µí•´ ì¸ë¥˜ì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ë°©í–¥ìœ¼ë¡œ ë°œì „ì‹œì¼œì•¼ í•©ë‹ˆë‹¤." }
        ];

        const reviewedData = [
            { lineNo: 1, changed: false, text: "ì•ˆë…•í•˜ì„¸ìš”. ì˜¤ëŠ˜ì€ ì¸ê³µì§€ëŠ¥ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 2, 
                changed: true, 
                text: "<span class='diff-highlight'>AI</span>ëŠ” ì»´í“¨í„°ê°€ ì¸ê°„ì˜ ì§€ëŠ¥ì„ ëª¨ë°©í•˜ì—¬ í•™ìŠµí•˜ê³  ì¶”ë¡ í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "translation",
                    subcategory: "ìš©ì–´ì§‘ ë¯¸ë°˜ì˜",
                    content: '"ì¸ê³µì§€ëŠ¥" â†’ "AI"ë¡œ ìš©ì–´ì§‘ì— ë§ê²Œ ìˆ˜ì •í•´ì£¼ì„¸ìš”.',
                    reply: null
                }
            },
            { 
                lineNo: 3, 
                changed: true, 
                text: "<span class='diff-highlight'>ë¨¸ì‹  ëŸ¬ë‹</span>ê³¼ ë”¥ëŸ¬ë‹ì€ <span class='diff-highlight'>AI</span>ì˜ í•µì‹¬ ê¸°ìˆ ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: '1. "ë¨¸ì‹ ëŸ¬ë‹" â†’ "ë¨¸ì‹  ëŸ¬ë‹" (ë„ì–´ì“°ê¸° ìˆ˜ì •)<br>2. "ì¸ê³µì§€ëŠ¥" â†’ "AI" (ìš©ì–´ í†µì¼)',
                    reply: null
                }
            },
            { lineNo: 4, changed: false, text: "ì´ëŸ¬í•œ ê¸°ìˆ ë“¤ì€ ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ í™œìš©ë˜ê³  ìˆìœ¼ë©°, ë¯¸ë˜ ì‚¬íšŒì— í° ë³€í™”ë¥¼ ê°€ì ¸ì˜¬ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 5, 
                changed: true, 
                text: "íŠ¹íˆ <span class='diff-highlight'>ìì—°ì–´ì²˜ë¦¬</span>, ì»´í“¨í„° ë¹„ì „, ìŒì„±ì¸ì‹ ë“±ì˜ ë¶„ì•¼ì—ì„œ ëˆˆì— ë„ëŠ” ë°œì „ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: '"ìì—°ì–´ ì²˜ë¦¬" â†’ "ìì—°ì–´ì²˜ë¦¬" (ë„ì–´ì“°ê¸° ìˆ˜ì •)',
                    reply: null
                }
            },
            { 
                lineNo: 6, 
                changed: true, 
                text: "<span class='diff-highlight'>ì´ì œ</span> ê° ê¸°ìˆ ì— ëŒ€í•´ ìì„¸íˆ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.", 
                comment: {
                    category: "translation",
                    subcategory: "ê°„ê²°ì„± ë¶€ì¡±",
                    content: '"ê·¸ëŸ¼ ì´ì œ" â†’ "ì´ì œ" (ë¶ˆí•„ìš”í•œ ì ‘ì†ì–´ ì œê±°ë¡œ ê°„ê²°ì„± í–¥ìƒ)',
                    reply: {
                        author: "ê²€ìˆ˜ì",
                        time: "2025-01-28 10:15",
                        content: "ìˆ˜ì • ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ë” ê°„ê²°í•˜ê³  ìì—°ìŠ¤ëŸ¬ì›Œì¡Œë„¤ìš”."
                    }
                }
            },
            { 
                lineNo: 7, 
                changed: true, 
                text: "<span class='diff-highlight'>ë¨¸ì‹  ëŸ¬ë‹</span>ì€ ë°ì´í„°ë¥¼ í†µí•´ íŒ¨í„´ì„ í•™ìŠµí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: '"ë¨¸ì‹ ëŸ¬ë‹" â†’ "ë¨¸ì‹  ëŸ¬ë‹" (ë„ì–´ì“°ê¸° ìˆ˜ì •)',
                    reply: null
                }
            },
            { lineNo: 8, changed: false, text: "ì§€ë„í•™ìŠµ, ë¹„ì§€ë„í•™ìŠµ, ê°•í™”í•™ìŠµìœ¼ë¡œ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 9, 
                changed: true, 
                text: "ë”¥ëŸ¬ë‹ì€ <span class='diff-highlight'>ì¸ê³µ ì‹ ê²½ë§</span>ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ê¸°ê³„í•™ìŠµ ë°©ë²•ë¡ ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: '"ì¸ê³µì‹ ê²½ë§" â†’ "ì¸ê³µ ì‹ ê²½ë§" (ë„ì–´ì“°ê¸° ìˆ˜ì •)',
                    reply: null
                }
            },
            { lineNo: 10, changed: false, text: "CNN, RNN, íŠ¸ëœìŠ¤í¬ë¨¸ ë“± ë‹¤ì–‘í•œ ì•„í‚¤í…ì²˜ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 11, 
                changed: true, 
                text: "<span class='diff-highlight'>ìì—°ì–´ì²˜ë¦¬</span>ëŠ” ì»´í“¨í„°ê°€ ì¸ê°„ì˜ ì–¸ì–´ë¥¼ ì´í•´í•˜ê³  ìƒì„±í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ìš©ì–´ í†µì¼ì„± ë¶€ì¡±",
                    content: '"ìì—°ì–´ ì²˜ë¦¬" â†’ "ìì—°ì–´ì²˜ë¦¬" (ìš©ì–´ í†µì¼)',
                    reply: {
                        author: "ì‘ì—…ì",
                        time: "2025-01-28 11:20",
                        content: "ë„¤, ì•ìœ¼ë¡œ ìì—°ì–´ì²˜ë¦¬ë¡œ í†µì¼í•˜ì—¬ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤."
                    }
                }
            },
            { 
                lineNo: 12, 
                changed: true, 
                text: "<span class='diff-highlight'>í† í°í™”, í˜•íƒœì†Œë¶„ì„, êµ¬ë¬¸ë¶„ì„</span> ë“±ì˜ ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: 'ë³µí•©ì–´ ë„ì–´ì“°ê¸° í†µì¼: "í˜•íƒœì†Œ ë¶„ì„" â†’ "í˜•íƒœì†Œë¶„ì„", "êµ¬ë¬¸ ë¶„ì„" â†’ "êµ¬ë¬¸ë¶„ì„"',
                    reply: null
                }
            },
            { lineNo: 13, changed: false, text: "ìµœê·¼ì—ëŠ” BERT, GPTì™€ ê°™ì€ ëŒ€ê·œëª¨ ì–¸ì–´ëª¨ë¸ì´ ì£¼ëª©ë°›ê³  ìˆìŠµë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 14, 
                changed: true, 
                text: "<span class='diff-highlight'>ì»´í“¨í„°ë¹„ì „</span>ì€ ì´ë¯¸ì§€ì™€ ì˜ìƒì„ ë¶„ì„í•˜ê³  ì´í•´í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ìš©ì–´ í†µì¼ì„± ë¶€ì¡±",
                    content: '"ì»´í“¨í„° ë¹„ì „" â†’ "ì»´í“¨í„°ë¹„ì „" (ìš©ì–´ í†µì¼)',
                    reply: null
                }
            },
            { 
                lineNo: 15, 
                changed: true, 
                text: "<span class='diff-highlight'>ê°ì²´íƒì§€</span>, ì´ë¯¸ì§€ ë¶„ë¥˜, <span class='diff-highlight'>ì„¸ê·¸ë¨¼í…Œì´ì…˜</span> ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ìš©ì–´ì§‘ ë¯¸ë°˜ì˜",
                    content: '1. "ê°ì²´ íƒì§€" â†’ "ê°ì²´íƒì§€" (ìš©ì–´ì§‘ ë°˜ì˜)<br>2. "ì„¸ê·¸ë©˜í…Œì´ì…˜" â†’ "ì„¸ê·¸ë¨¼í…Œì´ì…˜" (ìš©ì–´ì§‘ ë°˜ì˜)',
                    reply: null
                }
            },
            { lineNo: 16, changed: false, text: "ìŒì„±ì¸ì‹ì€ ì‚¬ëŒì˜ ìŒì„±ì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 17, 
                changed: true, 
                text: "<span class='diff-highlight'>ìŒí–¥ëª¨ë¸</span>ê³¼ <span class='diff-highlight'>ì–¸ì–´ëª¨ë¸</span>ì„ ê²°í•©í•˜ì—¬ ì •í™•ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: 'ë³µí•©ì–´ ë„ì–´ì“°ê¸°: "ìŒí–¥ ëª¨ë¸" â†’ "ìŒí–¥ëª¨ë¸", "ì–¸ì–´ ëª¨ë¸" â†’ "ì–¸ì–´ëª¨ë¸"',
                    reply: null
                }
            },
            { 
                lineNo: 18, 
                changed: true, 
                text: "<span class='diff-highlight'>AI</span>ì˜ ìœ¤ë¦¬ì  ì´ìŠˆë„ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "translation",
                    subcategory: "ìš©ì–´ì§‘ ë¯¸ë°˜ì˜",
                    content: '"ì¸ê³µì§€ëŠ¥" â†’ "AI" (ìš©ì–´ì§‘ ë°˜ì˜)',
                    reply: null
                }
            },
            { lineNo: 19, changed: false, text: "í¸í–¥ì„±, íˆ¬ëª…ì„±, ì±…ì„ì„± ë“±ì˜ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í•©ë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 20, 
                changed: true, 
                text: "ë˜í•œ <span class='diff-highlight'>ê°œì¸ì •ë³´ë³´í˜¸</span>ì™€ ë°ì´í„° ë³´ì•ˆë„ ì¤‘ìš”í•©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: '"ê°œì¸ì •ë³´ ë³´í˜¸" â†’ "ê°œì¸ì •ë³´ë³´í˜¸" (ë„ì–´ì“°ê¸° ìˆ˜ì •)',
                    reply: null
                }
            },
            { 
                lineNo: 21, 
                changed: true, 
                text: "<span class='diff-highlight'>AI</span>ëŠ” ì˜ë£Œ, ê¸ˆìœµ, êµìœ¡ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì— ì ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.", 
                comment: {
                    category: "translation",
                    subcategory: "ìš©ì–´ì§‘ ë¯¸ë°˜ì˜",
                    content: '"ì¸ê³µì§€ëŠ¥" â†’ "AI" (ìš©ì–´ì§‘ ë°˜ì˜)',
                    reply: null
                }
            },
            { 
                lineNo: 22, 
                changed: true, 
                text: "ì˜ë£Œ ë¶„ì•¼ì—ì„œëŠ” <span class='diff-highlight'>ì§„ë‹¨ë³´ì¡°</span>, <span class='diff-highlight'>ì‹ ì•½ê°œë°œ</span> ë“±ì— í™œìš©ë©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: 'ë³µí•©ì–´ ë„ì–´ì“°ê¸°: "ì§„ë‹¨ ë³´ì¡°" â†’ "ì§„ë‹¨ë³´ì¡°", "ì‹ ì•½ ê°œë°œ" â†’ "ì‹ ì•½ê°œë°œ"',
                    reply: null
                }
            },
            { 
                lineNo: 23, 
                changed: true, 
                text: "ê¸ˆìœµ ë¶„ì•¼ì—ì„œëŠ” <span class='diff-highlight'>ë¦¬ìŠ¤í¬ê´€ë¦¬</span>, <span class='diff-highlight'>ì•Œê³ ë¦¬ì¦˜íŠ¸ë ˆì´ë”©</span>ì— ì‚¬ìš©ë©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: 'ë³µí•©ì–´ ë„ì–´ì“°ê¸°: "ë¦¬ìŠ¤í¬ ê´€ë¦¬" â†’ "ë¦¬ìŠ¤í¬ê´€ë¦¬", "ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”©" â†’ "ì•Œê³ ë¦¬ì¦˜íŠ¸ë ˆì´ë”©"',
                    reply: null
                }
            },
            { 
                lineNo: 24, 
                changed: true, 
                text: "êµìœ¡ ë¶„ì•¼ì—ì„œëŠ” ê°œì¸í™”ëœ í•™ìŠµ, <span class='diff-highlight'>ìë™ì±„ì ì‹œìŠ¤í…œ</span>ì„ ì œê³µí•©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: '"ìë™ ì±„ì  ì‹œìŠ¤í…œ" â†’ "ìë™ì±„ì ì‹œìŠ¤í…œ" (ë³µí•©ì–´ ë„ì–´ì“°ê¸°)',
                    reply: null
                }
            },
            { 
                lineNo: 25, 
                changed: true, 
                text: "<span class='diff-highlight'>ììœ¨ì£¼í–‰ì°¨</span>ëŠ” <span class='diff-highlight'>AI</span>ì˜ ëŒ€í‘œì ì¸ ì‘ìš© ì‚¬ë¡€ì…ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ìš©ì–´ í†µì¼ì„± ë¶€ì¡±",
                    content: '1. "ììœ¨ì£¼í–‰ì°¨" â†’ "ììœ¨ì£¼í–‰ì°¨" (ë„ì–´ì“°ê¸° í†µì¼)<br>2. "ì¸ê³µì§€ëŠ¥" â†’ "AI" (ìš©ì–´ í†µì¼)',
                    reply: null
                }
            },
            { lineNo: 26, changed: false, text: "ì„¼ì„œ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì•ˆì „í•œ ì£¼í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.", comment: null },
            { 
                lineNo: 27, 
                changed: true, 
                text: "<span class='diff-highlight'>ìŠ¤ë§ˆíŠ¸ì‹œí‹°</span> êµ¬ì¶•ì—ë„ <span class='diff-highlight'>AI</span> ê¸°ìˆ ì´ í•µì‹¬ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ìš©ì–´ í†µì¼ì„± ë¶€ì¡±",
                    content: '1. "ìŠ¤ë§ˆíŠ¸ ì‹œí‹°" â†’ "ìŠ¤ë§ˆíŠ¸ì‹œí‹°" (ìš©ì–´ í†µì¼)<br>2. "ì¸ê³µì§€ëŠ¥" â†’ "AI" (ìš©ì–´ í†µì¼)',
                    reply: {
                        author: "ê²€ìˆ˜ì",
                        time: "2025-01-28 14:30",
                        content: "ìš©ì–´ í†µì¼ ì‘ì—…ì´ ì˜ ë˜ì—ˆìŠµë‹ˆë‹¤."
                    }
                }
            },
            { 
                lineNo: 28, 
                changed: true, 
                text: "<span class='diff-highlight'>êµí†µìµœì í™”</span>, <span class='diff-highlight'>ì—ë„ˆì§€íš¨ìœ¨ì„±</span> í–¥ìƒ ë“±ì— ê¸°ì—¬í•©ë‹ˆë‹¤.", 
                comment: {
                    category: "guideline",
                    subcategory: "ë§ì¶¤ë²•/ë„ì–´ì“°ê¸°/ë¬¸ì¥ë¶€í˜¸ ì˜¤ë¥˜",
                    content: 'ë³µí•©ì–´ ë„ì–´ì“°ê¸°: "êµí†µ ìµœì í™”" â†’ "êµí†µìµœì í™”", "ì—ë„ˆì§€ íš¨ìœ¨ì„±" â†’ "ì—ë„ˆì§€íš¨ìœ¨ì„±"',
                    reply: null
                }
            },
            { 
                lineNo: 29, 
                changed: true, 
                text: "ì•ìœ¼ë¡œ <span class='diff-highlight'>AI</span>ëŠ” ë”ìš± ë°œì „í•˜ì—¬ ìš°ë¦¬ ìƒí™œì— ê¹Šìˆ™ì´ ìŠ¤ë©°ë“¤ ê²ƒì…ë‹ˆë‹¤.", 
                comment: {
                    category: "translation",
                    subcategory: "ìš©ì–´ì§‘ ë¯¸ë°˜ì˜",
                    content: '"ì¸ê³µì§€ëŠ¥" â†’ "AI" (ìš©ì–´ì§‘ ë°˜ì˜)',
                    reply: null
                }
            },
            { 
                lineNo: 30, 
                changed: true, 
                text: "ì§€ì†ì ì¸ ì—°êµ¬ì™€ ê°œë°œì„ í†µí•´ <span class='diff-highlight'>ì¸ë¥˜ì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ë°©í–¥ìœ¼ë¡œ</span> ë°œì „ì‹œì¼œì•¼ í•©ë‹ˆë‹¤.", 
                comment: {
                    category: "translation",
                    subcategory: "ì–´ìƒ‰í•œ ë¬¸ì¥ êµ¬ì„±",
                    content: 'ë¬¸ì¥ êµ¬ì¡° ê°œì„ : "ì¸ë¥˜ì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ë°©í–¥ìœ¼ë¡œ" â†’ ë” ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„ìœ¼ë¡œ ìˆ˜ì •',
                    reply: {
                        author: "ì‘ì—…ì",
                        time: "2025-01-28 15:45",
                        content: "ì¢€ ë” ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„ìœ¼ë¡œ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤."
                    }
                }
            }
        ];

        // ë°ì´í„° ë Œë”ë§ í•¨ìˆ˜
        function renderData() {
            const originalPanel = document.getElementById('original-panel');
            const reviewedPanel = document.getElementById('reviewed-panel');
            const overviewRuler = document.getElementById('overview-ruler');

            // ì‘ì—…ë³¸ ë°ì´í„° ë Œë”ë§
            originalPanel.innerHTML = originalData.map(item => `
                <div class="text-item">
                    <div class="item-header">
                        <span class="line-no">${item.lineNo}</span>
                        <span class="timecode">${item.timecode}</span>
                    </div>
                    <div class="text-content">
                        ${item.text}
                    </div>
                </div>
            `).join('');

            // ê²€ìˆ˜ë³¸ ë°ì´í„° ë Œë”ë§
            reviewedPanel.innerHTML = reviewedData.map(item => `
                <div class="text-item${item.changed ? ' changed' : ''}">
                    <div class="item-header">
                        <span class="line-no">${item.lineNo}</span>
                        <span class="timecode">${originalData[item.lineNo - 1].timecode}</span>
                    </div>
                    <div class="text-content${item.changed ? ' changed' : ''}">
                        ${item.text}
                    </div>
                    ${item.comment ? `
                        <div class="comment-section">
                            <div class="comment-label">
                                <span>ğŸ’¬</span>
                                ì½”ë©˜íŠ¸
                                <span class="comment-category-tag ${item.comment.category}">${getCategoryName(item.comment.category)}</span>
                                <span class="comment-subcategory-tag">${item.comment.subcategory}</span>
                            </div>
                            ${item.comment.content}
                            ${item.comment.reply ? `
                                <div class="comment-reply">
                                    <div class="reply-header">
                                        <span>â†³</span>
                                        <span class="reply-author">${item.comment.reply.author}</span>
                                        <span class="reply-time">${item.comment.reply.time}</span>
                                    </div>
                                    <div class="reply-content">
                                        ${item.comment.reply.content}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    ` : ''}
                </div>
            `).join('');

            // Overview Ruler ë§ˆì»¤ ìƒì„±
            const changedItems = reviewedData.filter(item => item.changed);
            overviewRuler.innerHTML = changedItems.map((item, index) => {
                const position = (item.lineNo / 30) * 100;
                return `<div class="ruler-marker" style="top: ${position}%;" title="ë¼ì¸ ${item.lineNo}: ${getCategoryName(item.comment.category)} > ${item.comment.subcategory}" onclick="scrollToLine(${item.lineNo})"></div>`;
            }).join('');
        }

        // ì¹´í…Œê³ ë¦¬ ì´ë¦„ ë³€í™˜
        function getCategoryName(category) {
            const names = {
                'translation': 'ë²ˆì—­',
                'guideline': 'ê°€ì´ë“œë¼ì¸',
                'sync': 'ì‹±í¬',
                'other': 'ê¸°íƒ€'
            };
            return names[category] || category;
        }

        // íŒŒì¼ ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜
        function downloadComparison() {
            alert('ì‘ì—…ë³¸, ê²€ìˆ˜ë³¸ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.');
        }

        // Overview Ruler í´ë¦­ ì‹œ í•´ë‹¹ ë¼ì¸ìœ¼ë¡œ ìŠ¤í¬ë¡¤
        function scrollToLine(lineNo) {
            const reviewedPanel = document.getElementById('reviewed-panel');
            const targetItem = reviewedPanel.querySelector(`.text-item:nth-child(${lineNo})`);
            
            if (targetItem) {
                targetItem.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
                
                // ì„ì‹œ í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼
                targetItem.style.backgroundColor = '#fbbf24';
                setTimeout(() => {
                    targetItem.style.backgroundColor = '';
                }, 1000);
            }
        }

        // íŒ¨ë„ ë™ê¸°í™” ìŠ¤í¬ë¡¤
        let isScrolling = false;
        
        document.getElementById('original-panel').addEventListener('scroll', function() {
            if (!isScrolling) {
                isScrolling = true;
                const scrollPercent = this.scrollTop / (this.scrollHeight - this.clientHeight);
                const reviewedPanel = document.getElementById('reviewed-panel');
                reviewedPanel.scrollTop = scrollPercent * (reviewedPanel.scrollHeight - reviewedPanel.clientHeight);
                setTimeout(() => isScrolling = false, 100);
            }
        });
        
        document.getElementById('reviewed-panel').addEventListener('scroll', function() {
            if (!isScrolling) {
                isScrolling = true;
                const scrollPercent = this.scrollTop / (this.scrollHeight - this.clientHeight);
                const originalPanel = document.getElementById('original-panel');
                originalPanel.scrollTop = scrollPercent * (originalPanel.scrollHeight - originalPanel.clientHeight);
                setTimeout(() => isScrolling = false, 100);
            }
        });

        // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const orderNumber = urlParams.get('orderNumber');
            const fileName = urlParams.get('fileName');
            
            if (orderNumber || fileName) {
                let titleText = 'ì‘ì—…ë¬¼ ë¹„êµ';
                
                if (orderNumber) {
                    titleText += ` - ì£¼ë¬¸ë²ˆí˜¸: ${decodeURIComponent(orderNumber)}`;
                }
                
                if (fileName) {
                    titleText += ` | íŒŒì¼: ${decodeURIComponent(fileName)}`;
                }
                
                document.querySelector('.header-title').innerHTML = `
                    <span>ğŸ”</span>
                    ${titleText}
                `;
            }
            
            // ì°½ ìµœëŒ€í™” ì‹œë„
            try {
                if (window.outerHeight < screen.availHeight || window.outerWidth < screen.availWidth) {
                    window.moveTo(0, 0);
                    window.resizeTo(screen.availWidth, screen.availHeight);
                }
            } catch (e) {
                console.log('ì°½ í¬ê¸° ì¡°ì • ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤:', e);
            }

            // ë°ì´í„° ë Œë”ë§
            renderData();
        });
    </script>
</body>
</html>
