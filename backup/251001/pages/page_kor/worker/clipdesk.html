<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í´ë¦½ë°ìŠ¤í¬ ì‘ì—… - ì†Œë¦¬ë°”ë¡œ ì‘ì—…ì</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            padding: 30px;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .page-title {
            font-size: 28px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        /* ê²€ìƒ‰ ì˜ì—­ */
        .search-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            margin-bottom: 25px;
        }
        
        .search-grid-unified {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            align-items: end;
            margin-bottom: 15px;
        }
        
        .date-range-group {
            display: flex;
            gap: 8px;
            align-items: end;
        }
        
        .date-range-group .form-group {
            flex: 1;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-size: 13px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 6px;
        }
        
        .form-group input,
        .form-group select {
            padding: 8px 10px;
            border: 1px solid #d1d5db;
            border-radius: 5px;
            font-size: 13px;
            background: white;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .search-buttons {
            display: flex;
            gap: 6px;
            justify-content: flex-end;
            align-items: end;
        }
        
        .btn {
            height: 35px;
            padding: 0 14px;
            border: none;
            border-radius: 5px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            box-sizing: border-box;
        }
        
        .btn-primary {
            background: #27ae60;
            color: white;
        }
        
        .btn-primary:hover {
            background: #219a52;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-success:hover {
            background: #059669;
        }
        
        /* í…Œì´ë¸” */
        .table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            overflow: hidden;
            margin-bottom: 25px;
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1200px;
        }
        
        .data-table thead {
            background: #f8f9fa;
        }
        
        .data-table th,
        .data-table td {
            padding: 16px 12px;
            text-align: center;
            border-bottom: 1px solid #e5e7eb;
            font-size: 14px;
        }
        
        .data-table th {
            font-weight: 600;
            color: #374151;
            background: #f8f9fa;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        
        .data-table tbody tr {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .data-table tbody tr:hover {
            background-color: #f3f4f6;
        }
        
        .data-table td {
            color: #4b5563;
        }
        
        /* ìƒíƒœ ë°°ì§€ */
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            display: inline-block;
        }
        
        .status-received {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .status-inprogress {
            background: #fef3c7;
            color: #d97706;
        }
        
        .status-completed {
            background: #d1fae5;
            color: #065f46;
        }
        
        /* í˜ì´ì§• */
        .pagination-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 25px;
        }
        
        .btn-outline {
            background: white;
            border: 1px solid #d1d5db;
            color: #6b7280;
        }
        
        .btn-outline:hover {
            background: #f3f4f6;
            border-color: #9ca3af;
        }
        
        .btn-sm {
            padding: 8px 12px;
            font-size: 13px;
        }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .search-grid-unified {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-buttons {
                justify-content: stretch;
            }
            
            .btn {
                flex: 1;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <h1 class="page-title">
        <span>ğŸ¬</span>
        í´ë¦½ë°ìŠ¤í¬ ì‘ì—…
    </h1>
    
    <!-- ê²€ìƒ‰ ì˜ì—­ -->
    <div class="search-section">
        <div class="search-grid-unified">
            <div class="date-range-group">
                <div class="form-group">
                    <label for="assign-start-date">ë‚ ì§œ ê²€ìƒ‰</label>
                    <input type="date" id="assign-start-date" value="2025-08-01">
                </div>
                <div class="form-group">
                    <input type="date" id="assign-end-date" value="2025-09-02">
                </div>
            </div>
            <div class="search-buttons">
                <button class="btn btn-primary" onclick="searchClipdesks()">
                    <span>ğŸ”</span>
                    ê²€ìƒ‰
                </button>
                <button class="btn btn-success" onclick="downloadExcel()">
                    <span>ğŸ“Š</span>
                    ì—‘ì…€ ë‹¤ìš´ë¡œë“œ
                </button>
            </div>
        </div>
    </div>
    
    <!-- í…Œì´ë¸” -->
    <div class="table-container">
        <div class="table-responsive">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>ë°°ì •ì¼</th>
                        <th>ì˜ë¢°ëª…</th>
                        <th>ì„œë¸Œíƒ€ì´í‹€</th>
                        <th>ì‘ì—…ì‹œê°„</th>
                        <th>ì§„í–‰ìƒíƒœ</th>
                        <th>ì œì¶œì¼</th>
                    </tr>
                </thead>
                <tbody>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>8</td>
                        <td>2025-09-01 18:12:29</td>
                        <td>ê¸°ì—… í™ë³´ì˜ìƒ ì œì‘</td>
                        <td>2025ë…„ ì‹ ì œí’ˆ ëŸ°ì¹­ í™ë³´ì˜ìƒ</td>
                        <td>04:30:00</td>
                        <td><span class="status-badge status-completed">ì™„ë£Œ</span></td>
                        <td>2025-09-01 21:30:15</td>
                    </tr>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>7</td>
                        <td>2025-09-01 14:25:15</td>
                        <td>êµìœ¡ ì½˜í…ì¸  í¸ì§‘</td>
                        <td>ì˜¨ë¼ì¸ ê°•ì˜ ì˜ìƒ í¸ì§‘</td>
                        <td>02:45:30</td>
                        <td><span class="status-badge status-inprogress">ì‘ì—…ì¤‘</span></td>
                        <td>-</td>
                    </tr>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>6</td>
                        <td>2025-08-31 16:30:45</td>
                        <td>ë¸Œëœë“œ ì˜ìƒ ì œì‘</td>
                        <td>ì¹´í˜ ë¸Œëœë“œ ìŠ¤í† ë¦¬ ì˜ìƒ</td>
                        <td>03:15:20</td>
                        <td><span class="status-badge status-completed">ì™„ë£Œ</span></td>
                        <td>2025-08-31 20:15:30</td>
                    </tr>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>5</td>
                        <td>2025-08-31 10:15:30</td>
                        <td>ì œí’ˆ ì†Œê°œì˜ìƒ</td>
                        <td>ìŠ¤ë§ˆíŠ¸í° ì‹ ê¸°ëŠ¥ ì†Œê°œ</td>
                        <td>01:50:15</td>
                        <td><span class="status-badge status-inprogress">ì‘ì—…ì¤‘</span></td>
                        <td>-</td>
                    </tr>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>4</td>
                        <td>2025-08-30 13:45:18</td>
                        <td>ì´ë²¤íŠ¸ ì˜ìƒ í¸ì§‘</td>
                        <td>ì—¬ë¦„ ì„¸ì¼ ì´ë²¤íŠ¸ ì˜ìƒ</td>
                        <td>02:20:40</td>
                        <td><span class="status-badge status-completed">ì™„ë£Œ</span></td>
                        <td>2025-08-30 18:45:22</td>
                    </tr>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>3</td>
                        <td>2025-08-30 09:20:12</td>
                        <td>ìœ íŠœë¸Œ ì½˜í…ì¸  í¸ì§‘</td>
                        <td>ë¸Œì´ë¡œê·¸ ì˜ìƒ í¸ì§‘</td>
                        <td>01:35:30</td>
                        <td><span class="status-badge status-received">ì ‘ìˆ˜</span></td>
                        <td>-</td>
                    </tr>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>2</td>
                        <td>2025-08-29 15:10:25</td>
                        <td>ê´‘ê³  ì˜ìƒ ì œì‘</td>
                        <td>í™”ì¥í’ˆ ê´‘ê³  ì˜ìƒ</td>
                        <td>03:40:15</td>
                        <td><span class="status-badge status-completed">ì™„ë£Œ</span></td>
                        <td>2025-08-29 17:30:45</td>
                    </tr>
                    <tr onclick="openClipDeskDetail(this)">
                        <td>1</td>
                        <td>2025-08-29 11:35:08</td>
                        <td>ì¸í„°ë·° ì˜ìƒ í¸ì§‘</td>
                        <td>CEO ì¸í„°ë·° ì˜ìƒ</td>
                        <td>02:25:20</td>
                        <td><span class="status-badge status-inprogress">ì‘ì—…ì¤‘</span></td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- í˜ì´ì§• -->
    <div class="pagination-container">
        <button class="btn btn-outline btn-sm">ì²« í˜ì´ì§€</button>
        <button class="btn btn-outline btn-sm">ì´ì „</button>
        <div style="display: flex; gap: 5px;">
            <button class="btn btn-primary btn-sm">1</button>
            <button class="btn btn-outline btn-sm">2</button>
            <button class="btn btn-outline btn-sm">3</button>
        </div>
        <button class="btn btn-outline btn-sm">ë‹¤ìŒ</button>
        <button class="btn btn-outline btn-sm">ë§ˆì§€ë§‰ í˜ì´ì§€</button>
    </div>

    <script>
        // ê²€ìƒ‰ ê¸°ëŠ¥
        function searchClipdesks() {
            const assignStartDate = document.getElementById('assign-start-date').value;
            const assignEndDate = document.getElementById('assign-end-date').value;
            
            console.log('ê²€ìƒ‰ ì¡°ê±´:', {
                assignStartDate, assignEndDate
            });
            
            alert('í´ë¦½ë°ìŠ¤í¬ ì‘ì—… ê²€ìƒ‰ ê¸°ëŠ¥ì´ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\n\në°°ì •ì¼: ' + assignStartDate + ' ~ ' + assignEndDate);
        }
        
        // ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        function downloadExcel() {
            const assignStartDate = document.getElementById('assign-start-date').value;
            const assignEndDate = document.getElementById('assign-end-date').value;
            
            console.log('ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ì¡°ê±´:', {
                assignStartDate, assignEndDate
            });
            
            alert('í´ë¦½ë°ìŠ¤í¬ ì‘ì—… ëª©ë¡ì„ ì—‘ì…€ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\n\nê¸°ê°„: ' + assignStartDate + ' ~ ' + assignEndDate + '\n\nì‹¤ì œ í™˜ê²½ì—ì„œëŠ” Excel íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤.');
        }
        
        // ìƒì„¸ í˜ì´ì§€ ì´ë™
        function openClipDeskDetail(row) {
            const cells = row.cells;
            const no = cells[0].textContent;
            const assignDate = cells[1].textContent;
            const requestTitle = cells[2].textContent;
            const subTitle = cells[3].textContent;
            const workTime = cells[4].textContent;
            const status = cells[5].querySelector('.status-badge').textContent;
            const submitDate = cells[6].textContent;
            
            // URL íŒŒë¼ë¯¸í„° ìƒì„±
            const params = new URLSearchParams({
                orderNumber: 'CLP-2025-' + no.padStart(3, '0'),
                requestTitle: requestTitle,
                subTitle: subTitle,
                workTime: workTime,
                status: status,
                assignDate: assignDate,
                submitDate: submitDate,
                clientName: 'í´ë¦½ë°ìŠ¤í¬ ê³ ê°',
                email: 'customer@clipdesk.com',
                contact: '010-1234-5678',
                requestDate: assignDate,
                totalAmount: '450000'
            });
            
            // í˜ì´ì§€ ì´ë™
            try {
                // iframe í™˜ê²½ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
                if (window.parent && window.parent !== window && typeof window.parent.loadPage === 'function') {
                    const detailUrl = `pages/page_kor/worker/clipdesk-detail.html?${params.toString()}`;
                    window.parent.loadPage(detailUrl);
                } else {
                    const detailUrl = `clipdesk-detail.html?${params.toString()}`;
                    window.location.href = detailUrl;
                }
            } catch (error) {
                // ì˜¤ë¥˜ ë°œìƒ ì‹œ ê¸°ë³¸ì ì¸ í˜ì´ì§€ ì´ë™ ì‹œë„
                window.location.href = `clipdesk-detail.html?${params.toString()}`;
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ëª¨ë“  í…Œì´ë¸” í–‰ì— í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
            const tableRows = document.querySelectorAll('.data-table tbody tr');
            
            tableRows.forEach((row) => {
                row.addEventListener('click', function(event) {
                    event.preventDefault();
                    event.stopPropagation();
                    openClipDeskDetail(this);
                });
                
                // ì»¤ì„œ í¬ì¸í„° ìŠ¤íƒ€ì¼ ì¶”ê°€
                row.style.cursor = 'pointer';
            });
        });
    </script>
</body>
</html>
